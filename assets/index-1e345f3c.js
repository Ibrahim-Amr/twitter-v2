function cM(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function W0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function dM(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Mu={},hM={get exports(){return Mu},set exports(t){Mu=t}},dp={},E={},fM={get exports(){return E},set exports(t){E=t}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kc=Symbol.for("react.element"),pM=Symbol.for("react.portal"),mM=Symbol.for("react.fragment"),gM=Symbol.for("react.strict_mode"),yM=Symbol.for("react.profiler"),vM=Symbol.for("react.provider"),wM=Symbol.for("react.context"),_M=Symbol.for("react.forward_ref"),EM=Symbol.for("react.suspense"),bM=Symbol.for("react.memo"),SM=Symbol.for("react.lazy"),_E=Symbol.iterator;function TM(t){return t===null||typeof t!="object"?null:(t=_E&&t[_E]||t["@@iterator"],typeof t=="function"?t:null)}var _R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ER=Object.assign,bR={};function el(t,e,n){this.props=t,this.context=e,this.refs=bR,this.updater=n||_R}el.prototype.isReactComponent={};el.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};el.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function SR(){}SR.prototype=el.prototype;function q0(t,e,n){this.props=t,this.context=e,this.refs=bR,this.updater=n||_R}var K0=q0.prototype=new SR;K0.constructor=q0;ER(K0,el.prototype);K0.isPureReactComponent=!0;var EE=Array.isArray,TR=Object.prototype.hasOwnProperty,G0={current:null},xR={key:!0,ref:!0,__self:!0,__source:!0};function RR(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)TR.call(e,r)&&!xR.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:kc,type:t,key:s,ref:o,props:i,_owner:G0.current}}function xM(t,e){return{$$typeof:kc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Q0(t){return typeof t=="object"&&t!==null&&t.$$typeof===kc}function RM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var bE=/\/+/g;function ig(t,e){return typeof t=="object"&&t!==null&&t.key!=null?RM(""+t.key):e.toString(36)}function ch(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case kc:case pM:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ig(o,0):r,EE(i)?(n="",t!=null&&(n=t.replace(bE,"$&/")+"/"),ch(i,e,n,"",function(u){return u})):i!=null&&(Q0(i)&&(i=xM(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(bE,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",EE(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+ig(s,a);o+=ch(s,e,n,l,i)}else if(l=TM(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+ig(s,a++),o+=ch(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function _d(t,e,n){if(t==null)return t;var r=[],i=0;return ch(t,r,"","",function(s){return e.call(n,s,i++)}),r}function kM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var yn={current:null},dh={transition:null},CM={ReactCurrentDispatcher:yn,ReactCurrentBatchConfig:dh,ReactCurrentOwner:G0};Oe.Children={map:_d,forEach:function(t,e,n){_d(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return _d(t,function(){e++}),e},toArray:function(t){return _d(t,function(e){return e})||[]},only:function(t){if(!Q0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Oe.Component=el;Oe.Fragment=mM;Oe.Profiler=yM;Oe.PureComponent=q0;Oe.StrictMode=gM;Oe.Suspense=EM;Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CM;Oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ER({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=G0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)TR.call(e,l)&&!xR.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:kc,type:t.type,key:i,ref:s,props:r,_owner:o}};Oe.createContext=function(t){return t={$$typeof:wM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:vM,_context:t},t.Consumer=t};Oe.createElement=RR;Oe.createFactory=function(t){var e=RR.bind(null,t);return e.type=t,e};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(t){return{$$typeof:_M,render:t}};Oe.isValidElement=Q0;Oe.lazy=function(t){return{$$typeof:SM,_payload:{_status:-1,_result:t},_init:kM}};Oe.memo=function(t,e){return{$$typeof:bM,type:t,compare:e===void 0?null:e}};Oe.startTransition=function(t){var e=dh.transition;dh.transition={};try{t()}finally{dh.transition=e}};Oe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Oe.useCallback=function(t,e){return yn.current.useCallback(t,e)};Oe.useContext=function(t){return yn.current.useContext(t)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(t){return yn.current.useDeferredValue(t)};Oe.useEffect=function(t,e){return yn.current.useEffect(t,e)};Oe.useId=function(){return yn.current.useId()};Oe.useImperativeHandle=function(t,e,n){return yn.current.useImperativeHandle(t,e,n)};Oe.useInsertionEffect=function(t,e){return yn.current.useInsertionEffect(t,e)};Oe.useLayoutEffect=function(t,e){return yn.current.useLayoutEffect(t,e)};Oe.useMemo=function(t,e){return yn.current.useMemo(t,e)};Oe.useReducer=function(t,e,n){return yn.current.useReducer(t,e,n)};Oe.useRef=function(t){return yn.current.useRef(t)};Oe.useState=function(t){return yn.current.useState(t)};Oe.useSyncExternalStore=function(t,e,n){return yn.current.useSyncExternalStore(t,e,n)};Oe.useTransition=function(){return yn.current.useTransition()};Oe.version="18.2.0";(function(t){t.exports=Oe})(fM);const _e=W0(E),Cy=cM({__proto__:null,default:_e},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AM=E,IM=Symbol.for("react.element"),NM=Symbol.for("react.fragment"),LM=Object.prototype.hasOwnProperty,PM=AM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,OM={key:!0,ref:!0,__self:!0,__source:!0};function kR(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)LM.call(e,r)&&!OM.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:IM,type:t,key:s,ref:o,props:i,_owner:PM.current}}dp.Fragment=NM;dp.jsx=kR;dp.jsxs=kR;(function(t){t.exports=dp})(hM);const ct=Mu.Fragment,b=Mu.jsx,H=Mu.jsxs;var Ay={},$u={},DM={get exports(){return $u},set exports(t){$u=t}},Bn={},Iy={},MM={get exports(){return Iy},set exports(t){Iy=t}},CR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,B){var ee=N.length;N.push(B);e:for(;0<ee;){var te=ee-1>>>1,C=N[te];if(0<i(C,B))N[te]=B,N[ee]=C,ee=te;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var B=N[0],ee=N.pop();if(ee!==B){N[0]=ee;e:for(var te=0,C=N.length,P=C>>>1;te<P;){var O=2*(te+1)-1,ne=N[O],X=O+1,pe=N[X];if(0>i(ne,ee))X<C&&0>i(pe,ne)?(N[te]=pe,N[X]=ee,te=X):(N[te]=ne,N[O]=ee,te=O);else if(X<C&&0>i(pe,ee))N[te]=pe,N[X]=ee,te=X;else break e}}return B}function i(N,B){var ee=N.sortIndex-B.sortIndex;return ee!==0?ee:N.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,m=!1,p=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(N){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=N)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function _(N){if(p=!1,y(N),!m)if(n(l)!==null)m=!0,Z(S);else{var B=n(u);B!==null&&A(_,B.startTime-N)}}function S(N,B){m=!1,p&&(p=!1,v(I),I=-1),f=!0;var ee=h;try{for(y(B),d=n(l);d!==null&&(!(d.expirationTime>B)||N&&!de());){var te=d.callback;if(typeof te=="function"){d.callback=null,h=d.priorityLevel;var C=te(d.expirationTime<=B);B=t.unstable_now(),typeof C=="function"?d.callback=C:d===n(l)&&r(l),y(B)}else r(l);d=n(l)}if(d!==null)var P=!0;else{var O=n(u);O!==null&&A(_,O.startTime-B),P=!1}return P}finally{d=null,h=ee,f=!1}}var k=!1,R=null,I=-1,K=5,z=-1;function de(){return!(t.unstable_now()-z<K)}function ve(){if(R!==null){var N=t.unstable_now();z=N;var B=!0;try{B=R(!0,N)}finally{B?J():(k=!1,R=null)}}else k=!1}var J;if(typeof g=="function")J=function(){g(ve)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,W=$.port2;$.port1.onmessage=ve,J=function(){W.postMessage(null)}}else J=function(){w(ve,0)};function Z(N){R=N,k||(k=!0,J())}function A(N,B){I=w(function(){N(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,Z(S))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var ee=h;h=B;try{return N()}finally{h=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,B){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var ee=h;h=N;try{return B()}finally{h=ee}},t.unstable_scheduleCallback=function(N,B,ee){var te=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?te+ee:te):ee=te,N){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ee+C,N={id:c++,callback:B,priorityLevel:N,startTime:ee,expirationTime:C,sortIndex:-1},ee>te?(N.sortIndex=ee,e(u,N),n(l)===null&&N===n(u)&&(p?(v(I),I=-1):p=!0,A(_,ee-te))):(N.sortIndex=C,e(l,N),m||f||(m=!0,Z(S))),N},t.unstable_shouldYield=de,t.unstable_wrapCallback=function(N){var B=h;return function(){var ee=h;h=B;try{return N.apply(this,arguments)}finally{h=ee}}}})(CR);(function(t){t.exports=CR})(MM);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AR=E,Un=Iy;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var IR=new Set,Uu={};function Ro(t,e){Sa(t,e),Sa(t+"Capture",e)}function Sa(t,e){for(Uu[t]=e,t=0;t<e.length;t++)IR.add(e[t])}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ny=Object.prototype.hasOwnProperty,$M=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,SE={},TE={};function UM(t){return Ny.call(TE,t)?!0:Ny.call(SE,t)?!1:$M.test(t)?TE[t]=!0:(SE[t]=!0,!1)}function VM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function FM(t,e,n,r){if(e===null||typeof e>"u"||VM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Gt[t]=new vn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Gt[e]=new vn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Gt[t]=new vn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Gt[t]=new vn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Gt[t]=new vn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Gt[t]=new vn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Gt[t]=new vn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Gt[t]=new vn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Gt[t]=new vn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Y0=/[\-:]([a-z])/g;function X0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Y0,X0);Gt[e]=new vn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Y0,X0);Gt[e]=new vn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Y0,X0);Gt[e]=new vn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Gt[t]=new vn(t,1,!1,t.toLowerCase(),null,!1,!1)});Gt.xlinkHref=new vn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Gt[t]=new vn(t,1,!1,t.toLowerCase(),null,!0,!0)});function J0(t,e,n,r){var i=Gt.hasOwnProperty(e)?Gt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(FM(e,n,i,r)&&(n=null),r||i===null?UM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var wi=AR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ed=Symbol.for("react.element"),Ho=Symbol.for("react.portal"),Wo=Symbol.for("react.fragment"),Z0=Symbol.for("react.strict_mode"),Ly=Symbol.for("react.profiler"),NR=Symbol.for("react.provider"),LR=Symbol.for("react.context"),ew=Symbol.for("react.forward_ref"),Py=Symbol.for("react.suspense"),Oy=Symbol.for("react.suspense_list"),tw=Symbol.for("react.memo"),Ai=Symbol.for("react.lazy"),PR=Symbol.for("react.offscreen"),xE=Symbol.iterator;function Tl(t){return t===null||typeof t!="object"?null:(t=xE&&t[xE]||t["@@iterator"],typeof t=="function"?t:null)}var dt=Object.assign,sg;function Wl(t){if(sg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);sg=e&&e[1]||""}return`
`+sg+t}var og=!1;function ag(t,e){if(!t||og)return"";og=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{og=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Wl(t):""}function BM(t){switch(t.tag){case 5:return Wl(t.type);case 16:return Wl("Lazy");case 13:return Wl("Suspense");case 19:return Wl("SuspenseList");case 0:case 2:case 15:return t=ag(t.type,!1),t;case 11:return t=ag(t.type.render,!1),t;case 1:return t=ag(t.type,!0),t;default:return""}}function Dy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wo:return"Fragment";case Ho:return"Portal";case Ly:return"Profiler";case Z0:return"StrictMode";case Py:return"Suspense";case Oy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case LR:return(t.displayName||"Context")+".Consumer";case NR:return(t._context.displayName||"Context")+".Provider";case ew:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case tw:return e=t.displayName||null,e!==null?e:Dy(t.type)||"Memo";case Ai:e=t._payload,t=t._init;try{return Dy(t(e))}catch{}}return null}function jM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dy(e);case 8:return e===Z0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function os(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function OR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function zM(t){var e=OR(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function bd(t){t._valueTracker||(t._valueTracker=zM(t))}function DR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=OR(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Vh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function My(t,e){var n=e.checked;return dt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function RE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=os(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function MR(t,e){e=e.checked,e!=null&&J0(t,"checked",e,!1)}function $y(t,e){MR(t,e);var n=os(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Uy(t,e.type,n):e.hasOwnProperty("defaultValue")&&Uy(t,e.type,os(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function kE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Uy(t,e,n){(e!=="number"||Vh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ql=Array.isArray;function ca(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+os(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Vy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return dt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function CE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(ql(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:os(n)}}function $R(t,e){var n=os(e.value),r=os(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function AE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function UR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?UR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Sd,VR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Sd=Sd||document.createElement("div"),Sd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Sd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Vu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var iu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},HM=["Webkit","ms","Moz","O"];Object.keys(iu).forEach(function(t){HM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),iu[e]=iu[t]})});function FR(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||iu.hasOwnProperty(t)&&iu[t]?(""+e).trim():e+"px"}function BR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=FR(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var WM=dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function By(t,e){if(e){if(WM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function jy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zy=null;function nw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hy=null,da=null,ha=null;function IE(t){if(t=Ic(t)){if(typeof Hy!="function")throw Error(q(280));var e=t.stateNode;e&&(e=gp(e),Hy(t.stateNode,t.type,e))}}function jR(t){da?ha?ha.push(t):ha=[t]:da=t}function zR(){if(da){var t=da,e=ha;if(ha=da=null,IE(t),e)for(t=0;t<e.length;t++)IE(e[t])}}function HR(t,e){return t(e)}function WR(){}var lg=!1;function qR(t,e,n){if(lg)return t(e,n);lg=!0;try{return HR(t,e,n)}finally{lg=!1,(da!==null||ha!==null)&&(WR(),zR())}}function Fu(t,e){var n=t.stateNode;if(n===null)return null;var r=gp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var Wy=!1;if(li)try{var xl={};Object.defineProperty(xl,"passive",{get:function(){Wy=!0}}),window.addEventListener("test",xl,xl),window.removeEventListener("test",xl,xl)}catch{Wy=!1}function qM(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var su=!1,Fh=null,Bh=!1,qy=null,KM={onError:function(t){su=!0,Fh=t}};function GM(t,e,n,r,i,s,o,a,l){su=!1,Fh=null,qM.apply(KM,arguments)}function QM(t,e,n,r,i,s,o,a,l){if(GM.apply(this,arguments),su){if(su){var u=Fh;su=!1,Fh=null}else throw Error(q(198));Bh||(Bh=!0,qy=u)}}function ko(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function KR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function NE(t){if(ko(t)!==t)throw Error(q(188))}function YM(t){var e=t.alternate;if(!e){if(e=ko(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return NE(i),t;if(s===r)return NE(i),e;s=s.sibling}throw Error(q(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function GR(t){return t=YM(t),t!==null?QR(t):null}function QR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=QR(t);if(e!==null)return e;t=t.sibling}return null}var YR=Un.unstable_scheduleCallback,LE=Un.unstable_cancelCallback,XM=Un.unstable_shouldYield,JM=Un.unstable_requestPaint,bt=Un.unstable_now,ZM=Un.unstable_getCurrentPriorityLevel,rw=Un.unstable_ImmediatePriority,XR=Un.unstable_UserBlockingPriority,jh=Un.unstable_NormalPriority,e2=Un.unstable_LowPriority,JR=Un.unstable_IdlePriority,hp=null,kr=null;function t2(t){if(kr&&typeof kr.onCommitFiberRoot=="function")try{kr.onCommitFiberRoot(hp,t,void 0,(t.current.flags&128)===128)}catch{}}var fr=Math.clz32?Math.clz32:i2,n2=Math.log,r2=Math.LN2;function i2(t){return t>>>=0,t===0?32:31-(n2(t)/r2|0)|0}var Td=64,xd=4194304;function Kl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Kl(a):(s&=o,s!==0&&(r=Kl(s)))}else o=n&~i,o!==0?r=Kl(o):s!==0&&(r=Kl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-fr(e),i=1<<n,r|=t[n],e&=~i;return r}function s2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function o2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-fr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=s2(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Ky(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ZR(){var t=Td;return Td<<=1,!(Td&4194240)&&(Td=64),t}function ug(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Cc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fr(e),t[e]=n}function a2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-fr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function iw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-fr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ke=0;function ek(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var tk,sw,nk,rk,ik,Gy=!1,Rd=[],qi=null,Ki=null,Gi=null,Bu=new Map,ju=new Map,Mi=[],l2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function PE(t,e){switch(t){case"focusin":case"focusout":qi=null;break;case"dragenter":case"dragleave":Ki=null;break;case"mouseover":case"mouseout":Gi=null;break;case"pointerover":case"pointerout":Bu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ju.delete(e.pointerId)}}function Rl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ic(e),e!==null&&sw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function u2(t,e,n,r,i){switch(e){case"focusin":return qi=Rl(qi,t,e,n,r,i),!0;case"dragenter":return Ki=Rl(Ki,t,e,n,r,i),!0;case"mouseover":return Gi=Rl(Gi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Bu.set(s,Rl(Bu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ju.set(s,Rl(ju.get(s)||null,t,e,n,r,i)),!0}return!1}function sk(t){var e=js(t.target);if(e!==null){var n=ko(e);if(n!==null){if(e=n.tag,e===13){if(e=KR(n),e!==null){t.blockedOn=e,ik(t.priority,function(){nk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);zy=r,n.target.dispatchEvent(r),zy=null}else return e=Ic(n),e!==null&&sw(e),t.blockedOn=n,!1;e.shift()}return!0}function OE(t,e,n){hh(t)&&n.delete(e)}function c2(){Gy=!1,qi!==null&&hh(qi)&&(qi=null),Ki!==null&&hh(Ki)&&(Ki=null),Gi!==null&&hh(Gi)&&(Gi=null),Bu.forEach(OE),ju.forEach(OE)}function kl(t,e){t.blockedOn===e&&(t.blockedOn=null,Gy||(Gy=!0,Un.unstable_scheduleCallback(Un.unstable_NormalPriority,c2)))}function zu(t){function e(i){return kl(i,t)}if(0<Rd.length){kl(Rd[0],t);for(var n=1;n<Rd.length;n++){var r=Rd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(qi!==null&&kl(qi,t),Ki!==null&&kl(Ki,t),Gi!==null&&kl(Gi,t),Bu.forEach(e),ju.forEach(e),n=0;n<Mi.length;n++)r=Mi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Mi.length&&(n=Mi[0],n.blockedOn===null);)sk(n),n.blockedOn===null&&Mi.shift()}var fa=wi.ReactCurrentBatchConfig,Hh=!0;function d2(t,e,n,r){var i=Ke,s=fa.transition;fa.transition=null;try{Ke=1,ow(t,e,n,r)}finally{Ke=i,fa.transition=s}}function h2(t,e,n,r){var i=Ke,s=fa.transition;fa.transition=null;try{Ke=4,ow(t,e,n,r)}finally{Ke=i,fa.transition=s}}function ow(t,e,n,r){if(Hh){var i=Qy(t,e,n,r);if(i===null)wg(t,e,r,Wh,n),PE(t,r);else if(u2(i,t,e,n,r))r.stopPropagation();else if(PE(t,r),e&4&&-1<l2.indexOf(t)){for(;i!==null;){var s=Ic(i);if(s!==null&&tk(s),s=Qy(t,e,n,r),s===null&&wg(t,e,r,Wh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else wg(t,e,r,null,n)}}var Wh=null;function Qy(t,e,n,r){if(Wh=null,t=nw(r),t=js(t),t!==null)if(e=ko(t),e===null)t=null;else if(n=e.tag,n===13){if(t=KR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Wh=t,null}function ok(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ZM()){case rw:return 1;case XR:return 4;case jh:case e2:return 16;case JR:return 536870912;default:return 16}default:return 16}}var ji=null,aw=null,fh=null;function ak(){if(fh)return fh;var t,e=aw,n=e.length,r,i="value"in ji?ji.value:ji.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return fh=i.slice(t,1<r?1-r:void 0)}function ph(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function kd(){return!0}function DE(){return!1}function jn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?kd:DE,this.isPropagationStopped=DE,this}return dt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=kd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=kd)},persist:function(){},isPersistent:kd}),e}var tl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lw=jn(tl),Ac=dt({},tl,{view:0,detail:0}),f2=jn(Ac),cg,dg,Cl,fp=dt({},Ac,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cl&&(Cl&&t.type==="mousemove"?(cg=t.screenX-Cl.screenX,dg=t.screenY-Cl.screenY):dg=cg=0,Cl=t),cg)},movementY:function(t){return"movementY"in t?t.movementY:dg}}),ME=jn(fp),p2=dt({},fp,{dataTransfer:0}),m2=jn(p2),g2=dt({},Ac,{relatedTarget:0}),hg=jn(g2),y2=dt({},tl,{animationName:0,elapsedTime:0,pseudoElement:0}),v2=jn(y2),w2=dt({},tl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_2=jn(w2),E2=dt({},tl,{data:0}),$E=jn(E2),b2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},S2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},T2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function x2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=T2[t])?!!e[t]:!1}function uw(){return x2}var R2=dt({},Ac,{key:function(t){if(t.key){var e=b2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ph(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?S2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uw,charCode:function(t){return t.type==="keypress"?ph(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ph(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),k2=jn(R2),C2=dt({},fp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),UE=jn(C2),A2=dt({},Ac,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uw}),I2=jn(A2),N2=dt({},tl,{propertyName:0,elapsedTime:0,pseudoElement:0}),L2=jn(N2),P2=dt({},fp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),O2=jn(P2),D2=[9,13,27,32],cw=li&&"CompositionEvent"in window,ou=null;li&&"documentMode"in document&&(ou=document.documentMode);var M2=li&&"TextEvent"in window&&!ou,lk=li&&(!cw||ou&&8<ou&&11>=ou),VE=String.fromCharCode(32),FE=!1;function uk(t,e){switch(t){case"keyup":return D2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ck(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qo=!1;function $2(t,e){switch(t){case"compositionend":return ck(e);case"keypress":return e.which!==32?null:(FE=!0,VE);case"textInput":return t=e.data,t===VE&&FE?null:t;default:return null}}function U2(t,e){if(qo)return t==="compositionend"||!cw&&uk(t,e)?(t=ak(),fh=aw=ji=null,qo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return lk&&e.locale!=="ko"?null:e.data;default:return null}}var V2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function BE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!V2[t.type]:e==="textarea"}function dk(t,e,n,r){jR(r),e=qh(e,"onChange"),0<e.length&&(n=new lw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var au=null,Hu=null;function F2(t){bk(t,0)}function pp(t){var e=Qo(t);if(DR(e))return t}function B2(t,e){if(t==="change")return e}var hk=!1;if(li){var fg;if(li){var pg="oninput"in document;if(!pg){var jE=document.createElement("div");jE.setAttribute("oninput","return;"),pg=typeof jE.oninput=="function"}fg=pg}else fg=!1;hk=fg&&(!document.documentMode||9<document.documentMode)}function zE(){au&&(au.detachEvent("onpropertychange",fk),Hu=au=null)}function fk(t){if(t.propertyName==="value"&&pp(Hu)){var e=[];dk(e,Hu,t,nw(t)),qR(F2,e)}}function j2(t,e,n){t==="focusin"?(zE(),au=e,Hu=n,au.attachEvent("onpropertychange",fk)):t==="focusout"&&zE()}function z2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pp(Hu)}function H2(t,e){if(t==="click")return pp(e)}function W2(t,e){if(t==="input"||t==="change")return pp(e)}function q2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gr=typeof Object.is=="function"?Object.is:q2;function Wu(t,e){if(gr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ny.call(e,i)||!gr(t[i],e[i]))return!1}return!0}function HE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function WE(t,e){var n=HE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=HE(n)}}function pk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?pk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function mk(){for(var t=window,e=Vh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Vh(t.document)}return e}function dw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function K2(t){var e=mk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&pk(n.ownerDocument.documentElement,n)){if(r!==null&&dw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=WE(n,s);var o=WE(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var G2=li&&"documentMode"in document&&11>=document.documentMode,Ko=null,Yy=null,lu=null,Xy=!1;function qE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xy||Ko==null||Ko!==Vh(r)||(r=Ko,"selectionStart"in r&&dw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),lu&&Wu(lu,r)||(lu=r,r=qh(Yy,"onSelect"),0<r.length&&(e=new lw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ko)))}function Cd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Go={animationend:Cd("Animation","AnimationEnd"),animationiteration:Cd("Animation","AnimationIteration"),animationstart:Cd("Animation","AnimationStart"),transitionend:Cd("Transition","TransitionEnd")},mg={},gk={};li&&(gk=document.createElement("div").style,"AnimationEvent"in window||(delete Go.animationend.animation,delete Go.animationiteration.animation,delete Go.animationstart.animation),"TransitionEvent"in window||delete Go.transitionend.transition);function mp(t){if(mg[t])return mg[t];if(!Go[t])return t;var e=Go[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in gk)return mg[t]=e[n];return t}var yk=mp("animationend"),vk=mp("animationiteration"),wk=mp("animationstart"),_k=mp("transitionend"),Ek=new Map,KE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ys(t,e){Ek.set(t,e),Ro(e,[t])}for(var gg=0;gg<KE.length;gg++){var yg=KE[gg],Q2=yg.toLowerCase(),Y2=yg[0].toUpperCase()+yg.slice(1);ys(Q2,"on"+Y2)}ys(yk,"onAnimationEnd");ys(vk,"onAnimationIteration");ys(wk,"onAnimationStart");ys("dblclick","onDoubleClick");ys("focusin","onFocus");ys("focusout","onBlur");ys(_k,"onTransitionEnd");Sa("onMouseEnter",["mouseout","mouseover"]);Sa("onMouseLeave",["mouseout","mouseover"]);Sa("onPointerEnter",["pointerout","pointerover"]);Sa("onPointerLeave",["pointerout","pointerover"]);Ro("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ro("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ro("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ro("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ro("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ro("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gl));function GE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,QM(r,e,void 0,t),t.currentTarget=null}function bk(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;GE(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;GE(i,a,u),s=l}}}if(Bh)throw t=qy,Bh=!1,qy=null,t}function Je(t,e){var n=e[nv];n===void 0&&(n=e[nv]=new Set);var r=t+"__bubble";n.has(r)||(Sk(e,t,2,!1),n.add(r))}function vg(t,e,n){var r=0;e&&(r|=4),Sk(n,t,r,e)}var Ad="_reactListening"+Math.random().toString(36).slice(2);function qu(t){if(!t[Ad]){t[Ad]=!0,IR.forEach(function(n){n!=="selectionchange"&&(X2.has(n)||vg(n,!1,t),vg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ad]||(e[Ad]=!0,vg("selectionchange",!1,e))}}function Sk(t,e,n,r){switch(ok(e)){case 1:var i=d2;break;case 4:i=h2;break;default:i=ow}n=i.bind(null,e,n,t),i=void 0,!Wy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function wg(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=js(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}qR(function(){var u=s,c=nw(n),d=[];e:{var h=Ek.get(t);if(h!==void 0){var f=lw,m=t;switch(t){case"keypress":if(ph(n)===0)break e;case"keydown":case"keyup":f=k2;break;case"focusin":m="focus",f=hg;break;case"focusout":m="blur",f=hg;break;case"beforeblur":case"afterblur":f=hg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=ME;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=m2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=I2;break;case yk:case vk:case wk:f=v2;break;case _k:f=L2;break;case"scroll":f=f2;break;case"wheel":f=O2;break;case"copy":case"cut":case"paste":f=_2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=UE}var p=(e&4)!==0,w=!p&&t==="scroll",v=p?h!==null?h+"Capture":null:h;p=[];for(var g=u,y;g!==null;){y=g;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,v!==null&&(_=Fu(g,v),_!=null&&p.push(Ku(g,_,y)))),w)break;g=g.return}0<p.length&&(h=new f(h,m,null,n,c),d.push({event:h,listeners:p}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==zy&&(m=n.relatedTarget||n.fromElement)&&(js(m)||m[ui]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(m=n.relatedTarget||n.toElement,f=u,m=m?js(m):null,m!==null&&(w=ko(m),m!==w||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=u),f!==m)){if(p=ME,_="onMouseLeave",v="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(p=UE,_="onPointerLeave",v="onPointerEnter",g="pointer"),w=f==null?h:Qo(f),y=m==null?h:Qo(m),h=new p(_,g+"leave",f,n,c),h.target=w,h.relatedTarget=y,_=null,js(c)===u&&(p=new p(v,g+"enter",m,n,c),p.target=y,p.relatedTarget=w,_=p),w=_,f&&m)t:{for(p=f,v=m,g=0,y=p;y;y=Uo(y))g++;for(y=0,_=v;_;_=Uo(_))y++;for(;0<g-y;)p=Uo(p),g--;for(;0<y-g;)v=Uo(v),y--;for(;g--;){if(p===v||v!==null&&p===v.alternate)break t;p=Uo(p),v=Uo(v)}p=null}else p=null;f!==null&&QE(d,h,f,p,!1),m!==null&&w!==null&&QE(d,w,m,p,!0)}}e:{if(h=u?Qo(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var S=B2;else if(BE(h))if(hk)S=W2;else{S=z2;var k=j2}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=H2);if(S&&(S=S(t,u))){dk(d,S,n,c);break e}k&&k(t,h,u),t==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&Uy(h,"number",h.value)}switch(k=u?Qo(u):window,t){case"focusin":(BE(k)||k.contentEditable==="true")&&(Ko=k,Yy=u,lu=null);break;case"focusout":lu=Yy=Ko=null;break;case"mousedown":Xy=!0;break;case"contextmenu":case"mouseup":case"dragend":Xy=!1,qE(d,n,c);break;case"selectionchange":if(G2)break;case"keydown":case"keyup":qE(d,n,c)}var R;if(cw)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else qo?uk(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(lk&&n.locale!=="ko"&&(qo||I!=="onCompositionStart"?I==="onCompositionEnd"&&qo&&(R=ak()):(ji=c,aw="value"in ji?ji.value:ji.textContent,qo=!0)),k=qh(u,I),0<k.length&&(I=new $E(I,t,null,n,c),d.push({event:I,listeners:k}),R?I.data=R:(R=ck(n),R!==null&&(I.data=R)))),(R=M2?$2(t,n):U2(t,n))&&(u=qh(u,"onBeforeInput"),0<u.length&&(c=new $E("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=R))}bk(d,e)})}function Ku(t,e,n){return{instance:t,listener:e,currentTarget:n}}function qh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Fu(t,n),s!=null&&r.unshift(Ku(t,s,i)),s=Fu(t,e),s!=null&&r.push(Ku(t,s,i))),t=t.return}return r}function Uo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function QE(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Fu(n,s),l!=null&&o.unshift(Ku(n,l,a))):i||(l=Fu(n,s),l!=null&&o.push(Ku(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var J2=/\r\n?/g,Z2=/\u0000|\uFFFD/g;function YE(t){return(typeof t=="string"?t:""+t).replace(J2,`
`).replace(Z2,"")}function Id(t,e,n){if(e=YE(e),YE(t)!==e&&n)throw Error(q(425))}function Kh(){}var Jy=null,Zy=null;function ev(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tv=typeof setTimeout=="function"?setTimeout:void 0,e$=typeof clearTimeout=="function"?clearTimeout:void 0,XE=typeof Promise=="function"?Promise:void 0,t$=typeof queueMicrotask=="function"?queueMicrotask:typeof XE<"u"?function(t){return XE.resolve(null).then(t).catch(n$)}:tv;function n$(t){setTimeout(function(){throw t})}function _g(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),zu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);zu(e)}function Qi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function JE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var nl=Math.random().toString(36).slice(2),Tr="__reactFiber$"+nl,Gu="__reactProps$"+nl,ui="__reactContainer$"+nl,nv="__reactEvents$"+nl,r$="__reactListeners$"+nl,i$="__reactHandles$"+nl;function js(t){var e=t[Tr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ui]||n[Tr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=JE(t);t!==null;){if(n=t[Tr])return n;t=JE(t)}return e}t=n,n=t.parentNode}return null}function Ic(t){return t=t[Tr]||t[ui],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function gp(t){return t[Gu]||null}var rv=[],Yo=-1;function vs(t){return{current:t}}function tt(t){0>Yo||(t.current=rv[Yo],rv[Yo]=null,Yo--)}function Ye(t,e){Yo++,rv[Yo]=t.current,t.current=e}var as={},un=vs(as),Tn=vs(!1),so=as;function Ta(t,e){var n=t.type.contextTypes;if(!n)return as;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function xn(t){return t=t.childContextTypes,t!=null}function Gh(){tt(Tn),tt(un)}function ZE(t,e,n){if(un.current!==as)throw Error(q(168));Ye(un,e),Ye(Tn,n)}function Tk(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(q(108,jM(t)||"Unknown",i));return dt({},n,r)}function Qh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||as,so=un.current,Ye(un,t),Ye(Tn,Tn.current),!0}function eb(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=Tk(t,e,so),r.__reactInternalMemoizedMergedChildContext=t,tt(Tn),tt(un),Ye(un,t)):tt(Tn),Ye(Tn,n)}var Yr=null,yp=!1,Eg=!1;function xk(t){Yr===null?Yr=[t]:Yr.push(t)}function s$(t){yp=!0,xk(t)}function ws(){if(!Eg&&Yr!==null){Eg=!0;var t=0,e=Ke;try{var n=Yr;for(Ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Yr=null,yp=!1}catch(i){throw Yr!==null&&(Yr=Yr.slice(t+1)),YR(rw,ws),i}finally{Ke=e,Eg=!1}}return null}var Xo=[],Jo=0,Yh=null,Xh=0,Kn=[],Gn=0,oo=null,Jr=1,Zr="";function Ns(t,e){Xo[Jo++]=Xh,Xo[Jo++]=Yh,Yh=t,Xh=e}function Rk(t,e,n){Kn[Gn++]=Jr,Kn[Gn++]=Zr,Kn[Gn++]=oo,oo=t;var r=Jr;t=Zr;var i=32-fr(r)-1;r&=~(1<<i),n+=1;var s=32-fr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Jr=1<<32-fr(e)+i|n<<i|r,Zr=s+t}else Jr=1<<s|n<<i|r,Zr=t}function hw(t){t.return!==null&&(Ns(t,1),Rk(t,1,0))}function fw(t){for(;t===Yh;)Yh=Xo[--Jo],Xo[Jo]=null,Xh=Xo[--Jo],Xo[Jo]=null;for(;t===oo;)oo=Kn[--Gn],Kn[Gn]=null,Zr=Kn[--Gn],Kn[Gn]=null,Jr=Kn[--Gn],Kn[Gn]=null}var $n=null,On=null,nt=!1,dr=null;function kk(t,e){var n=Qn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function tb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$n=t,On=Qi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$n=t,On=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=oo!==null?{id:Jr,overflow:Zr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Qn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,$n=t,On=null,!0):!1;default:return!1}}function iv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sv(t){if(nt){var e=On;if(e){var n=e;if(!tb(t,e)){if(iv(t))throw Error(q(418));e=Qi(n.nextSibling);var r=$n;e&&tb(t,e)?kk(r,n):(t.flags=t.flags&-4097|2,nt=!1,$n=t)}}else{if(iv(t))throw Error(q(418));t.flags=t.flags&-4097|2,nt=!1,$n=t}}}function nb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$n=t}function Nd(t){if(t!==$n)return!1;if(!nt)return nb(t),nt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ev(t.type,t.memoizedProps)),e&&(e=On)){if(iv(t))throw Ck(),Error(q(418));for(;e;)kk(t,e),e=Qi(e.nextSibling)}if(nb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){On=Qi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}On=null}}else On=$n?Qi(t.stateNode.nextSibling):null;return!0}function Ck(){for(var t=On;t;)t=Qi(t.nextSibling)}function xa(){On=$n=null,nt=!1}function pw(t){dr===null?dr=[t]:dr.push(t)}var o$=wi.ReactCurrentBatchConfig;function lr(t,e){if(t&&t.defaultProps){e=dt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Jh=vs(null),Zh=null,Zo=null,mw=null;function gw(){mw=Zo=Zh=null}function yw(t){var e=Jh.current;tt(Jh),t._currentValue=e}function ov(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function pa(t,e){Zh=t,mw=Zo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(bn=!0),t.firstContext=null)}function er(t){var e=t._currentValue;if(mw!==t)if(t={context:t,memoizedValue:e,next:null},Zo===null){if(Zh===null)throw Error(q(308));Zo=t,Zh.dependencies={lanes:0,firstContext:t}}else Zo=Zo.next=t;return e}var zs=null;function vw(t){zs===null?zs=[t]:zs.push(t)}function Ak(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,vw(e)):(n.next=i.next,i.next=n),e.interleaved=n,ci(t,r)}function ci(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ii=!1;function ww(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ik(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ii(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Yi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Be&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ci(t,n)}return i=r.interleaved,i===null?(e.next=e,vw(r)):(e.next=i.next,i.next=e),r.interleaved=e,ci(t,n)}function mh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,iw(t,n)}}function rb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ef(t,e,n,r){var i=t.updateQueue;Ii=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,p=a;switch(h=e,f=n,p.tag){case 1:if(m=p.payload,typeof m=="function"){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=p.payload,h=typeof m=="function"?m.call(f,d,h):m,h==null)break e;d=dt({},d,h);break e;case 2:Ii=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);lo|=o,t.lanes=o,t.memoizedState=d}}function ib(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(q(191,i));i.call(r)}}}var Nk=new AR.Component().refs;function av(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:dt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var vp={isMounted:function(t){return(t=t._reactInternals)?ko(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=gn(),i=Ji(t),s=ii(r,i);s.payload=e,n!=null&&(s.callback=n),e=Yi(t,s,i),e!==null&&(pr(e,t,i,r),mh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=gn(),i=Ji(t),s=ii(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Yi(t,s,i),e!==null&&(pr(e,t,i,r),mh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=gn(),r=Ji(t),i=ii(n,r);i.tag=2,e!=null&&(i.callback=e),e=Yi(t,i,r),e!==null&&(pr(e,t,r,n),mh(e,t,r))}};function sb(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Wu(n,r)||!Wu(i,s):!0}function Lk(t,e,n){var r=!1,i=as,s=e.contextType;return typeof s=="object"&&s!==null?s=er(s):(i=xn(e)?so:un.current,r=e.contextTypes,s=(r=r!=null)?Ta(t,i):as),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function ob(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&vp.enqueueReplaceState(e,e.state,null)}function lv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Nk,ww(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=er(s):(s=xn(e)?so:un.current,i.context=Ta(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(av(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&vp.enqueueReplaceState(i,i.state,null),ef(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Al(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===Nk&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function Ld(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ab(t){var e=t._init;return e(t._payload)}function Pk(t){function e(v,g){if(t){var y=v.deletions;y===null?(v.deletions=[g],v.flags|=16):y.push(g)}}function n(v,g){if(!t)return null;for(;g!==null;)e(v,g),g=g.sibling;return null}function r(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function i(v,g){return v=Zi(v,g),v.index=0,v.sibling=null,v}function s(v,g,y){return v.index=y,t?(y=v.alternate,y!==null?(y=y.index,y<g?(v.flags|=2,g):y):(v.flags|=2,g)):(v.flags|=1048576,g)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,g,y,_){return g===null||g.tag!==6?(g=Cg(y,v.mode,_),g.return=v,g):(g=i(g,y),g.return=v,g)}function l(v,g,y,_){var S=y.type;return S===Wo?c(v,g,y.props.children,_,y.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ai&&ab(S)===g.type)?(_=i(g,y.props),_.ref=Al(v,g,y),_.return=v,_):(_=Eh(y.type,y.key,y.props,null,v.mode,_),_.ref=Al(v,g,y),_.return=v,_)}function u(v,g,y,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Ag(y,v.mode,_),g.return=v,g):(g=i(g,y.children||[]),g.return=v,g)}function c(v,g,y,_,S){return g===null||g.tag!==7?(g=Js(y,v.mode,_,S),g.return=v,g):(g=i(g,y),g.return=v,g)}function d(v,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Cg(""+g,v.mode,y),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ed:return y=Eh(g.type,g.key,g.props,null,v.mode,y),y.ref=Al(v,null,g),y.return=v,y;case Ho:return g=Ag(g,v.mode,y),g.return=v,g;case Ai:var _=g._init;return d(v,_(g._payload),y)}if(ql(g)||Tl(g))return g=Js(g,v.mode,y,null),g.return=v,g;Ld(v,g)}return null}function h(v,g,y,_){var S=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:a(v,g,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ed:return y.key===S?l(v,g,y,_):null;case Ho:return y.key===S?u(v,g,y,_):null;case Ai:return S=y._init,h(v,g,S(y._payload),_)}if(ql(y)||Tl(y))return S!==null?null:c(v,g,y,_,null);Ld(v,y)}return null}function f(v,g,y,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(y)||null,a(g,v,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ed:return v=v.get(_.key===null?y:_.key)||null,l(g,v,_,S);case Ho:return v=v.get(_.key===null?y:_.key)||null,u(g,v,_,S);case Ai:var k=_._init;return f(v,g,y,k(_._payload),S)}if(ql(_)||Tl(_))return v=v.get(y)||null,c(g,v,_,S,null);Ld(g,_)}return null}function m(v,g,y,_){for(var S=null,k=null,R=g,I=g=0,K=null;R!==null&&I<y.length;I++){R.index>I?(K=R,R=null):K=R.sibling;var z=h(v,R,y[I],_);if(z===null){R===null&&(R=K);break}t&&R&&z.alternate===null&&e(v,R),g=s(z,g,I),k===null?S=z:k.sibling=z,k=z,R=K}if(I===y.length)return n(v,R),nt&&Ns(v,I),S;if(R===null){for(;I<y.length;I++)R=d(v,y[I],_),R!==null&&(g=s(R,g,I),k===null?S=R:k.sibling=R,k=R);return nt&&Ns(v,I),S}for(R=r(v,R);I<y.length;I++)K=f(R,v,I,y[I],_),K!==null&&(t&&K.alternate!==null&&R.delete(K.key===null?I:K.key),g=s(K,g,I),k===null?S=K:k.sibling=K,k=K);return t&&R.forEach(function(de){return e(v,de)}),nt&&Ns(v,I),S}function p(v,g,y,_){var S=Tl(y);if(typeof S!="function")throw Error(q(150));if(y=S.call(y),y==null)throw Error(q(151));for(var k=S=null,R=g,I=g=0,K=null,z=y.next();R!==null&&!z.done;I++,z=y.next()){R.index>I?(K=R,R=null):K=R.sibling;var de=h(v,R,z.value,_);if(de===null){R===null&&(R=K);break}t&&R&&de.alternate===null&&e(v,R),g=s(de,g,I),k===null?S=de:k.sibling=de,k=de,R=K}if(z.done)return n(v,R),nt&&Ns(v,I),S;if(R===null){for(;!z.done;I++,z=y.next())z=d(v,z.value,_),z!==null&&(g=s(z,g,I),k===null?S=z:k.sibling=z,k=z);return nt&&Ns(v,I),S}for(R=r(v,R);!z.done;I++,z=y.next())z=f(R,v,I,z.value,_),z!==null&&(t&&z.alternate!==null&&R.delete(z.key===null?I:z.key),g=s(z,g,I),k===null?S=z:k.sibling=z,k=z);return t&&R.forEach(function(ve){return e(v,ve)}),nt&&Ns(v,I),S}function w(v,g,y,_){if(typeof y=="object"&&y!==null&&y.type===Wo&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ed:e:{for(var S=y.key,k=g;k!==null;){if(k.key===S){if(S=y.type,S===Wo){if(k.tag===7){n(v,k.sibling),g=i(k,y.props.children),g.return=v,v=g;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ai&&ab(S)===k.type){n(v,k.sibling),g=i(k,y.props),g.ref=Al(v,k,y),g.return=v,v=g;break e}n(v,k);break}else e(v,k);k=k.sibling}y.type===Wo?(g=Js(y.props.children,v.mode,_,y.key),g.return=v,v=g):(_=Eh(y.type,y.key,y.props,null,v.mode,_),_.ref=Al(v,g,y),_.return=v,v=_)}return o(v);case Ho:e:{for(k=y.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(v,g.sibling),g=i(g,y.children||[]),g.return=v,v=g;break e}else{n(v,g);break}else e(v,g);g=g.sibling}g=Ag(y,v.mode,_),g.return=v,v=g}return o(v);case Ai:return k=y._init,w(v,g,k(y._payload),_)}if(ql(y))return m(v,g,y,_);if(Tl(y))return p(v,g,y,_);Ld(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(v,g.sibling),g=i(g,y),g.return=v,v=g):(n(v,g),g=Cg(y,v.mode,_),g.return=v,v=g),o(v)):n(v,g)}return w}var Ra=Pk(!0),Ok=Pk(!1),Nc={},Cr=vs(Nc),Qu=vs(Nc),Yu=vs(Nc);function Hs(t){if(t===Nc)throw Error(q(174));return t}function _w(t,e){switch(Ye(Yu,e),Ye(Qu,t),Ye(Cr,Nc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Fy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Fy(e,t)}tt(Cr),Ye(Cr,e)}function ka(){tt(Cr),tt(Qu),tt(Yu)}function Dk(t){Hs(Yu.current);var e=Hs(Cr.current),n=Fy(e,t.type);e!==n&&(Ye(Qu,t),Ye(Cr,n))}function Ew(t){Qu.current===t&&(tt(Cr),tt(Qu))}var at=vs(0);function tf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bg=[];function bw(){for(var t=0;t<bg.length;t++)bg[t]._workInProgressVersionPrimary=null;bg.length=0}var gh=wi.ReactCurrentDispatcher,Sg=wi.ReactCurrentBatchConfig,ao=0,ut=null,At=null,$t=null,nf=!1,uu=!1,Xu=0,a$=0;function Xt(){throw Error(q(321))}function Sw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gr(t[n],e[n]))return!1;return!0}function Tw(t,e,n,r,i,s){if(ao=s,ut=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gh.current=t===null||t.memoizedState===null?d$:h$,t=n(r,i),uu){s=0;do{if(uu=!1,Xu=0,25<=s)throw Error(q(301));s+=1,$t=At=null,e.updateQueue=null,gh.current=f$,t=n(r,i)}while(uu)}if(gh.current=rf,e=At!==null&&At.next!==null,ao=0,$t=At=ut=null,nf=!1,e)throw Error(q(300));return t}function xw(){var t=Xu!==0;return Xu=0,t}function Er(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?ut.memoizedState=$t=t:$t=$t.next=t,$t}function tr(){if(At===null){var t=ut.alternate;t=t!==null?t.memoizedState:null}else t=At.next;var e=$t===null?ut.memoizedState:$t.next;if(e!==null)$t=e,At=t;else{if(t===null)throw Error(q(310));At=t,t={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},$t===null?ut.memoizedState=$t=t:$t=$t.next=t}return $t}function Ju(t,e){return typeof e=="function"?e(t):e}function Tg(t){var e=tr(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=At,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((ao&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,ut.lanes|=c,lo|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,gr(r,e.memoizedState)||(bn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ut.lanes|=s,lo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function xg(t){var e=tr(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);gr(s,e.memoizedState)||(bn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Mk(){}function $k(t,e){var n=ut,r=tr(),i=e(),s=!gr(r.memoizedState,i);if(s&&(r.memoizedState=i,bn=!0),r=r.queue,Rw(Fk.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||$t!==null&&$t.memoizedState.tag&1){if(n.flags|=2048,Zu(9,Vk.bind(null,n,r,i,e),void 0,null),Ut===null)throw Error(q(349));ao&30||Uk(n,e,i)}return i}function Uk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ut.updateQueue,e===null?(e={lastEffect:null,stores:null},ut.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Vk(t,e,n,r){e.value=n,e.getSnapshot=r,Bk(e)&&jk(t)}function Fk(t,e,n){return n(function(){Bk(e)&&jk(t)})}function Bk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gr(t,n)}catch{return!0}}function jk(t){var e=ci(t,1);e!==null&&pr(e,t,1,-1)}function lb(t){var e=Er();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ju,lastRenderedState:t},e.queue=t,t=t.dispatch=c$.bind(null,ut,t),[e.memoizedState,t]}function Zu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ut.updateQueue,e===null?(e={lastEffect:null,stores:null},ut.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function zk(){return tr().memoizedState}function yh(t,e,n,r){var i=Er();ut.flags|=t,i.memoizedState=Zu(1|e,n,void 0,r===void 0?null:r)}function wp(t,e,n,r){var i=tr();r=r===void 0?null:r;var s=void 0;if(At!==null){var o=At.memoizedState;if(s=o.destroy,r!==null&&Sw(r,o.deps)){i.memoizedState=Zu(e,n,s,r);return}}ut.flags|=t,i.memoizedState=Zu(1|e,n,s,r)}function ub(t,e){return yh(8390656,8,t,e)}function Rw(t,e){return wp(2048,8,t,e)}function Hk(t,e){return wp(4,2,t,e)}function Wk(t,e){return wp(4,4,t,e)}function qk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Kk(t,e,n){return n=n!=null?n.concat([t]):null,wp(4,4,qk.bind(null,e,t),n)}function kw(){}function Gk(t,e){var n=tr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Qk(t,e){var n=tr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Yk(t,e,n){return ao&21?(gr(n,e)||(n=ZR(),ut.lanes|=n,lo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,bn=!0),t.memoizedState=n)}function l$(t,e){var n=Ke;Ke=n!==0&&4>n?n:4,t(!0);var r=Sg.transition;Sg.transition={};try{t(!1),e()}finally{Ke=n,Sg.transition=r}}function Xk(){return tr().memoizedState}function u$(t,e,n){var r=Ji(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jk(t))Zk(e,n);else if(n=Ak(t,e,n,r),n!==null){var i=gn();pr(n,t,r,i),eC(n,e,r)}}function c$(t,e,n){var r=Ji(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jk(t))Zk(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,gr(a,o)){var l=e.interleaved;l===null?(i.next=i,vw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Ak(t,e,i,r),n!==null&&(i=gn(),pr(n,t,r,i),eC(n,e,r))}}function Jk(t){var e=t.alternate;return t===ut||e!==null&&e===ut}function Zk(t,e){uu=nf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function eC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,iw(t,n)}}var rf={readContext:er,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},d$={readContext:er,useCallback:function(t,e){return Er().memoizedState=[t,e===void 0?null:e],t},useContext:er,useEffect:ub,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,yh(4194308,4,qk.bind(null,e,t),n)},useLayoutEffect:function(t,e){return yh(4194308,4,t,e)},useInsertionEffect:function(t,e){return yh(4,2,t,e)},useMemo:function(t,e){var n=Er();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Er();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=u$.bind(null,ut,t),[r.memoizedState,t]},useRef:function(t){var e=Er();return t={current:t},e.memoizedState=t},useState:lb,useDebugValue:kw,useDeferredValue:function(t){return Er().memoizedState=t},useTransition:function(){var t=lb(!1),e=t[0];return t=l$.bind(null,t[1]),Er().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ut,i=Er();if(nt){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),Ut===null)throw Error(q(349));ao&30||Uk(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,ub(Fk.bind(null,r,s,t),[t]),r.flags|=2048,Zu(9,Vk.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Er(),e=Ut.identifierPrefix;if(nt){var n=Zr,r=Jr;n=(r&~(1<<32-fr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Xu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=a$++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},h$={readContext:er,useCallback:Gk,useContext:er,useEffect:Rw,useImperativeHandle:Kk,useInsertionEffect:Hk,useLayoutEffect:Wk,useMemo:Qk,useReducer:Tg,useRef:zk,useState:function(){return Tg(Ju)},useDebugValue:kw,useDeferredValue:function(t){var e=tr();return Yk(e,At.memoizedState,t)},useTransition:function(){var t=Tg(Ju)[0],e=tr().memoizedState;return[t,e]},useMutableSource:Mk,useSyncExternalStore:$k,useId:Xk,unstable_isNewReconciler:!1},f$={readContext:er,useCallback:Gk,useContext:er,useEffect:Rw,useImperativeHandle:Kk,useInsertionEffect:Hk,useLayoutEffect:Wk,useMemo:Qk,useReducer:xg,useRef:zk,useState:function(){return xg(Ju)},useDebugValue:kw,useDeferredValue:function(t){var e=tr();return At===null?e.memoizedState=t:Yk(e,At.memoizedState,t)},useTransition:function(){var t=xg(Ju)[0],e=tr().memoizedState;return[t,e]},useMutableSource:Mk,useSyncExternalStore:$k,useId:Xk,unstable_isNewReconciler:!1};function Ca(t,e){try{var n="",r=e;do n+=BM(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Rg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function uv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var p$=typeof WeakMap=="function"?WeakMap:Map;function tC(t,e,n){n=ii(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){of||(of=!0,wv=r),uv(t,e)},n}function nC(t,e,n){n=ii(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){uv(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){uv(t,e),typeof r!="function"&&(Xi===null?Xi=new Set([this]):Xi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function cb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new p$;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=C$.bind(null,t,e,n),e.then(t,t))}function db(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function hb(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ii(-1,1),e.tag=2,Yi(n,e,1))),n.lanes|=1),t)}var m$=wi.ReactCurrentOwner,bn=!1;function pn(t,e,n,r){e.child=t===null?Ok(e,null,n,r):Ra(e,t.child,n,r)}function fb(t,e,n,r,i){n=n.render;var s=e.ref;return pa(e,i),r=Tw(t,e,n,r,s,i),n=xw(),t!==null&&!bn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,di(t,e,i)):(nt&&n&&hw(e),e.flags|=1,pn(t,e,r,i),e.child)}function pb(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Dw(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,rC(t,e,s,r,i)):(t=Eh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Wu,n(o,r)&&t.ref===e.ref)return di(t,e,i)}return e.flags|=1,t=Zi(s,r),t.ref=e.ref,t.return=e,e.child=t}function rC(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Wu(s,r)&&t.ref===e.ref)if(bn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(bn=!0);else return e.lanes=t.lanes,di(t,e,i)}return cv(t,e,n,r,i)}function iC(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(ta,Pn),Pn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ye(ta,Pn),Pn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ye(ta,Pn),Pn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ye(ta,Pn),Pn|=r;return pn(t,e,i,n),e.child}function sC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function cv(t,e,n,r,i){var s=xn(n)?so:un.current;return s=Ta(e,s),pa(e,i),n=Tw(t,e,n,r,s,i),r=xw(),t!==null&&!bn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,di(t,e,i)):(nt&&r&&hw(e),e.flags|=1,pn(t,e,n,i),e.child)}function mb(t,e,n,r,i){if(xn(n)){var s=!0;Qh(e)}else s=!1;if(pa(e,i),e.stateNode===null)vh(t,e),Lk(e,n,r),lv(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=er(u):(u=xn(n)?so:un.current,u=Ta(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&ob(e,o,r,u),Ii=!1;var h=e.memoizedState;o.state=h,ef(e,r,o,i),l=e.memoizedState,a!==r||h!==l||Tn.current||Ii?(typeof c=="function"&&(av(e,n,c,r),l=e.memoizedState),(a=Ii||sb(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Ik(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:lr(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=er(l):(l=xn(n)?so:un.current,l=Ta(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&ob(e,o,r,l),Ii=!1,h=e.memoizedState,o.state=h,ef(e,r,o,i);var m=e.memoizedState;a!==d||h!==m||Tn.current||Ii?(typeof f=="function"&&(av(e,n,f,r),m=e.memoizedState),(u=Ii||sb(e,n,u,r,h,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return dv(t,e,n,r,s,i)}function dv(t,e,n,r,i,s){sC(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&eb(e,n,!1),di(t,e,s);r=e.stateNode,m$.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ra(e,t.child,null,s),e.child=Ra(e,null,a,s)):pn(t,e,a,s),e.memoizedState=r.state,i&&eb(e,n,!0),e.child}function oC(t){var e=t.stateNode;e.pendingContext?ZE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ZE(t,e.context,!1),_w(t,e.containerInfo)}function gb(t,e,n,r,i){return xa(),pw(i),e.flags|=256,pn(t,e,n,r),e.child}var hv={dehydrated:null,treeContext:null,retryLane:0};function fv(t){return{baseLanes:t,cachePool:null,transitions:null}}function aC(t,e,n){var r=e.pendingProps,i=at.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ye(at,i&1),t===null)return sv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=bp(o,r,0,null),t=Js(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=fv(n),e.memoizedState=hv,t):Cw(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return g$(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Zi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Zi(a,s):(s=Js(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?fv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=hv,r}return s=t.child,t=s.sibling,r=Zi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Cw(t,e){return e=bp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Pd(t,e,n,r){return r!==null&&pw(r),Ra(e,t.child,null,n),t=Cw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function g$(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Rg(Error(q(422))),Pd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=bp({mode:"visible",children:r.children},i,0,null),s=Js(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ra(e,t.child,null,o),e.child.memoizedState=fv(o),e.memoizedState=hv,s);if(!(e.mode&1))return Pd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(q(419)),r=Rg(s,r,void 0),Pd(t,e,o,r)}if(a=(o&t.childLanes)!==0,bn||a){if(r=Ut,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ci(t,i),pr(r,t,i,-1))}return Ow(),r=Rg(Error(q(421))),Pd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=A$.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,On=Qi(i.nextSibling),$n=e,nt=!0,dr=null,t!==null&&(Kn[Gn++]=Jr,Kn[Gn++]=Zr,Kn[Gn++]=oo,Jr=t.id,Zr=t.overflow,oo=e),e=Cw(e,r.children),e.flags|=4096,e)}function yb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ov(t.return,e,n)}function kg(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function lC(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(pn(t,e,r.children,n),r=at.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yb(t,n,e);else if(t.tag===19)yb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ye(at,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&tf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),kg(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&tf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}kg(e,!0,n,null,s);break;case"together":kg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function vh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function di(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),lo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=Zi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Zi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function y$(t,e,n){switch(e.tag){case 3:oC(e),xa();break;case 5:Dk(e);break;case 1:xn(e.type)&&Qh(e);break;case 4:_w(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ye(Jh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ye(at,at.current&1),e.flags|=128,null):n&e.child.childLanes?aC(t,e,n):(Ye(at,at.current&1),t=di(t,e,n),t!==null?t.sibling:null);Ye(at,at.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return lC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ye(at,at.current),r)break;return null;case 22:case 23:return e.lanes=0,iC(t,e,n)}return di(t,e,n)}var uC,pv,cC,dC;uC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pv=function(){};cC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Hs(Cr.current);var s=null;switch(n){case"input":i=My(t,i),r=My(t,r),s=[];break;case"select":i=dt({},i,{value:void 0}),r=dt({},r,{value:void 0}),s=[];break;case"textarea":i=Vy(t,i),r=Vy(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Kh)}By(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Uu.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Uu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Je("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};dC=function(t,e,n,r){n!==r&&(e.flags|=4)};function Il(t,e){if(!nt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function v$(t,e,n){var r=e.pendingProps;switch(fw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(e),null;case 1:return xn(e.type)&&Gh(),Jt(e),null;case 3:return r=e.stateNode,ka(),tt(Tn),tt(un),bw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Nd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,dr!==null&&(bv(dr),dr=null))),pv(t,e),Jt(e),null;case 5:Ew(e);var i=Hs(Yu.current);if(n=e.type,t!==null&&e.stateNode!=null)cC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return Jt(e),null}if(t=Hs(Cr.current),Nd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Tr]=e,r[Gu]=s,t=(e.mode&1)!==0,n){case"dialog":Je("cancel",r),Je("close",r);break;case"iframe":case"object":case"embed":Je("load",r);break;case"video":case"audio":for(i=0;i<Gl.length;i++)Je(Gl[i],r);break;case"source":Je("error",r);break;case"img":case"image":case"link":Je("error",r),Je("load",r);break;case"details":Je("toggle",r);break;case"input":RE(r,s),Je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Je("invalid",r);break;case"textarea":CE(r,s),Je("invalid",r)}By(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Id(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Id(r.textContent,a,t),i=["children",""+a]):Uu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Je("scroll",r)}switch(n){case"input":bd(r),kE(r,s,!0);break;case"textarea":bd(r),AE(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Kh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=UR(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Tr]=e,t[Gu]=r,uC(t,e,!1,!1),e.stateNode=t;e:{switch(o=jy(n,r),n){case"dialog":Je("cancel",t),Je("close",t),i=r;break;case"iframe":case"object":case"embed":Je("load",t),i=r;break;case"video":case"audio":for(i=0;i<Gl.length;i++)Je(Gl[i],t);i=r;break;case"source":Je("error",t),i=r;break;case"img":case"image":case"link":Je("error",t),Je("load",t),i=r;break;case"details":Je("toggle",t),i=r;break;case"input":RE(t,r),i=My(t,r),Je("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=dt({},r,{value:void 0}),Je("invalid",t);break;case"textarea":CE(t,r),i=Vy(t,r),Je("invalid",t);break;default:i=r}By(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?BR(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&VR(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Vu(t,l):typeof l=="number"&&Vu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Uu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Je("scroll",t):l!=null&&J0(t,s,l,o))}switch(n){case"input":bd(t),kE(t,r,!1);break;case"textarea":bd(t),AE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+os(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ca(t,!!r.multiple,s,!1):r.defaultValue!=null&&ca(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Kh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Jt(e),null;case 6:if(t&&e.stateNode!=null)dC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=Hs(Yu.current),Hs(Cr.current),Nd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Tr]=e,(s=r.nodeValue!==n)&&(t=$n,t!==null))switch(t.tag){case 3:Id(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Id(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tr]=e,e.stateNode=r}return Jt(e),null;case 13:if(tt(at),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(nt&&On!==null&&e.mode&1&&!(e.flags&128))Ck(),xa(),e.flags|=98560,s=!1;else if(s=Nd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(q(317));s[Tr]=e}else xa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Jt(e),s=!1}else dr!==null&&(bv(dr),dr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||at.current&1?It===0&&(It=3):Ow())),e.updateQueue!==null&&(e.flags|=4),Jt(e),null);case 4:return ka(),pv(t,e),t===null&&qu(e.stateNode.containerInfo),Jt(e),null;case 10:return yw(e.type._context),Jt(e),null;case 17:return xn(e.type)&&Gh(),Jt(e),null;case 19:if(tt(at),s=e.memoizedState,s===null)return Jt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Il(s,!1);else{if(It!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=tf(t),o!==null){for(e.flags|=128,Il(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ye(at,at.current&1|2),e.child}t=t.sibling}s.tail!==null&&bt()>Aa&&(e.flags|=128,r=!0,Il(s,!1),e.lanes=4194304)}else{if(!r)if(t=tf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Il(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!nt)return Jt(e),null}else 2*bt()-s.renderingStartTime>Aa&&n!==1073741824&&(e.flags|=128,r=!0,Il(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=bt(),e.sibling=null,n=at.current,Ye(at,r?n&1|2:n&1),e):(Jt(e),null);case 22:case 23:return Pw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Pn&1073741824&&(Jt(e),e.subtreeFlags&6&&(e.flags|=8192)):Jt(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function w$(t,e){switch(fw(e),e.tag){case 1:return xn(e.type)&&Gh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ka(),tt(Tn),tt(un),bw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ew(e),null;case 13:if(tt(at),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));xa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return tt(at),null;case 4:return ka(),null;case 10:return yw(e.type._context),null;case 22:case 23:return Pw(),null;case 24:return null;default:return null}}var Od=!1,tn=!1,_$=typeof WeakSet=="function"?WeakSet:Set,ie=null;function ea(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pt(t,e,r)}else n.current=null}function mv(t,e,n){try{n()}catch(r){pt(t,e,r)}}var vb=!1;function E$(t,e){if(Jy=Hh,t=mk(),dw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zy={focusedElem:t,selectionRange:n},Hh=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var p=m.memoizedProps,w=m.memoizedState,v=e.stateNode,g=v.getSnapshotBeforeUpdate(e.elementType===e.type?p:lr(e.type,p),w);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(_){pt(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return m=vb,vb=!1,m}function cu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&mv(e,n,s)}i=i.next}while(i!==r)}}function _p(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function gv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function hC(t){var e=t.alternate;e!==null&&(t.alternate=null,hC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Tr],delete e[Gu],delete e[nv],delete e[r$],delete e[i$])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fC(t){return t.tag===5||t.tag===3||t.tag===4}function wb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Kh));else if(r!==4&&(t=t.child,t!==null))for(yv(t,e,n),t=t.sibling;t!==null;)yv(t,e,n),t=t.sibling}function vv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(vv(t,e,n),t=t.sibling;t!==null;)vv(t,e,n),t=t.sibling}var jt=null,cr=!1;function xi(t,e,n){for(n=n.child;n!==null;)pC(t,e,n),n=n.sibling}function pC(t,e,n){if(kr&&typeof kr.onCommitFiberUnmount=="function")try{kr.onCommitFiberUnmount(hp,n)}catch{}switch(n.tag){case 5:tn||ea(n,e);case 6:var r=jt,i=cr;jt=null,xi(t,e,n),jt=r,cr=i,jt!==null&&(cr?(t=jt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):jt.removeChild(n.stateNode));break;case 18:jt!==null&&(cr?(t=jt,n=n.stateNode,t.nodeType===8?_g(t.parentNode,n):t.nodeType===1&&_g(t,n),zu(t)):_g(jt,n.stateNode));break;case 4:r=jt,i=cr,jt=n.stateNode.containerInfo,cr=!0,xi(t,e,n),jt=r,cr=i;break;case 0:case 11:case 14:case 15:if(!tn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&mv(n,e,o),i=i.next}while(i!==r)}xi(t,e,n);break;case 1:if(!tn&&(ea(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){pt(n,e,a)}xi(t,e,n);break;case 21:xi(t,e,n);break;case 22:n.mode&1?(tn=(r=tn)||n.memoizedState!==null,xi(t,e,n),tn=r):xi(t,e,n);break;default:xi(t,e,n)}}function _b(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new _$),e.forEach(function(r){var i=I$.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function or(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:jt=a.stateNode,cr=!1;break e;case 3:jt=a.stateNode.containerInfo,cr=!0;break e;case 4:jt=a.stateNode.containerInfo,cr=!0;break e}a=a.return}if(jt===null)throw Error(q(160));pC(s,o,i),jt=null,cr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){pt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)mC(e,t),e=e.sibling}function mC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(or(e,t),_r(t),r&4){try{cu(3,t,t.return),_p(3,t)}catch(p){pt(t,t.return,p)}try{cu(5,t,t.return)}catch(p){pt(t,t.return,p)}}break;case 1:or(e,t),_r(t),r&512&&n!==null&&ea(n,n.return);break;case 5:if(or(e,t),_r(t),r&512&&n!==null&&ea(n,n.return),t.flags&32){var i=t.stateNode;try{Vu(i,"")}catch(p){pt(t,t.return,p)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&MR(i,s),jy(a,o);var u=jy(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?BR(i,d):c==="dangerouslySetInnerHTML"?VR(i,d):c==="children"?Vu(i,d):J0(i,c,d,u)}switch(a){case"input":$y(i,s);break;case"textarea":$R(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?ca(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?ca(i,!!s.multiple,s.defaultValue,!0):ca(i,!!s.multiple,s.multiple?[]:"",!1))}i[Gu]=s}catch(p){pt(t,t.return,p)}}break;case 6:if(or(e,t),_r(t),r&4){if(t.stateNode===null)throw Error(q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(p){pt(t,t.return,p)}}break;case 3:if(or(e,t),_r(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zu(e.containerInfo)}catch(p){pt(t,t.return,p)}break;case 4:or(e,t),_r(t);break;case 13:or(e,t),_r(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Nw=bt())),r&4&&_b(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(tn=(u=tn)||c,or(e,t),tn=u):or(e,t),_r(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ie=t,c=t.child;c!==null;){for(d=ie=c;ie!==null;){switch(h=ie,f=h.child,h.tag){case 0:case 11:case 14:case 15:cu(4,h,h.return);break;case 1:ea(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(p){pt(r,n,p)}}break;case 5:ea(h,h.return);break;case 22:if(h.memoizedState!==null){bb(d);continue}}f!==null?(f.return=h,ie=f):bb(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=FR("display",o))}catch(p){pt(t,t.return,p)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(p){pt(t,t.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:or(e,t),_r(t),r&4&&_b(t);break;case 21:break;default:or(e,t),_r(t)}}function _r(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(fC(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Vu(i,""),r.flags&=-33);var s=wb(t);vv(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=wb(t);yv(t,a,o);break;default:throw Error(q(161))}}catch(l){pt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function b$(t,e,n){ie=t,gC(t)}function gC(t,e,n){for(var r=(t.mode&1)!==0;ie!==null;){var i=ie,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Od;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||tn;a=Od;var u=tn;if(Od=o,(tn=l)&&!u)for(ie=i;ie!==null;)o=ie,l=o.child,o.tag===22&&o.memoizedState!==null?Sb(i):l!==null?(l.return=o,ie=l):Sb(i);for(;s!==null;)ie=s,gC(s),s=s.sibling;ie=i,Od=a,tn=u}Eb(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ie=s):Eb(t)}}function Eb(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:tn||_p(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!tn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:lr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&ib(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ib(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&zu(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}tn||e.flags&512&&gv(e)}catch(h){pt(e,e.return,h)}}if(e===t){ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,ie=n;break}ie=e.return}}function bb(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ie=n;break}ie=e.return}}function Sb(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_p(4,e)}catch(l){pt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){pt(e,i,l)}}var s=e.return;try{gv(e)}catch(l){pt(e,s,l)}break;case 5:var o=e.return;try{gv(e)}catch(l){pt(e,o,l)}}}catch(l){pt(e,e.return,l)}if(e===t){ie=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ie=a;break}ie=e.return}}var S$=Math.ceil,sf=wi.ReactCurrentDispatcher,Aw=wi.ReactCurrentOwner,Yn=wi.ReactCurrentBatchConfig,Be=0,Ut=null,Rt=null,Wt=0,Pn=0,ta=vs(0),It=0,ec=null,lo=0,Ep=0,Iw=0,du=null,_n=null,Nw=0,Aa=1/0,Gr=null,of=!1,wv=null,Xi=null,Dd=!1,zi=null,af=0,hu=0,_v=null,wh=-1,_h=0;function gn(){return Be&6?bt():wh!==-1?wh:wh=bt()}function Ji(t){return t.mode&1?Be&2&&Wt!==0?Wt&-Wt:o$.transition!==null?(_h===0&&(_h=ZR()),_h):(t=Ke,t!==0||(t=window.event,t=t===void 0?16:ok(t.type)),t):1}function pr(t,e,n,r){if(50<hu)throw hu=0,_v=null,Error(q(185));Cc(t,n,r),(!(Be&2)||t!==Ut)&&(t===Ut&&(!(Be&2)&&(Ep|=n),It===4&&$i(t,Wt)),Rn(t,r),n===1&&Be===0&&!(e.mode&1)&&(Aa=bt()+500,yp&&ws()))}function Rn(t,e){var n=t.callbackNode;o2(t,e);var r=zh(t,t===Ut?Wt:0);if(r===0)n!==null&&LE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&LE(n),e===1)t.tag===0?s$(Tb.bind(null,t)):xk(Tb.bind(null,t)),t$(function(){!(Be&6)&&ws()}),n=null;else{switch(ek(r)){case 1:n=rw;break;case 4:n=XR;break;case 16:n=jh;break;case 536870912:n=JR;break;default:n=jh}n=TC(n,yC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function yC(t,e){if(wh=-1,_h=0,Be&6)throw Error(q(327));var n=t.callbackNode;if(ma()&&t.callbackNode!==n)return null;var r=zh(t,t===Ut?Wt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=lf(t,r);else{e=r;var i=Be;Be|=2;var s=wC();(Ut!==t||Wt!==e)&&(Gr=null,Aa=bt()+500,Xs(t,e));do try{R$();break}catch(a){vC(t,a)}while(1);gw(),sf.current=s,Be=i,Rt!==null?e=0:(Ut=null,Wt=0,e=It)}if(e!==0){if(e===2&&(i=Ky(t),i!==0&&(r=i,e=Ev(t,i))),e===1)throw n=ec,Xs(t,0),$i(t,r),Rn(t,bt()),n;if(e===6)$i(t,r);else{if(i=t.current.alternate,!(r&30)&&!T$(i)&&(e=lf(t,r),e===2&&(s=Ky(t),s!==0&&(r=s,e=Ev(t,s))),e===1))throw n=ec,Xs(t,0),$i(t,r),Rn(t,bt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:Ls(t,_n,Gr);break;case 3:if($i(t,r),(r&130023424)===r&&(e=Nw+500-bt(),10<e)){if(zh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){gn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=tv(Ls.bind(null,t,_n,Gr),e);break}Ls(t,_n,Gr);break;case 4:if($i(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-fr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=bt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*S$(r/1960))-r,10<r){t.timeoutHandle=tv(Ls.bind(null,t,_n,Gr),r);break}Ls(t,_n,Gr);break;case 5:Ls(t,_n,Gr);break;default:throw Error(q(329))}}}return Rn(t,bt()),t.callbackNode===n?yC.bind(null,t):null}function Ev(t,e){var n=du;return t.current.memoizedState.isDehydrated&&(Xs(t,e).flags|=256),t=lf(t,e),t!==2&&(e=_n,_n=n,e!==null&&bv(e)),t}function bv(t){_n===null?_n=t:_n.push.apply(_n,t)}function T$(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!gr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $i(t,e){for(e&=~Iw,e&=~Ep,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-fr(e),r=1<<n;t[n]=-1,e&=~r}}function Tb(t){if(Be&6)throw Error(q(327));ma();var e=zh(t,0);if(!(e&1))return Rn(t,bt()),null;var n=lf(t,e);if(t.tag!==0&&n===2){var r=Ky(t);r!==0&&(e=r,n=Ev(t,r))}if(n===1)throw n=ec,Xs(t,0),$i(t,e),Rn(t,bt()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ls(t,_n,Gr),Rn(t,bt()),null}function Lw(t,e){var n=Be;Be|=1;try{return t(e)}finally{Be=n,Be===0&&(Aa=bt()+500,yp&&ws())}}function uo(t){zi!==null&&zi.tag===0&&!(Be&6)&&ma();var e=Be;Be|=1;var n=Yn.transition,r=Ke;try{if(Yn.transition=null,Ke=1,t)return t()}finally{Ke=r,Yn.transition=n,Be=e,!(Be&6)&&ws()}}function Pw(){Pn=ta.current,tt(ta)}function Xs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,e$(n)),Rt!==null)for(n=Rt.return;n!==null;){var r=n;switch(fw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Gh();break;case 3:ka(),tt(Tn),tt(un),bw();break;case 5:Ew(r);break;case 4:ka();break;case 13:tt(at);break;case 19:tt(at);break;case 10:yw(r.type._context);break;case 22:case 23:Pw()}n=n.return}if(Ut=t,Rt=t=Zi(t.current,null),Wt=Pn=e,It=0,ec=null,Iw=Ep=lo=0,_n=du=null,zs!==null){for(e=0;e<zs.length;e++)if(n=zs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}zs=null}return t}function vC(t,e){do{var n=Rt;try{if(gw(),gh.current=rf,nf){for(var r=ut.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}nf=!1}if(ao=0,$t=At=ut=null,uu=!1,Xu=0,Aw.current=null,n===null||n.return===null){It=1,ec=e,Rt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Wt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=db(o);if(f!==null){f.flags&=-257,hb(f,o,a,s,e),f.mode&1&&cb(s,u,e),e=f,l=u;var m=e.updateQueue;if(m===null){var p=new Set;p.add(l),e.updateQueue=p}else m.add(l);break e}else{if(!(e&1)){cb(s,u,e),Ow();break e}l=Error(q(426))}}else if(nt&&a.mode&1){var w=db(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),hb(w,o,a,s,e),pw(Ca(l,a));break e}}s=l=Ca(l,a),It!==4&&(It=2),du===null?du=[s]:du.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=tC(s,l,e);rb(s,v);break e;case 1:a=l;var g=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Xi===null||!Xi.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=nC(s,a,e);rb(s,_);break e}}s=s.return}while(s!==null)}EC(n)}catch(S){e=S,Rt===n&&n!==null&&(Rt=n=n.return);continue}break}while(1)}function wC(){var t=sf.current;return sf.current=rf,t===null?rf:t}function Ow(){(It===0||It===3||It===2)&&(It=4),Ut===null||!(lo&268435455)&&!(Ep&268435455)||$i(Ut,Wt)}function lf(t,e){var n=Be;Be|=2;var r=wC();(Ut!==t||Wt!==e)&&(Gr=null,Xs(t,e));do try{x$();break}catch(i){vC(t,i)}while(1);if(gw(),Be=n,sf.current=r,Rt!==null)throw Error(q(261));return Ut=null,Wt=0,It}function x$(){for(;Rt!==null;)_C(Rt)}function R$(){for(;Rt!==null&&!XM();)_C(Rt)}function _C(t){var e=SC(t.alternate,t,Pn);t.memoizedProps=t.pendingProps,e===null?EC(t):Rt=e,Aw.current=null}function EC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=w$(n,e),n!==null){n.flags&=32767,Rt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{It=6,Rt=null;return}}else if(n=v$(n,e,Pn),n!==null){Rt=n;return}if(e=e.sibling,e!==null){Rt=e;return}Rt=e=t}while(e!==null);It===0&&(It=5)}function Ls(t,e,n){var r=Ke,i=Yn.transition;try{Yn.transition=null,Ke=1,k$(t,e,n,r)}finally{Yn.transition=i,Ke=r}return null}function k$(t,e,n,r){do ma();while(zi!==null);if(Be&6)throw Error(q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(a2(t,s),t===Ut&&(Rt=Ut=null,Wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Dd||(Dd=!0,TC(jh,function(){return ma(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Yn.transition,Yn.transition=null;var o=Ke;Ke=1;var a=Be;Be|=4,Aw.current=null,E$(t,n),mC(n,t),K2(Zy),Hh=!!Jy,Zy=Jy=null,t.current=n,b$(n),JM(),Be=a,Ke=o,Yn.transition=s}else t.current=n;if(Dd&&(Dd=!1,zi=t,af=i),s=t.pendingLanes,s===0&&(Xi=null),t2(n.stateNode),Rn(t,bt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(of)throw of=!1,t=wv,wv=null,t;return af&1&&t.tag!==0&&ma(),s=t.pendingLanes,s&1?t===_v?hu++:(hu=0,_v=t):hu=0,ws(),null}function ma(){if(zi!==null){var t=ek(af),e=Yn.transition,n=Ke;try{if(Yn.transition=null,Ke=16>t?16:t,zi===null)var r=!1;else{if(t=zi,zi=null,af=0,Be&6)throw Error(q(331));var i=Be;for(Be|=4,ie=t.current;ie!==null;){var s=ie,o=s.child;if(ie.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ie=u;ie!==null;){var c=ie;switch(c.tag){case 0:case 11:case 15:cu(8,c,s)}var d=c.child;if(d!==null)d.return=c,ie=d;else for(;ie!==null;){c=ie;var h=c.sibling,f=c.return;if(hC(c),c===u){ie=null;break}if(h!==null){h.return=f,ie=h;break}ie=f}}}var m=s.alternate;if(m!==null){var p=m.child;if(p!==null){m.child=null;do{var w=p.sibling;p.sibling=null,p=w}while(p!==null)}}ie=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ie=o;else e:for(;ie!==null;){if(s=ie,s.flags&2048)switch(s.tag){case 0:case 11:case 15:cu(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,ie=v;break e}ie=s.return}}var g=t.current;for(ie=g;ie!==null;){o=ie;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,ie=y;else e:for(o=g;ie!==null;){if(a=ie,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:_p(9,a)}}catch(S){pt(a,a.return,S)}if(a===o){ie=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,ie=_;break e}ie=a.return}}if(Be=i,ws(),kr&&typeof kr.onPostCommitFiberRoot=="function")try{kr.onPostCommitFiberRoot(hp,t)}catch{}r=!0}return r}finally{Ke=n,Yn.transition=e}}return!1}function xb(t,e,n){e=Ca(n,e),e=tC(t,e,1),t=Yi(t,e,1),e=gn(),t!==null&&(Cc(t,1,e),Rn(t,e))}function pt(t,e,n){if(t.tag===3)xb(t,t,n);else for(;e!==null;){if(e.tag===3){xb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xi===null||!Xi.has(r))){t=Ca(n,t),t=nC(e,t,1),e=Yi(e,t,1),t=gn(),e!==null&&(Cc(e,1,t),Rn(e,t));break}}e=e.return}}function C$(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=gn(),t.pingedLanes|=t.suspendedLanes&n,Ut===t&&(Wt&n)===n&&(It===4||It===3&&(Wt&130023424)===Wt&&500>bt()-Nw?Xs(t,0):Iw|=n),Rn(t,e)}function bC(t,e){e===0&&(t.mode&1?(e=xd,xd<<=1,!(xd&130023424)&&(xd=4194304)):e=1);var n=gn();t=ci(t,e),t!==null&&(Cc(t,e,n),Rn(t,n))}function A$(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),bC(t,n)}function I$(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),bC(t,n)}var SC;SC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Tn.current)bn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return bn=!1,y$(t,e,n);bn=!!(t.flags&131072)}else bn=!1,nt&&e.flags&1048576&&Rk(e,Xh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;vh(t,e),t=e.pendingProps;var i=Ta(e,un.current);pa(e,n),i=Tw(null,e,r,t,i,n);var s=xw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xn(r)?(s=!0,Qh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ww(e),i.updater=vp,e.stateNode=i,i._reactInternals=e,lv(e,r,t,n),e=dv(null,e,r,!0,s,n)):(e.tag=0,nt&&s&&hw(e),pn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(vh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=L$(r),t=lr(r,t),i){case 0:e=cv(null,e,r,t,n);break e;case 1:e=mb(null,e,r,t,n);break e;case 11:e=fb(null,e,r,t,n);break e;case 14:e=pb(null,e,r,lr(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lr(r,i),cv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lr(r,i),mb(t,e,r,i,n);case 3:e:{if(oC(e),t===null)throw Error(q(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Ik(t,e),ef(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ca(Error(q(423)),e),e=gb(t,e,r,n,i);break e}else if(r!==i){i=Ca(Error(q(424)),e),e=gb(t,e,r,n,i);break e}else for(On=Qi(e.stateNode.containerInfo.firstChild),$n=e,nt=!0,dr=null,n=Ok(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xa(),r===i){e=di(t,e,n);break e}pn(t,e,r,n)}e=e.child}return e;case 5:return Dk(e),t===null&&sv(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,ev(r,i)?o=null:s!==null&&ev(r,s)&&(e.flags|=32),sC(t,e),pn(t,e,o,n),e.child;case 6:return t===null&&sv(e),null;case 13:return aC(t,e,n);case 4:return _w(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ra(e,null,r,n):pn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lr(r,i),fb(t,e,r,i,n);case 7:return pn(t,e,e.pendingProps,n),e.child;case 8:return pn(t,e,e.pendingProps.children,n),e.child;case 12:return pn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ye(Jh,r._currentValue),r._currentValue=o,s!==null)if(gr(s.value,o)){if(s.children===i.children&&!Tn.current){e=di(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ii(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),ov(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ov(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}pn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,pa(e,n),i=er(i),r=r(i),e.flags|=1,pn(t,e,r,n),e.child;case 14:return r=e.type,i=lr(r,e.pendingProps),i=lr(r.type,i),pb(t,e,r,i,n);case 15:return rC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lr(r,i),vh(t,e),e.tag=1,xn(r)?(t=!0,Qh(e)):t=!1,pa(e,n),Lk(e,r,i),lv(e,r,i,n),dv(null,e,r,!0,t,n);case 19:return lC(t,e,n);case 22:return iC(t,e,n)}throw Error(q(156,e.tag))};function TC(t,e){return YR(t,e)}function N$(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(t,e,n,r){return new N$(t,e,n,r)}function Dw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function L$(t){if(typeof t=="function")return Dw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ew)return 11;if(t===tw)return 14}return 2}function Zi(t,e){var n=t.alternate;return n===null?(n=Qn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Eh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Dw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Wo:return Js(n.children,i,s,e);case Z0:o=8,i|=8;break;case Ly:return t=Qn(12,n,e,i|2),t.elementType=Ly,t.lanes=s,t;case Py:return t=Qn(13,n,e,i),t.elementType=Py,t.lanes=s,t;case Oy:return t=Qn(19,n,e,i),t.elementType=Oy,t.lanes=s,t;case PR:return bp(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case NR:o=10;break e;case LR:o=9;break e;case ew:o=11;break e;case tw:o=14;break e;case Ai:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=Qn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Js(t,e,n,r){return t=Qn(7,t,r,e),t.lanes=n,t}function bp(t,e,n,r){return t=Qn(22,t,r,e),t.elementType=PR,t.lanes=n,t.stateNode={isHidden:!1},t}function Cg(t,e,n){return t=Qn(6,t,null,e),t.lanes=n,t}function Ag(t,e,n){return e=Qn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function P$(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ug(0),this.expirationTimes=ug(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ug(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Mw(t,e,n,r,i,s,o,a,l){return t=new P$(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Qn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ww(s),t}function O$(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ho,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function xC(t){if(!t)return as;t=t._reactInternals;e:{if(ko(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(xn(n))return Tk(t,n,e)}return e}function RC(t,e,n,r,i,s,o,a,l){return t=Mw(n,r,!0,t,i,s,o,a,l),t.context=xC(null),n=t.current,r=gn(),i=Ji(n),s=ii(r,i),s.callback=e??null,Yi(n,s,i),t.current.lanes=i,Cc(t,i,r),Rn(t,r),t}function Sp(t,e,n,r){var i=e.current,s=gn(),o=Ji(i);return n=xC(n),e.context===null?e.context=n:e.pendingContext=n,e=ii(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Yi(i,e,o),t!==null&&(pr(t,i,o,s),mh(t,i,o)),o}function uf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Rb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $w(t,e){Rb(t,e),(t=t.alternate)&&Rb(t,e)}function D$(){return null}var kC=typeof reportError=="function"?reportError:function(t){console.error(t)};function Uw(t){this._internalRoot=t}Tp.prototype.render=Uw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));Sp(t,e,null,null)};Tp.prototype.unmount=Uw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;uo(function(){Sp(null,t,null,null)}),e[ui]=null}};function Tp(t){this._internalRoot=t}Tp.prototype.unstable_scheduleHydration=function(t){if(t){var e=rk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Mi.length&&e!==0&&e<Mi[n].priority;n++);Mi.splice(n,0,t),n===0&&sk(t)}};function Vw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function xp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function kb(){}function M$(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=uf(o);s.call(u)}}var o=RC(e,r,t,0,null,!1,!1,"",kb);return t._reactRootContainer=o,t[ui]=o.current,qu(t.nodeType===8?t.parentNode:t),uo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=uf(l);a.call(u)}}var l=Mw(t,0,!1,null,null,!1,!1,"",kb);return t._reactRootContainer=l,t[ui]=l.current,qu(t.nodeType===8?t.parentNode:t),uo(function(){Sp(e,l,n,r)}),l}function Rp(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=uf(o);a.call(l)}}Sp(e,o,t,i)}else o=M$(n,e,t,i,r);return uf(o)}tk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Kl(e.pendingLanes);n!==0&&(iw(e,n|1),Rn(e,bt()),!(Be&6)&&(Aa=bt()+500,ws()))}break;case 13:uo(function(){var r=ci(t,1);if(r!==null){var i=gn();pr(r,t,1,i)}}),$w(t,1)}};sw=function(t){if(t.tag===13){var e=ci(t,134217728);if(e!==null){var n=gn();pr(e,t,134217728,n)}$w(t,134217728)}};nk=function(t){if(t.tag===13){var e=Ji(t),n=ci(t,e);if(n!==null){var r=gn();pr(n,t,e,r)}$w(t,e)}};rk=function(){return Ke};ik=function(t,e){var n=Ke;try{return Ke=t,e()}finally{Ke=n}};Hy=function(t,e,n){switch(e){case"input":if($y(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=gp(r);if(!i)throw Error(q(90));DR(r),$y(r,i)}}}break;case"textarea":$R(t,n);break;case"select":e=n.value,e!=null&&ca(t,!!n.multiple,e,!1)}};HR=Lw;WR=uo;var $$={usingClientEntryPoint:!1,Events:[Ic,Qo,gp,jR,zR,Lw]},Nl={findFiberByHostInstance:js,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},U$={bundleType:Nl.bundleType,version:Nl.version,rendererPackageName:Nl.rendererPackageName,rendererConfig:Nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=GR(t),t===null?null:t.stateNode},findFiberByHostInstance:Nl.findFiberByHostInstance||D$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Md.isDisabled&&Md.supportsFiber)try{hp=Md.inject(U$),kr=Md}catch{}}Bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$$;Bn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vw(e))throw Error(q(200));return O$(t,e,null,n)};Bn.createRoot=function(t,e){if(!Vw(t))throw Error(q(299));var n=!1,r="",i=kC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Mw(t,1,!1,null,null,n,!1,r,i),t[ui]=e.current,qu(t.nodeType===8?t.parentNode:t),new Uw(e)};Bn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=GR(e),t=t===null?null:t.stateNode,t};Bn.flushSync=function(t){return uo(t)};Bn.hydrate=function(t,e,n){if(!xp(e))throw Error(q(200));return Rp(null,t,e,!0,n)};Bn.hydrateRoot=function(t,e,n){if(!Vw(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=kC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=RC(e,null,t,1,n??null,i,!1,s,o),t[ui]=e.current,qu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Tp(e)};Bn.render=function(t,e,n){if(!xp(e))throw Error(q(200));return Rp(null,t,e,!1,n)};Bn.unmountComponentAtNode=function(t){if(!xp(t))throw Error(q(40));return t._reactRootContainer?(uo(function(){Rp(null,null,t,!1,function(){t._reactRootContainer=null,t[ui]=null})}),!0):!1};Bn.unstable_batchedUpdates=Lw;Bn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!xp(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return Rp(t,e,n,!1,r)};Bn.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Bn})(DM);const V$=W0($u);var Cb=$u;Ay.createRoot=Cb.createRoot,Ay.hydrateRoot=Cb.hydrateRoot;/**
 * @remix-run/router v1.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ve(){return Ve=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ve.apply(this,arguments)}var Et;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Et||(Et={}));const Ab="popstate";function F$(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=Ur(i.location.hash.substr(1));return tc("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof s=="string"?s:hi(s))}function r(i,s){co(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return j$(e,n,r,t)}function ke(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function co(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function B$(){return Math.random().toString(36).substr(2,8)}function Ib(t,e){return{usr:t.state,key:t.key,idx:e}}function tc(t,e,n,r){return n===void 0&&(n=null),Ve({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ur(e):e,{state:n,key:e&&e.key||r||B$()})}function hi(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ur(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function j$(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Et.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Ve({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=Et.Pop;let w=c(),v=w==null?null:w-u;u=w,l&&l({action:a,location:p.location,delta:v})}function h(w,v){a=Et.Push;let g=tc(p.location,w,v);n&&n(g,w),u=c()+1;let y=Ib(g,u),_=p.createHref(g);try{o.pushState(y,"",_)}catch{i.location.assign(_)}s&&l&&l({action:a,location:p.location,delta:1})}function f(w,v){a=Et.Replace;let g=tc(p.location,w,v);n&&n(g,w),u=c();let y=Ib(g,u),_=p.createHref(g);o.replaceState(y,"",_),s&&l&&l({action:a,location:p.location,delta:0})}function m(w){let v=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof w=="string"?w:hi(w);return ke(v,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,v)}let p={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Ab,d),l=w,()=>{i.removeEventListener(Ab,d),l=null}},createHref(w){return e(i,w)},createURL:m,encodeLocation(w){let v=m(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:f,go(w){return o.go(w)}};return p}var Ct;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ct||(Ct={}));const z$=new Set(["lazy","caseSensitive","path","id","index","children"]);function H$(t){return t.index===!0}function CC(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],a=typeof i.id=="string"?i.id:o.join("-");if(ke(i.index!==!0||!i.children,"Cannot specify children on an index route"),ke(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),H$(i)){let l=Ve({},i,{hasErrorBoundary:e(i),id:a});return r[a]=l,l}else{let l=Ve({},i,{id:a,hasErrorBoundary:e(i),children:void 0});return r[a]=l,i.children&&(l.children=CC(i.children,e,o,r)),l}})}function na(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ur(e):e,i=Lc(r.pathname||"/",n);if(i==null)return null;let s=AC(t);W$(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=eU(s[a],rU(i));return o}function AC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ke(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=si([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(ke(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),AC(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:J$(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of IC(s.path))i(s,o,l)}),e}function IC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=IC(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function W$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Z$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const q$=/^:\w+$/,K$=3,G$=2,Q$=1,Y$=10,X$=-2,Nb=t=>t==="*";function J$(t,e){let n=t.split("/"),r=n.length;return n.some(Nb)&&(r+=X$),e&&(r+=G$),n.filter(i=>!Nb(i)).reduce((i,s)=>i+(q$.test(s)?K$:s===""?Q$:Y$),r)}function Z$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function eU(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=tU({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:si([i,c.pathname]),pathnameBase:aU(si([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=si([i,c.pathnameBase]))}return s}function tU(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=nU(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let h=a[d]||"";o=s.slice(0,s.length-h.length).replace(/(.)\/+$/,"$1")}return u[c]=iU(a[d]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function nU(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),co(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function rU(t){try{return decodeURI(t)}catch(e){return co(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function iU(t,e){try{return decodeURIComponent(t)}catch(n){return co(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Lc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function sU(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ur(t):t;return{pathname:n?n.startsWith("/")?n:oU(n,e):e,search:lU(r),hash:uU(i)}}function oU(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ig(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kp(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Fw(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ur(t):(i=Ve({},t),ke(!i.pathname||!i.pathname.includes("?"),Ig("?","pathname","search",i)),ke(!i.pathname||!i.pathname.includes("#"),Ig("#","pathname","hash",i)),ke(!i.search||!i.search.includes("#"),Ig("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=sU(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const si=t=>t.join("/").replace(/\/\/+/g,"/"),aU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),lU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,uU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Lb extends Error{}class cU{constructor(e,n){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],ke(e&&typeof e=="object"&&!Array.isArray(e),"defer() only accepts plain objects");let r;this.abortPromise=new Promise((s,o)=>r=o),this.controller=new AbortController;let i=()=>r(new Lb("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",i),this.controller.signal.addEventListener("abort",i),this.data=Object.entries(e).reduce((s,o)=>{let[a,l]=o;return Object.assign(s,{[a]:this.trackPromise(a,l)})},{}),this.done&&this.unlistenAbortSignal(),this.init=n}trackPromise(e,n){if(!(n instanceof Promise))return n;this.deferredKeys.push(e),this.pendingKeysSet.add(e);let r=Promise.race([n,this.abortPromise]).then(i=>this.onSettle(r,e,null,i),i=>this.onSettle(r,e,i));return r.catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),r}onSettle(e,n,r,i){return this.controller.signal.aborted&&r instanceof Lb?(this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>r}),Promise.reject(r)):(this.pendingKeysSet.delete(n),this.done&&this.unlistenAbortSignal(),r?(Object.defineProperty(e,"_error",{get:()=>r}),this.emit(!1,n),Promise.reject(r)):(Object.defineProperty(e,"_data",{get:()=>i}),this.emit(!1,n),i))}emit(e,n){this.subscribers.forEach(r=>r(e,n))}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((e,n)=>this.pendingKeysSet.delete(n)),this.emit(!0)}async resolveData(e){let n=!1;if(!this.done){let r=()=>this.cancel();e.addEventListener("abort",r),n=await new Promise(i=>{this.subscribe(s=>{e.removeEventListener("abort",r),(s||this.done)&&i(s)})})}return n}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return ke(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,n)=>{let[r,i]=n;return Object.assign(e,{[r]:hU(i)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function dU(t){return t instanceof Promise&&t._tracked===!0}function hU(t){if(!dU(t))return t;if(t._error)throw t._error;return t._data}class Bw{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function NC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const LC=["post","put","patch","delete"],fU=new Set(LC),pU=["get",...LC],mU=new Set(pU),gU=new Set([301,302,303,307,308]),yU=new Set([307,308]),Ng={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},vU={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Pb={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},PC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,OC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wU=!OC,_U=t=>Boolean(t.hasErrorBoundary);function EU(t){ke(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let e=t.detectErrorBoundary||_U,n={},r=CC(t.routes,e,void 0,n),i,s=null,o=new Set,a=null,l=null,u=null,c=t.hydrationData!=null,d=na(r,t.history.location,t.basename),h=null;if(d==null){let L=br(404,{pathname:t.history.location.pathname}),{matches:D,route:j}=Vb(r);d=D,h={[j.id]:L}}let f=!d.some(L=>L.route.lazy)&&(!d.some(L=>L.route.loader)||t.hydrationData!=null),m,p={historyAction:t.history.action,location:t.history.location,matches:d,initialized:f,navigation:Ng,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||h,fetchers:new Map,blockers:new Map},w=Et.Pop,v=!1,g,y=!1,_=!1,S=[],k=[],R=new Map,I=0,K=-1,z=new Map,de=new Set,ve=new Map,J=new Map,$=new Map,W=!1;function Z(){if(s=t.history.listen(j=>{let{action:ae,location:ce,delta:Ee}=j;if(W){W=!1;return}co($.size===0||Ee!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let me=bi({currentLocation:p.location,nextLocation:ce,historyAction:ae});if(me&&Ee!=null){W=!0,t.history.go(Ee*-1),zn(me,{state:"blocked",location:ce,proceed(){zn(me,{state:"proceeding",proceed:void 0,reset:void 0,location:ce}),t.history.go(Ee)},reset(){Bt(me),B({blockers:new Map(m.state.blockers)})}});return}return P(ae,ce)}),p.initialized)return m;let L=p.matches.filter(j=>j.route.lazy);if(L.length===0)return P(Et.Pop,p.location),m;let D=L.map(j=>Sv(j.route,e,n));return Promise.all(D).then(()=>{!p.matches.some(ae=>ae.route.loader)||t.hydrationData!=null?B({initialized:!0}):P(Et.Pop,p.location)}),m}function A(){s&&s(),o.clear(),g&&g.abort(),p.fetchers.forEach((L,D)=>Dt(D)),p.blockers.forEach((L,D)=>Bt(D))}function N(L){return o.add(L),()=>o.delete(L)}function B(L){p=Ve({},p,L),o.forEach(D=>D(p))}function ee(L,D){var j,ae;let ce=p.actionData!=null&&p.navigation.formMethod!=null&&Qr(p.navigation.formMethod)&&p.navigation.state==="loading"&&((j=L.state)==null?void 0:j._isRedirect)!==!0,Ee;D.actionData?Object.keys(D.actionData).length>0?Ee=D.actionData:Ee=null:ce?Ee=p.actionData:Ee=null;let me=D.loaderData?Ub(p.loaderData,D.loaderData,D.matches||[],D.errors):p.loaderData;for(let[T]of $)Bt(T);let x=v===!0||p.navigation.formMethod!=null&&Qr(p.navigation.formMethod)&&((ae=L.state)==null?void 0:ae._isRedirect)!==!0;i&&(r=i,i=void 0),B(Ve({},D,{actionData:Ee,loaderData:me,historyAction:w,location:L,initialized:!0,navigation:Ng,revalidation:"idle",restoreScrollPosition:Cs(L,D.matches||p.matches),preventScrollReset:x,blockers:new Map(p.blockers)})),y||w===Et.Pop||(w===Et.Push?t.history.push(L,L.state):w===Et.Replace&&t.history.replace(L,L.state)),w=Et.Pop,v=!1,y=!1,_=!1,S=[],k=[]}async function te(L,D){if(typeof L=="number"){t.history.go(L);return}let{path:j,submission:ae,error:ce}=Ob(L,D),Ee=p.location,me=tc(p.location,j,D&&D.state);me=Ve({},me,t.history.encodeLocation(me));let x=D&&D.replace!=null?D.replace:void 0,T=Et.Push;x===!0?T=Et.Replace:x===!1||ae!=null&&Qr(ae.formMethod)&&ae.formAction===p.location.pathname+p.location.search&&(T=Et.Replace);let U=D&&"preventScrollReset"in D?D.preventScrollReset===!0:void 0,F=bi({currentLocation:Ee,nextLocation:me,historyAction:T});if(F){zn(F,{state:"blocked",location:me,proceed(){zn(F,{state:"proceeding",proceed:void 0,reset:void 0,location:me}),te(L,D)},reset(){Bt(F),B({blockers:new Map(p.blockers)})}});return}return await P(T,me,{submission:ae,pendingError:ce,preventScrollReset:U,replace:D&&D.replace})}function C(){if(Me(),B({revalidation:"loading"}),p.navigation.state!=="submitting"){if(p.navigation.state==="idle"){P(p.historyAction,p.location,{startUninterruptedRevalidation:!0});return}P(w||p.historyAction,p.navigation.location,{overrideNavigation:p.navigation})}}async function P(L,D,j){g&&g.abort(),g=null,w=L,y=(j&&j.startUninterruptedRevalidation)===!0,Ti(p.location,p.matches),v=(j&&j.preventScrollReset)===!0;let ae=i||r,ce=j&&j.overrideNavigation,Ee=na(ae,D,t.basename);if(!Ee){let Y=br(404,{pathname:D.pathname}),{matches:he,route:le}=Vb(ae);Si(),ee(D,{matches:he,loaderData:{},errors:{[le.id]:Y}});return}if(RU(p.location,D)&&!(j&&j.submission&&Qr(j.submission.formMethod))){ee(D,{matches:Ee});return}g=new AbortController;let me=Pl(t.history,D,g.signal,j&&j.submission),x,T;if(j&&j.pendingError)T={[ra(Ee).route.id]:j.pendingError};else if(j&&j.submission&&Qr(j.submission.formMethod)){let Y=await O(me,D,j.submission,Ee,{replace:j.replace});if(Y.shortCircuited)return;x=Y.pendingActionData,T=Y.pendingActionError,ce=Ve({state:"loading",location:D},j.submission),me=new Request(me.url,{signal:me.signal})}let{shortCircuited:U,loaderData:F,errors:Q}=await ne(me,D,Ee,ce,j&&j.submission,j&&j.replace,x,T);U||(g=null,ee(D,Ve({matches:Ee},x?{actionData:x}:{},{loaderData:F,errors:Q})))}async function O(L,D,j,ae,ce){Me();let Ee=Ve({state:"submitting",location:D},j);B({navigation:Ee});let me,x=Tv(ae,D);if(!x.route.action&&!x.route.lazy)me={type:Ct.error,error:br(405,{method:L.method,pathname:D.pathname,routeId:x.route.id})};else if(me=await Ll("action",L,x,ae,n,e,m.basename),L.signal.aborted)return{shortCircuited:!0};if(ga(me)){let T;return ce&&ce.replace!=null?T=ce.replace:T=me.location===p.location.pathname+p.location.search,await De(p,me,{submission:j,replace:T}),{shortCircuited:!0}}if(fu(me)){let T=ra(ae,x.route.id);return(ce&&ce.replace)!==!0&&(w=Et.Push),{pendingActionData:{},pendingActionError:{[T.route.id]:me.error}}}if(Ws(me))throw br(400,{type:"defer-action"});return{pendingActionData:{[x.route.id]:me.data}}}async function ne(L,D,j,ae,ce,Ee,me,x){let T=ae;T||(T=Ve({state:"loading",location:D,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},ce));let U=ce||(T.formMethod&&T.formAction&&T.formData&&T.formEncType?{formMethod:T.formMethod,formAction:T.formAction,formData:T.formData,formEncType:T.formEncType}:void 0),F=i||r,[Q,Y]=Db(t.history,p,j,U,D,_,S,k,ve,F,t.basename,me,x);if(Si(qe=>!(j&&j.some(ft=>ft.route.id===qe))||Q&&Q.some(ft=>ft.route.id===qe)),Q.length===0&&Y.length===0)return ee(D,Ve({matches:j,loaderData:{},errors:x||null},me?{actionData:me}:{})),{shortCircuited:!0};if(!y){Y.forEach(ft=>{let wn=p.fetchers.get(ft.key),Wr={state:"loading",data:wn&&wn.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};p.fetchers.set(ft.key,Wr)});let qe=me||p.actionData;B(Ve({navigation:T},qe?Object.keys(qe).length===0?{actionData:null}:{actionData:qe}:{},Y.length>0?{fetchers:new Map(p.fetchers)}:{}))}K=++I,Y.forEach(qe=>R.set(qe.key,g));let{results:he,loaderResults:le,fetcherResults:ge}=await Ge(p.matches,j,Q,Y,L);if(L.signal.aborted)return{shortCircuited:!0};Y.forEach(qe=>R.delete(qe.key));let Ce=Fb(he);if(Ce)return await De(p,Ce,{replace:Ee}),{shortCircuited:!0};let{loaderData:We,errors:_t}=$b(p,j,Q,le,x,Y,ge,J);J.forEach((qe,ft)=>{qe.subscribe(wn=>{(wn||qe.done)&&J.delete(ft)})}),wt();let ht=zr(K);return Ve({loaderData:We,errors:_t},ht||Y.length>0?{fetchers:new Map(p.fetchers)}:{})}function X(L){return p.fetchers.get(L)||vU}function pe(L,D,j,ae){if(wU)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");R.has(L)&&Yt(L);let Ee=na(i||r,j,t.basename);if(!Ee){je(L,D,br(404,{pathname:j}));return}let{path:me,submission:x}=Ob(j,ae,!0),T=Tv(Ee,me);if(v=(ae&&ae.preventScrollReset)===!0,x&&Qr(x.formMethod)){we(L,D,me,T,Ee,x);return}ve.set(L,{routeId:D,path:me}),re(L,D,me,T,Ee,x)}async function we(L,D,j,ae,ce,Ee){if(Me(),ve.delete(L),!ae.route.action&&!ae.route.lazy){let Kr=br(405,{method:Ee.formMethod,pathname:j,routeId:D});je(L,D,Kr);return}let me=p.fetchers.get(L),x=Ve({state:"submitting"},Ee,{data:me&&me.data," _hasFetcherDoneAnything ":!0});p.fetchers.set(L,x),B({fetchers:new Map(p.fetchers)});let T=new AbortController,U=Pl(t.history,j,T.signal,Ee);R.set(L,T);let F=await Ll("action",U,ae,ce,n,e,m.basename);if(U.signal.aborted){R.get(L)===T&&R.delete(L);return}if(ga(F)){R.delete(L),de.add(L);let Kr=Ve({state:"loading"},Ee,{data:void 0," _hasFetcherDoneAnything ":!0});return p.fetchers.set(L,Kr),B({fetchers:new Map(p.fetchers)}),De(p,F,{isFetchActionRedirect:!0})}if(fu(F)){je(L,D,F.error);return}if(Ws(F))throw br(400,{type:"defer-action"});let Q=p.navigation.location||p.location,Y=Pl(t.history,Q,T.signal),he=i||r,le=p.navigation.state!=="idle"?na(he,p.navigation.location,t.basename):p.matches;ke(le,"Didn't find any matches after fetcher action");let ge=++I;z.set(L,ge);let Ce=Ve({state:"loading",data:F.data},Ee,{" _hasFetcherDoneAnything ":!0});p.fetchers.set(L,Ce);let[We,_t]=Db(t.history,p,le,Ee,Q,_,S,k,ve,he,t.basename,{[ae.route.id]:F.data},void 0);_t.filter(Kr=>Kr.key!==L).forEach(Kr=>{let rg=Kr.key,wE=p.fetchers.get(rg),uM={state:"loading",data:wE&&wE.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};p.fetchers.set(rg,uM),R.set(rg,T)}),B({fetchers:new Map(p.fetchers)});let{results:ht,loaderResults:qe,fetcherResults:ft}=await Ge(p.matches,le,We,_t,Y);if(T.signal.aborted)return;z.delete(L),R.delete(L),_t.forEach(Kr=>R.delete(Kr.key));let wn=Fb(ht);if(wn)return De(p,wn);let{loaderData:Wr,errors:qr}=$b(p,p.matches,We,qe,void 0,_t,ft,J),As={state:"idle",data:F.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};p.fetchers.set(L,As);let lM=zr(ge);p.navigation.state==="loading"&&ge>K?(ke(w,"Expected pending action"),g&&g.abort(),ee(p.navigation.location,{matches:le,loaderData:Wr,errors:qr,fetchers:new Map(p.fetchers)})):(B(Ve({errors:qr,loaderData:Ub(p.loaderData,Wr,le,qr)},lM?{fetchers:new Map(p.fetchers)}:{})),_=!1)}async function re(L,D,j,ae,ce,Ee){let me=p.fetchers.get(L),x=Ve({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Ee,{data:me&&me.data," _hasFetcherDoneAnything ":!0});p.fetchers.set(L,x),B({fetchers:new Map(p.fetchers)});let T=new AbortController,U=Pl(t.history,j,T.signal);R.set(L,T);let F=await Ll("loader",U,ae,ce,n,e,m.basename);if(Ws(F)&&(F=await UC(F,U.signal,!0)||F),R.get(L)===T&&R.delete(L),U.signal.aborted)return;if(ga(F)){await De(p,F);return}if(fu(F)){let Y=ra(p.matches,D);p.fetchers.delete(L),B({fetchers:new Map(p.fetchers),errors:{[Y.route.id]:F.error}});return}ke(!Ws(F),"Unhandled fetcher deferred data");let Q={state:"idle",data:F.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};p.fetchers.set(L,Q),B({fetchers:new Map(p.fetchers)})}async function De(L,D,j){var ae;let{submission:ce,replace:Ee,isFetchActionRedirect:me}=j===void 0?{}:j;D.revalidate&&(_=!0);let x=tc(L.location,D.location,Ve({_isRedirect:!0},me?{_isFetchActionRedirect:!0}:{}));if(ke(x,"Expected a location on the redirect navigation"),PC.test(D.location)&&OC&&typeof((ae=window)==null?void 0:ae.location)<"u"){let he=t.history.createURL(D.location),le=Lc(he.pathname,t.basename||"/")==null;if(window.location.origin!==he.origin||le){Ee?window.location.replace(D.location):window.location.assign(D.location);return}}g=null;let T=Ee===!0?Et.Replace:Et.Push,{formMethod:U,formAction:F,formEncType:Q,formData:Y}=L.navigation;!ce&&U&&F&&Y&&Q&&(ce={formMethod:U,formAction:F,formEncType:Q,formData:Y}),yU.has(D.status)&&ce&&Qr(ce.formMethod)?await P(T,x,{submission:Ve({},ce,{formAction:D.location}),preventScrollReset:v}):await P(T,x,{overrideNavigation:{state:"loading",location:x,formMethod:ce?ce.formMethod:void 0,formAction:ce?ce.formAction:void 0,formEncType:ce?ce.formEncType:void 0,formData:ce?ce.formData:void 0},preventScrollReset:v})}async function Ge(L,D,j,ae,ce){let Ee=await Promise.all([...j.map(T=>Ll("loader",ce,T,D,n,e,m.basename)),...ae.map(T=>T.matches&&T.match?Ll("loader",Pl(t.history,T.path,ce.signal),T.match,T.matches,n,e,m.basename):{type:Ct.error,error:br(404,{pathname:T.path})})]),me=Ee.slice(0,j.length),x=Ee.slice(j.length);return await Promise.all([Bb(L,j,me,ce.signal,!1,p.loaderData),Bb(L,ae.map(T=>T.match),x,ce.signal,!0)]),{results:Ee,loaderResults:me,fetcherResults:x}}function Me(){_=!0,S.push(...Si()),ve.forEach((L,D)=>{R.has(D)&&(k.push(D),Yt(D))})}function je(L,D,j){let ae=ra(p.matches,D);Dt(L),B({errors:{[ae.route.id]:j},fetchers:new Map(p.fetchers)})}function Dt(L){R.has(L)&&Yt(L),ve.delete(L),z.delete(L),de.delete(L),p.fetchers.delete(L)}function Yt(L){let D=R.get(L);ke(D,"Expected fetch controller: "+L),D.abort(),R.delete(L)}function vt(L){for(let D of L){let ae={state:"idle",data:X(D).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};p.fetchers.set(D,ae)}}function wt(){let L=[];for(let D of de){let j=p.fetchers.get(D);ke(j,"Expected fetcher: "+D),j.state==="loading"&&(de.delete(D),L.push(D))}vt(L)}function zr(L){let D=[];for(let[j,ae]of z)if(ae<L){let ce=p.fetchers.get(j);ke(ce,"Expected fetcher: "+j),ce.state==="loading"&&(Yt(j),z.delete(j),D.push(j))}return vt(D),D.length>0}function Sl(L,D){let j=p.blockers.get(L)||Pb;return $.get(L)!==D&&$.set(L,D),j}function Bt(L){p.blockers.delete(L),$.delete(L)}function zn(L,D){let j=p.blockers.get(L)||Pb;ke(j.state==="unblocked"&&D.state==="blocked"||j.state==="blocked"&&D.state==="blocked"||j.state==="blocked"&&D.state==="proceeding"||j.state==="blocked"&&D.state==="unblocked"||j.state==="proceeding"&&D.state==="unblocked","Invalid blocker state transition: "+j.state+" -> "+D.state),p.blockers.set(L,D),B({blockers:new Map(p.blockers)})}function bi(L){let{currentLocation:D,nextLocation:j,historyAction:ae}=L;if($.size===0)return;$.size>1&&co(!1,"A router only supports one blocker at a time");let ce=Array.from($.entries()),[Ee,me]=ce[ce.length-1],x=p.blockers.get(Ee);if(!(x&&x.state==="proceeding")&&me({currentLocation:D,nextLocation:j,historyAction:ae}))return Ee}function Si(L){let D=[];return J.forEach((j,ae)=>{(!L||L(ae))&&(j.cancel(),D.push(ae),J.delete(ae))}),D}function Hr(L,D,j){if(a=L,u=D,l=j||(ae=>ae.key),!c&&p.navigation===Ng){c=!0;let ae=Cs(p.location,p.matches);ae!=null&&B({restoreScrollPosition:ae})}return()=>{a=null,u=null,l=null}}function Ti(L,D){if(a&&l&&u){let j=D.map(ce=>jb(ce,p.loaderData)),ae=l(L,j)||L.key;a[ae]=u()}}function Cs(L,D){if(a&&l&&u){let j=D.map(Ee=>jb(Ee,p.loaderData)),ae=l(L,j)||L.key,ce=a[ae];if(typeof ce=="number")return ce}return null}function $o(L){i=L}return m={get basename(){return t.basename},get state(){return p},get routes(){return r},initialize:Z,subscribe:N,enableScrollRestoration:Hr,navigate:te,fetch:pe,revalidate:C,createHref:L=>t.history.createHref(L),encodeLocation:L=>t.history.encodeLocation(L),getFetcher:X,deleteFetcher:Dt,dispose:A,getBlocker:Sl,deleteBlocker:Bt,_internalFetchControllers:R,_internalActiveDeferreds:J,_internalSetRoutes:$o},m}function bU(t){return t!=null&&"formData"in t}function Ob(t,e,n){n===void 0&&(n=!1);let r=typeof t=="string"?t:hi(t);if(!e||!bU(e))return{path:r};if(e.formMethod&&!CU(e.formMethod))return{path:r,error:br(405,{method:e.formMethod})};let i;if(e.formData&&(i={formMethod:e.formMethod||"get",formAction:$C(r),formEncType:e&&e.formEncType||"application/x-www-form-urlencoded",formData:e.formData},Qr(i.formMethod)))return{path:r,submission:i};let s=Ur(r),o=MC(e.formData);return n&&s.search&&VC(s.search)&&o.append("index",""),s.search="?"+o,{path:hi(s),submission:i}}function SU(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function Db(t,e,n,r,i,s,o,a,l,u,c,d,h){let f=h?Object.values(h)[0]:d?Object.values(d)[0]:void 0,m=t.createURL(e.location),p=t.createURL(i),w=s||m.toString()===p.toString()||m.search!==p.search,v=h?Object.keys(h)[0]:void 0,y=SU(n,v).filter((S,k)=>{if(S.route.lazy)return!0;if(S.route.loader==null)return!1;if(TU(e.loaderData,e.matches[k],S)||o.some(K=>K===S.route.id))return!0;let R=e.matches[k],I=S;return Mb(S,Ve({currentUrl:m,currentParams:R.params,nextUrl:p,nextParams:I.params},r,{actionResult:f,defaultShouldRevalidate:w||DC(R,I)}))}),_=[];return l.forEach((S,k)=>{if(!n.some(z=>z.route.id===S.routeId))return;let R=na(u,S.path,c);if(!R){_.push(Ve({key:k},S,{matches:null,match:null}));return}let I=Tv(R,S.path);if(a.includes(k)){_.push(Ve({key:k,matches:R,match:I},S));return}Mb(I,Ve({currentUrl:m,currentParams:e.matches[e.matches.length-1].params,nextUrl:p,nextParams:n[n.length-1].params},r,{actionResult:f,defaultShouldRevalidate:w}))&&_.push(Ve({key:k,matches:R,match:I},S))}),[y,_]}function TU(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function DC(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Mb(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function Sv(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];ke(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";co(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!z$.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,{hasErrorBoundary:e(Ve({},i)),lazy:void 0})}async function Ll(t,e,n,r,i,s,o,a,l,u){o===void 0&&(o="/"),a===void 0&&(a=!1),l===void 0&&(l=!1);let c,d,h,f=w=>{let v,g=new Promise((y,_)=>v=_);return h=()=>v(),e.signal.addEventListener("abort",h),Promise.race([w({request:e,params:n.params,context:u}),g])};try{let w=n.route[t];if(n.route.lazy)if(w)d=(await Promise.all([f(w),Sv(n.route,s,i)]))[0];else if(await Sv(n.route,s,i),w=n.route[t],w)d=await f(w);else{if(t==="action")throw br(405,{method:e.method,pathname:new URL(e.url).pathname,routeId:n.route.id});return{type:Ct.data,data:void 0}}else ke(w,"Could not find the "+t+' to run on the "'+n.route.id+'" route'),d=await f(w);ke(d!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(w){c=Ct.error,d=w}finally{h&&e.signal.removeEventListener("abort",h)}if(kU(d)){let w=d.status;if(gU.has(w)){let y=d.headers.get("Location");if(ke(y,"Redirects returned/thrown from loaders/actions must have a Location header"),PC.test(y)){if(!a){let _=new URL(e.url),S=y.startsWith("//")?new URL(_.protocol+y):new URL(y),k=Lc(S.pathname,o)!=null;S.origin===_.origin&&k&&(y=S.pathname+S.search+S.hash)}}else{let _=r.slice(0,r.indexOf(n)+1),S=kp(_).map(R=>R.pathnameBase),k=Fw(y,S,new URL(e.url).pathname);if(ke(hi(k),"Unable to resolve redirect location: "+y),o){let R=k.pathname;k.pathname=R==="/"?o:si([o,R])}y=hi(k)}if(a)throw d.headers.set("Location",y),d;return{type:Ct.redirect,status:w,location:y,revalidate:d.headers.get("X-Remix-Revalidate")!==null}}if(l)throw{type:c||Ct.data,response:d};let v,g=d.headers.get("Content-Type");return g&&/\bapplication\/json\b/.test(g)?v=await d.json():v=await d.text(),c===Ct.error?{type:c,error:new Bw(w,d.statusText,v),headers:d.headers}:{type:Ct.data,data:v,statusCode:d.status,headers:d.headers}}if(c===Ct.error)return{type:c,error:d};if(d instanceof cU){var m,p;return{type:Ct.deferred,deferredData:d,statusCode:(m=d.init)==null?void 0:m.status,headers:((p=d.init)==null?void 0:p.headers)&&new Headers(d.init.headers)}}return{type:Ct.data,data:d}}function Pl(t,e,n,r){let i=t.createURL($C(e)).toString(),s={signal:n};if(r&&Qr(r.formMethod)){let{formMethod:o,formEncType:a,formData:l}=r;s.method=o.toUpperCase(),s.body=a==="application/x-www-form-urlencoded"?MC(l):l}return new Request(i,s)}function MC(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,r instanceof File?r.name:r);return e}function xU(t,e,n,r,i){let s={},o=null,a,l=!1,u={};return n.forEach((c,d)=>{let h=e[d].route.id;if(ke(!ga(c),"Cannot handle redirect results in processLoaderData"),fu(c)){let f=ra(t,h),m=c.error;r&&(m=Object.values(r)[0],r=void 0),o=o||{},o[f.route.id]==null&&(o[f.route.id]=m),s[h]=void 0,l||(l=!0,a=NC(c.error)?c.error.status:500),c.headers&&(u[h]=c.headers)}else Ws(c)?(i.set(h,c.deferredData),s[h]=c.deferredData.data):s[h]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[h]=c.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function $b(t,e,n,r,i,s,o,a){let{loaderData:l,errors:u}=xU(e,n,r,i,a);for(let c=0;c<s.length;c++){let{key:d,match:h}=s[c];ke(o!==void 0&&o[c]!==void 0,"Did not find corresponding fetcher result");let f=o[c];if(fu(f)){let m=ra(t.matches,h==null?void 0:h.route.id);u&&u[m.route.id]||(u=Ve({},u,{[m.route.id]:f.error})),t.fetchers.delete(d)}else if(ga(f))ke(!1,"Unhandled fetcher revalidation redirect");else if(Ws(f))ke(!1,"Unhandled fetcher deferred data");else{let m={state:"idle",data:f.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};t.fetchers.set(d,m)}}return{loaderData:l,errors:u}}function Ub(t,e,n,r){let i=Ve({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function ra(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Vb(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function br(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"&&(a="defer() is not supported in actions")):t===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",a='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new Bw(t||500,o,new Error(a),!0)}function Fb(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(ga(n))return n}}function $C(t){let e=typeof t=="string"?Ur(t):t;return hi(Ve({},e,{hash:""}))}function RU(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash!==e.hash}function Ws(t){return t.type===Ct.deferred}function fu(t){return t.type===Ct.error}function ga(t){return(t&&t.type)===Ct.redirect}function kU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function CU(t){return mU.has(t)}function Qr(t){return fU.has(t)}async function Bb(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let u=t.find(d=>d.route.id===l.route.id),c=u!=null&&!DC(u,l)&&(s&&s[l.route.id])!==void 0;Ws(a)&&(i||c)&&await UC(a,r,i).then(d=>{d&&(n[o]=d||n[o])})}}async function UC(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Ct.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Ct.error,error:i}}return{type:Ct.data,data:t.deferredData.data}}}function VC(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function jb(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function Tv(t,e){let n=typeof e=="string"?Ur(e).search:e.search;if(t[t.length-1].route.index&&VC(n||""))return t[t.length-1];let r=kp(t);return r[r.length-1]}/**
 * React Router v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function AU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const IU=typeof Object.is=="function"?Object.is:AU,{useState:NU,useEffect:LU,useLayoutEffect:PU,useDebugValue:OU}=Cy;function DU(t,e,n){const r=e(),[{inst:i},s]=NU({inst:{value:r,getSnapshot:e}});return PU(()=>{i.value=r,i.getSnapshot=e,Lg(i)&&s({inst:i})},[t,r,e]),LU(()=>(Lg(i)&&s({inst:i}),t(()=>{Lg(i)&&s({inst:i})})),[t]),OU(r),r}function Lg(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!IU(n,r)}catch{return!0}}function MU(t,e,n){return e()}const $U=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UU=!$U,VU=UU?MU:DU,FU="useSyncExternalStore"in Cy?(t=>t.useSyncExternalStore)(Cy):VU,Cp=E.createContext(null),rl=E.createContext(null),il=E.createContext(null),Ap=E.createContext(null),_s=E.createContext({outlet:null,matches:[]}),FC=E.createContext(null);function xv(){return xv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xv.apply(this,arguments)}function BU(t,e){let{relative:n}=e===void 0?{}:e;sl()||ke(!1);let{basename:r,navigator:i}=E.useContext(il),{hash:s,pathname:o,search:a}=zw(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:si([r,o])),i.createHref({pathname:l,search:a,hash:s})}function sl(){return E.useContext(Ap)!=null}function ol(){return sl()||ke(!1),E.useContext(Ap).location}function Vr(){sl()||ke(!1);let{basename:t,navigator:e}=E.useContext(il),{matches:n}=E.useContext(_s),{pathname:r}=ol(),i=JSON.stringify(kp(n).map(a=>a.pathnameBase)),s=E.useRef(!1);return E.useEffect(()=>{s.current=!0}),E.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let u=Fw(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:si([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[t,e,i,r])}const jU=E.createContext(null);function zU(t){let e=E.useContext(_s).outlet;return e&&E.createElement(jU.Provider,{value:t},e)}function jw(){let{matches:t}=E.useContext(_s),e=t[t.length-1];return e?e.params:{}}function zw(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=E.useContext(_s),{pathname:i}=ol(),s=JSON.stringify(kp(r).map(o=>o.pathnameBase));return E.useMemo(()=>Fw(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function HU(t,e){sl()||ke(!1);let{navigator:n}=E.useContext(il),r=E.useContext(rl),{matches:i}=E.useContext(_s),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=ol(),u;if(e){var c;let p=typeof e=="string"?Ur(e):e;a==="/"||(c=p.pathname)!=null&&c.startsWith(a)||ke(!1),u=p}else u=l;let d=u.pathname||"/",h=a==="/"?d:d.slice(a.length)||"/",f=na(t,{pathname:h}),m=GU(f&&f.map(p=>Object.assign({},p,{params:Object.assign({},o,p.params),pathname:si([a,n.encodeLocation?n.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?a:si([a,n.encodeLocation?n.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),i,r||void 0);return e&&m?E.createElement(Ap.Provider,{value:{location:xv({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Et.Pop}},m):m}function WU(){let t=ZU(),e=NC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,s)}class qU extends E.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?E.createElement(_s.Provider,{value:this.props.routeContext},E.createElement(FC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function KU(t){let{routeContext:e,match:n,children:r}=t,i=E.useContext(Cp);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(_s.Provider,{value:e},r)}function GU(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||ke(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,u=null;n&&(o.route.ErrorBoundary?u=E.createElement(o.route.ErrorBoundary,null):o.route.errorElement?u=o.route.errorElement:u=E.createElement(WU,null));let c=e.concat(r.slice(0,a+1)),d=()=>{let h=s;return l?h=u:o.route.Component?h=E.createElement(o.route.Component,null):o.route.element&&(h=o.route.element),E.createElement(KU,{match:o,routeContext:{outlet:s,matches:c},children:h})};return n&&(o.route.ErrorBoundary||o.route.errorElement||a===0)?E.createElement(qU,{location:n.location,component:u,error:l,children:d(),routeContext:{outlet:null,matches:c}}):d()},null)}var zb;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(zb||(zb={}));var Ia;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(Ia||(Ia={}));function Hw(t){let e=E.useContext(rl);return e||ke(!1),e}function QU(t){let e=E.useContext(_s);return e||ke(!1),e}function YU(t){let e=QU(),n=e.matches[e.matches.length-1];return n.route.id||ke(!1),n.route.id}function XU(){return Hw(Ia.UseNavigation).navigation}function JU(){let{matches:t,loaderData:e}=Hw(Ia.UseMatches);return E.useMemo(()=>t.map(n=>{let{pathname:r,params:i}=n;return{id:n.route.id,pathname:r,params:i,data:e[n.route.id],handle:n.route.handle}}),[t,e])}function ZU(){var t;let e=E.useContext(FC),n=Hw(Ia.UseRouteError),r=YU(Ia.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function eV(t){let{fallbackElement:e,router:n}=t,r=E.useCallback(()=>n.state,[n]),i=FU(n.subscribe,r,r),s=E.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:l=>n.navigate(l),push:(l,u,c)=>n.navigate(l,{state:u,preventScrollReset:c==null?void 0:c.preventScrollReset}),replace:(l,u,c)=>n.navigate(l,{replace:!0,state:u,preventScrollReset:c==null?void 0:c.preventScrollReset})}),[n]),o=n.basename||"/",a=E.useMemo(()=>({router:n,navigator:s,static:!1,basename:o}),[n,s,o]);return E.createElement(E.Fragment,null,E.createElement(Cp.Provider,{value:a},E.createElement(rl.Provider,{value:i},E.createElement(iV,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:s},n.state.initialized?E.createElement(sV,null):e))),null)}function tV(t){let{to:e,replace:n,state:r,relative:i}=t;sl()||ke(!1);let s=E.useContext(rl),o=Vr();return E.useEffect(()=>{s&&s.navigation.state!=="idle"||o(e,{replace:n,state:r,relative:i})}),null}function nV(t){return zU(t.context)}function rV(t){ke(!1)}function iV(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Et.Pop,navigator:s,static:o=!1}=t;sl()&&ke(!1);let a=e.replace(/^\/*/,"/"),l=E.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Ur(r));let{pathname:u="/",search:c="",hash:d="",state:h=null,key:f="default"}=r,m=E.useMemo(()=>{let p=Lc(u,a);return p==null?null:{location:{pathname:p,search:c,hash:d,state:h,key:f},navigationType:i}},[a,u,c,d,h,f,i]);return m==null?null:E.createElement(il.Provider,{value:l},E.createElement(Ap.Provider,{children:n,value:m}))}function sV(t){let{children:e,location:n}=t,r=E.useContext(Cp),i=r&&!e?r.router.routes:Rv(e);return HU(i,n)}var Hb;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(Hb||(Hb={}));new Promise(()=>{});function Rv(t,e){e===void 0&&(e=[]);let n=[];return E.Children.forEach(t,(r,i)=>{if(!E.isValidElement(r))return;if(r.type===E.Fragment){n.push.apply(n,Rv(r.props.children,e));return}r.type!==rV&&ke(!1),!r.props.index||!r.props.children||ke(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Rv(r.props.children,s)),n.push(o)}),n}function oV(t){return Boolean(t.ErrorBoundary)||Boolean(t.errorElement)}/**
 * React Router DOM v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nc(){return nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nc.apply(this,arguments)}function BC(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function aV(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function lV(t,e){return t.button===0&&(!e||e==="_self")&&!aV(t)}const uV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],cV=["aria-current","caseSensitive","className","end","style","to","children"];function dV(t,e){return EU({basename:e==null?void 0:e.basename,history:F$({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||hV(),routes:t,detectErrorBoundary:oV}).initialize()}function hV(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=nc({},e,{errors:fV(e.errors)})),e}function fV(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Bw(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let s=new Error(i.message);s.stack="",n[r]=s}else n[r]=i;return n}const pV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vt=E.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=e,d=BC(e,uV),{basename:h}=E.useContext(il),f,m=!1;if(typeof u=="string"&&mV.test(u)&&(f=u,pV)){let g=new URL(window.location.href),y=u.startsWith("//")?new URL(g.protocol+u):new URL(u),_=Lc(y.pathname,h);y.origin===g.origin&&_!=null?u=_+y.search+y.hash:m=!0}let p=BU(u,{relative:i}),w=wV(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i});function v(g){r&&r(g),g.defaultPrevented||w(g)}return E.createElement("a",nc({},d,{href:f||p,onClick:m||s?r:v,ref:n,target:l}))}),Pg=E.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,children:u}=e,c=BC(e,cV),d=zw(l,{relative:c.relative}),h=ol(),f=E.useContext(rl),{navigator:m}=E.useContext(il),p=m.encodeLocation?m.encodeLocation(d).pathname:d.pathname,w=h.pathname,v=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;i||(w=w.toLowerCase(),v=v?v.toLowerCase():null,p=p.toLowerCase());let g=w===p||!o&&w.startsWith(p)&&w.charAt(p.length)==="/",y=v!=null&&(v===p||!o&&v.startsWith(p)&&v.charAt(p.length)==="/"),_=g?r:void 0,S;typeof s=="function"?S=s({isActive:g,isPending:y}):S=[s,g?"active":null,y?"pending":null].filter(Boolean).join(" ");let k=typeof a=="function"?a({isActive:g,isPending:y}):a;return E.createElement(Vt,nc({},c,{"aria-current":_,className:S,ref:n,style:k,to:l}),typeof u=="function"?u({isActive:g,isPending:y}):u)});function gV(t){let{getKey:e,storageKey:n}=t;return _V({getKey:e,storageKey:n}),null}var kv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(kv||(kv={}));var Cv;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Cv||(Cv={}));function yV(t){let e=E.useContext(Cp);return e||ke(!1),e}function vV(t){let e=E.useContext(rl);return e||ke(!1),e}function wV(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=Vr(),l=ol(),u=zw(t,{relative:o});return E.useCallback(c=>{if(lV(c,n)){c.preventDefault();let d=r!==void 0?r:hi(l)===hi(u);a(t,{replace:d,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,n,t,s,o])}const Wb="react-router-scroll-positions";let $d={};function _V(t){let{getKey:e,storageKey:n}=t===void 0?{}:t,{router:r}=yV(kv.UseScrollRestoration),{restoreScrollPosition:i,preventScrollReset:s}=vV(Cv.UseScrollRestoration),o=ol(),a=JU(),l=XU();E.useEffect(()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}),[]),EV(E.useCallback(()=>{if(l.state==="idle"){let u=(e?e(o,a):null)||o.key;$d[u]=window.scrollY}sessionStorage.setItem(n||Wb,JSON.stringify($d)),window.history.scrollRestoration="auto"},[n,e,l.state,o,a])),typeof document<"u"&&(E.useLayoutEffect(()=>{try{let u=sessionStorage.getItem(n||Wb);u&&($d=JSON.parse(u))}catch{}},[n]),E.useLayoutEffect(()=>{let u=r==null?void 0:r.enableScrollRestoration($d,()=>window.scrollY,e);return()=>u&&u()},[r,e]),E.useLayoutEffect(()=>{if(i!==!1){if(typeof i=="number"){window.scrollTo(0,i);return}if(o.hash){let u=document.getElementById(o.hash.slice(1));if(u){u.scrollIntoView();return}}s!==!0&&window.scrollTo(0,0)}},[o,i,s]))}function EV(t,e){let{capture:n}=e||{};E.useEffect(()=>{let r=n!=null?{capture:n}:void 0;return window.addEventListener("pagehide",t,r),()=>{window.removeEventListener("pagehide",t,r)}},[t,n])}function bV(t,e){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:e},t),E.createElement("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"}))}const SV=E.forwardRef(bV),jC=SV;function TV(t,e){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:e},t),E.createElement("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"}))}const xV=E.forwardRef(TV),RV=xV;function kV(t,e){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:e},t),E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"}))}const CV=E.forwardRef(kV),zC=CV;function AV(t,e){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:e},t),E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"}))}const IV=E.forwardRef(AV),HC=IV;function NV(t,e){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:e},t),E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"}))}const LV=E.forwardRef(NV),WC=LV;function PV(t,e){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:e},t),E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))}const OV=E.forwardRef(PV),qC=OV;function DV(t,e){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:e},t),E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"}))}const MV=E.forwardRef(DV),KC=MV;function $V(t,e){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:e},t),E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"}))}const UV=E.forwardRef($V),GC=UV;function VV(t,e){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:e},t),E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"}))}const FV=E.forwardRef(VV),BV=FV;function jV(t,e){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:e},t),E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"}))}const zV=E.forwardRef(jV),QC=zV;function HV(t,e){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:e},t),E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"}))}const WV=E.forwardRef(HV),qV=WV;function KV(t,e){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:e},t),E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"}))}const GV=E.forwardRef(KV),QV=GV;function YV(t,e){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:e},t),E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"}))}const XV=E.forwardRef(YV),JV=XV;function ZV(t,e){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:e},t),E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"}))}const eF=E.forwardRef(ZV),YC=eF;function tF(t,e){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:e},t),E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"}))}const nF=E.forwardRef(tF),rF=nF;function iF(t,e){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:e},t),E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"}))}const sF=E.forwardRef(iF),XC=sF;function oF(t,e){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:e},t),E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"}))}const aF=E.forwardRef(oF),Ww=aF;function lF(t,e){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:e},t),E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"}))}const uF=E.forwardRef(lF),qw=uF;function cF(t,e){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:e},t),E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"}))}const dF=E.forwardRef(cF),JC=dF;function hF(t,e){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:e},t),E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}))}const fF=E.forwardRef(hF),ZC=fF,Og=({text:t,Icon:e,active:n})=>b(ct,{children:H("div",{className:"hoverEffect flex justify-center xl:justify-start items-center text-gray-700 dark:text-white text-lg gap-x-3",children:[b(e,{className:"h-7"}),b("span",{className:"hidden xl:inline",children:t})]})});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},pF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},tA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(eA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):pF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new mF;const h=s<<2|a>>4;if(r.push(h),u!==64){const f=a<<4&240|u>>2;if(r.push(f),d!==64){const m=u<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class mF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gF=function(t){const e=eA(t);return tA.encodeByteArray(e,!0)},cf=function(t){return gF(t).replace(/\./g,"")},nA=function(t){try{return tA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF=()=>yF().__FIREBASE_DEFAULTS__,wF=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_F=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&nA(t[1]);return e&&JSON.parse(e)},Ip=()=>{try{return vF()||wF()||_F()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},rA=t=>{var e,n;return(n=(e=Ip())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},iA=t=>{const e=rA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},EF=()=>{var t;return(t=Ip())===null||t===void 0?void 0:t.config},sA=t=>{var e;return(e=Ip())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[cf(JSON.stringify(n)),cf(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function TF(){var t;const e=(t=Ip())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function RF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kF(){const t=cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function CF(){try{return typeof indexedDB=="object"}catch{return!1}}function AF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF="FirebaseError";class Fr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=IF,Object.setPrototypeOf(this,Fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pc.prototype.create)}}class Pc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?NF(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Fr(i,a,r)}}function NF(t,e){return t.replace(LF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const LF=/\{\$([^}]+)}/g;function PF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function df(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(qb(s)&&qb(o)){if(!df(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function qb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ql(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Yl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function OF(t,e){const n=new DF(t,e);return n.subscribe.bind(n)}class DF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");MF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Dg),i.error===void 0&&(i.error=Dg),i.complete===void 0&&(i.complete=Dg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t){return t&&t._delegate?t._delegate:t}class ls{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new bF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VF(e))try{this.getOrInitializeService({instanceIdentifier:Ps})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ps){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ps){return this.instances.has(e)}getOptions(e=Ps){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ps){return this.component?this.component.multipleInstances?e:Ps:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UF(t){return t===Ps?void 0:t}function VF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $F(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ze||(ze={}));const BF={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},jF=ze.INFO,zF={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},HF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=zF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kw{constructor(e){this.name=e,this._logLevel=jF,this._logHandler=HF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const WF=(t,e)=>e.some(n=>t instanceof n);let Kb,Gb;function qF(){return Kb||(Kb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KF(){return Gb||(Gb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aA=new WeakMap,Av=new WeakMap,lA=new WeakMap,Mg=new WeakMap,Gw=new WeakMap;function GF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(es(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&aA.set(n,t)}).catch(()=>{}),Gw.set(e,t),e}function QF(t){if(Av.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Av.set(t,e)}let Iv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Av.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return es(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function YF(t){Iv=t(Iv)}function XF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($g(this),e,...n);return lA.set(r,e.sort?e.sort():[e]),es(r)}:KF().includes(t)?function(...e){return t.apply($g(this),e),es(aA.get(this))}:function(...e){return es(t.apply($g(this),e))}}function JF(t){return typeof t=="function"?XF(t):(t instanceof IDBTransaction&&QF(t),WF(t,qF())?new Proxy(t,Iv):t)}function es(t){if(t instanceof IDBRequest)return GF(t);if(Mg.has(t))return Mg.get(t);const e=JF(t);return e!==t&&(Mg.set(t,e),Gw.set(e,t)),e}const $g=t=>Gw.get(t);function ZF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=es(o);return r&&o.addEventListener("upgradeneeded",l=>{r(es(o.result),l.oldVersion,l.newVersion,es(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const eB=["get","getKey","getAll","getAllKeys","count"],tB=["put","add","delete","clear"],Ug=new Map;function Qb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ug.get(e))return Ug.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=tB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||eB.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Ug.set(e,s),s}YF(t=>({...t,get:(e,n,r)=>Qb(e,n)||t.get(e,n,r),has:(e,n)=>!!Qb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function rB(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Nv="@firebase/app",Yb="0.9.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=new Kw("@firebase/app"),iB="@firebase/app-compat",sB="@firebase/analytics-compat",oB="@firebase/analytics",aB="@firebase/app-check-compat",lB="@firebase/app-check",uB="@firebase/auth",cB="@firebase/auth-compat",dB="@firebase/database",hB="@firebase/database-compat",fB="@firebase/functions",pB="@firebase/functions-compat",mB="@firebase/installations",gB="@firebase/installations-compat",yB="@firebase/messaging",vB="@firebase/messaging-compat",wB="@firebase/performance",_B="@firebase/performance-compat",EB="@firebase/remote-config",bB="@firebase/remote-config-compat",SB="@firebase/storage",TB="@firebase/storage-compat",xB="@firebase/firestore",RB="@firebase/firestore-compat",kB="firebase",CB="9.17.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="[DEFAULT]",AB={[Nv]:"fire-core",[iB]:"fire-core-compat",[oB]:"fire-analytics",[sB]:"fire-analytics-compat",[lB]:"fire-app-check",[aB]:"fire-app-check-compat",[uB]:"fire-auth",[cB]:"fire-auth-compat",[dB]:"fire-rtdb",[hB]:"fire-rtdb-compat",[fB]:"fire-fn",[pB]:"fire-fn-compat",[mB]:"fire-iid",[gB]:"fire-iid-compat",[yB]:"fire-fcm",[vB]:"fire-fcm-compat",[wB]:"fire-perf",[_B]:"fire-perf-compat",[EB]:"fire-rc",[bB]:"fire-rc-compat",[SB]:"fire-gcs",[TB]:"fire-gcs-compat",[xB]:"fire-fst",[RB]:"fire-fst-compat","fire-js":"fire-js",[kB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf=new Map,Pv=new Map;function IB(t,e){try{t.container.addComponent(e)}catch(n){ho.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fo(t){const e=t.name;if(Pv.has(e))return ho.debug(`There were multiple attempts to register component ${e}.`),!1;Pv.set(e,t);for(const n of hf.values())IB(n,t);return!0}function Np(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NB={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ts=new Pc("app","Firebase",NB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al=CB;function uA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Lv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ts.create("bad-app-name",{appName:String(i)});if(n||(n=EF()),!n)throw ts.create("no-options");const s=hf.get(i);if(s){if(df(n,s.options)&&df(r,s.config))return s;throw ts.create("duplicate-app",{appName:i})}const o=new FF(i);for(const l of Pv.values())o.addComponent(l);const a=new LB(n,r,o);return hf.set(i,a),a}function Qw(t=Lv){const e=hf.get(t);if(!e&&t===Lv)return uA();if(!e)throw ts.create("no-app",{appName:t});return e}function Ar(t,e,n){var r;let i=(r=AB[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ho.warn(a.join(" "));return}fo(new ls(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PB="firebase-heartbeat-database",OB=1,rc="firebase-heartbeat-store";let Vg=null;function cA(){return Vg||(Vg=ZF(PB,OB,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(rc)}}}).catch(t=>{throw ts.create("idb-open",{originalErrorMessage:t.message})})),Vg}async function DB(t){try{return(await cA()).transaction(rc).objectStore(rc).get(dA(t))}catch(e){if(e instanceof Fr)ho.warn(e.message);else{const n=ts.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ho.warn(n.message)}}}async function Xb(t,e){try{const r=(await cA()).transaction(rc,"readwrite");return await r.objectStore(rc).put(e,dA(t)),r.done}catch(n){if(n instanceof Fr)ho.warn(n.message);else{const r=ts.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ho.warn(r.message)}}}function dA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MB=1024,$B=30*24*60*60*1e3;class UB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Jb();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=$B}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Jb(),{heartbeatsToSend:n,unsentEntries:r}=VB(this._heartbeatsCache.heartbeats),i=cf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Jb(){return new Date().toISOString().substring(0,10)}function VB(t,e=MB){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Zb(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Zb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class FB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CF()?AF().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await DB(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Xb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Xb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Zb(t){return cf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BB(t){fo(new ls("platform-logger",e=>new nB(e),"PRIVATE")),fo(new ls("heartbeat",e=>new UB(e),"PRIVATE")),Ar(Nv,Yb,t),Ar(Nv,Yb,"esm2017"),Ar("fire-js","")}BB("");var jB="firebase",zB="9.17.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ar(jB,zB,"app");var HB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ue,Yw=Yw||{},xe=HB||self;function ff(){}function Lp(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Dc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function WB(t){return Object.prototype.hasOwnProperty.call(t,Fg)&&t[Fg]||(t[Fg]=++qB)}var Fg="closure_uid_"+(1e9*Math.random()>>>0),qB=0;function KB(t,e,n){return t.call.apply(t.bind,arguments)}function GB(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function on(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?on=KB:on=GB,on.apply(null,arguments)}function Ud(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Qt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Es(){this.s=this.s,this.o=this.o}var QB=0;Es.prototype.s=!1;Es.prototype.na=function(){!this.s&&(this.s=!0,this.M(),QB!=0)&&WB(this)};Es.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const hA=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Xw(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function eS(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Lp(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function an(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}an.prototype.h=function(){this.defaultPrevented=!0};var YB=function(){if(!xe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{xe.addEventListener("test",ff,e),xe.removeEventListener("test",ff,e)}catch{}return t}();function pf(t){return/^[\s\xa0]*$/.test(t)}var tS=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Bg(t,e){return t<e?-1:t>e?1:0}function Pp(){var t=xe.navigator;return t&&(t=t.userAgent)?t:""}function xr(t){return Pp().indexOf(t)!=-1}function Jw(t){return Jw[" "](t),t}Jw[" "]=ff;function XB(t){var e=e3;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var JB=xr("Opera"),Na=xr("Trident")||xr("MSIE"),fA=xr("Edge"),Ov=fA||Na,pA=xr("Gecko")&&!(Pp().toLowerCase().indexOf("webkit")!=-1&&!xr("Edge"))&&!(xr("Trident")||xr("MSIE"))&&!xr("Edge"),ZB=Pp().toLowerCase().indexOf("webkit")!=-1&&!xr("Edge");function mA(){var t=xe.document;return t?t.documentMode:void 0}var mf;e:{var jg="",zg=function(){var t=Pp();if(pA)return/rv:([^\);]+)(\)|;)/.exec(t);if(fA)return/Edge\/([\d\.]+)/.exec(t);if(Na)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(ZB)return/WebKit\/(\S+)/.exec(t);if(JB)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(zg&&(jg=zg?zg[1]:""),Na){var Hg=mA();if(Hg!=null&&Hg>parseFloat(jg)){mf=String(Hg);break e}}mf=jg}var e3={};function t3(){return XB(function(){let t=0;const e=tS(String(mf)).split("."),n=tS("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=Bg(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||Bg(i[2].length==0,s[2].length==0)||Bg(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var Dv;if(xe.document&&Na){var nS=mA();Dv=nS||parseInt(mf,10)||void 0}else Dv=void 0;var n3=Dv;function ic(t,e){if(an.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(pA){e:{try{Jw(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:r3[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ic.X.h.call(this)}}Qt(ic,an);var r3={2:"touch",3:"pen",4:"mouse"};ic.prototype.h=function(){ic.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Mc="closure_listenable_"+(1e6*Math.random()|0),i3=0;function s3(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++i3,this.ba=this.ea=!1}function Op(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function Zw(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function gA(t){const e={};for(const n in t)e[n]=t[n];return e}const rS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yA(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<rS.length;s++)n=rS[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Dp(t){this.src=t,this.g={},this.h=0}Dp.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=$v(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new s3(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function Mv(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=hA(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Op(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function $v(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var e1="closure_lm_"+(1e6*Math.random()|0),Wg={};function vA(t,e,n,r,i){if(r&&r.once)return _A(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)vA(t,e[s],n,r,i);return null}return n=r1(n),t&&t[Mc]?t.N(e,n,Dc(r)?!!r.capture:!!r,i):wA(t,e,n,!1,r,i)}function wA(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Dc(i)?!!i.capture:!!i,a=n1(t);if(a||(t[e1]=a=new Dp(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=o3(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)YB||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(bA(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function o3(){function t(n){return e.call(t.src,t.listener,n)}const e=a3;return t}function _A(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)_A(t,e[s],n,r,i);return null}return n=r1(n),t&&t[Mc]?t.O(e,n,Dc(r)?!!r.capture:!!r,i):wA(t,e,n,!0,r,i)}function EA(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)EA(t,e[s],n,r,i);else r=Dc(r)?!!r.capture:!!r,n=r1(n),t&&t[Mc]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=$v(s,n,r,i),-1<n&&(Op(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=n1(t))&&(e=t.g[e.toString()],t=-1,e&&(t=$v(e,n,r,i)),(n=-1<t?e[t]:null)&&t1(n))}function t1(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[Mc])Mv(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(bA(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=n1(e))?(Mv(n,t),n.h==0&&(n.src=null,e[e1]=null)):Op(t)}}}function bA(t){return t in Wg?Wg[t]:Wg[t]="on"+t}function a3(t,e){if(t.ba)t=!0;else{e=new ic(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&t1(t),t=n.call(r,e)}return t}function n1(t){return t=t[e1],t instanceof Dp?t:null}var qg="__closure_events_fn_"+(1e9*Math.random()>>>0);function r1(t){return typeof t=="function"?t:(t[qg]||(t[qg]=function(e){return t.handleEvent(e)}),t[qg])}function Ft(){Es.call(this),this.i=new Dp(this),this.P=this,this.I=null}Qt(Ft,Es);Ft.prototype[Mc]=!0;Ft.prototype.removeEventListener=function(t,e,n,r){EA(this,t,e,n,r)};function qt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new an(e,t);else if(e instanceof an)e.target=e.target||t;else{var i=e;e=new an(r,t),yA(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Vd(o,r,!0,e)&&i}if(o=e.g=t,i=Vd(o,r,!0,e)&&i,i=Vd(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Vd(o,r,!1,e)&&i}Ft.prototype.M=function(){if(Ft.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Op(n[r]);delete t.g[e],t.h--}}this.I=null};Ft.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ft.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Vd(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&Mv(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var i1=xe.JSON.stringify;function l3(){var t=xA;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class u3{constructor(){this.h=this.g=null}add(e,n){const r=SA.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var SA=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new c3,t=>t.reset());class c3{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function d3(t){xe.setTimeout(()=>{throw t},0)}function TA(t,e){Uv||h3(),Vv||(Uv(),Vv=!0),xA.add(t,e)}var Uv;function h3(){var t=xe.Promise.resolve(void 0);Uv=function(){t.then(f3)}}var Vv=!1,xA=new u3;function f3(){for(var t;t=l3();){try{t.h.call(t.g)}catch(n){d3(n)}var e=SA;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Vv=!1}function Mp(t,e){Ft.call(this),this.h=t||1,this.g=e||xe,this.j=on(this.lb,this),this.l=Date.now()}Qt(Mp,Ft);ue=Mp.prototype;ue.ca=!1;ue.R=null;ue.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),qt(this,"tick"),this.ca&&(s1(this),this.start()))}};ue.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function s1(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}ue.M=function(){Mp.X.M.call(this),s1(this),delete this.g};function o1(t,e,n){if(typeof t=="function")n&&(t=on(t,n));else if(t&&typeof t.handleEvent=="function")t=on(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:xe.setTimeout(t,e||0)}function RA(t){t.g=o1(()=>{t.g=null,t.i&&(t.i=!1,RA(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class p3 extends Es{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:RA(this)}M(){super.M(),this.g&&(xe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sc(t){Es.call(this),this.h=t,this.g={}}Qt(sc,Es);var iS=[];function kA(t,e,n,r){Array.isArray(n)||(n&&(iS[0]=n.toString()),n=iS);for(var i=0;i<n.length;i++){var s=vA(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function CA(t){Zw(t.g,function(e,n){this.g.hasOwnProperty(n)&&t1(e)},t),t.g={}}sc.prototype.M=function(){sc.X.M.call(this),CA(this)};sc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function $p(){this.g=!0}$p.prototype.Aa=function(){this.g=!1};function m3(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function g3(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function ia(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+v3(t,n)+(r?" "+r:"")})}function y3(t,e){t.info(function(){return"TIMEOUT: "+e})}$p.prototype.info=function(){};function v3(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return i1(n)}catch{return e}}var Co={},sS=null;function Up(){return sS=sS||new Ft}Co.Pa="serverreachability";function AA(t){an.call(this,Co.Pa,t)}Qt(AA,an);function oc(t){const e=Up();qt(e,new AA(e))}Co.STAT_EVENT="statevent";function IA(t,e){an.call(this,Co.STAT_EVENT,t),this.stat=e}Qt(IA,an);function mn(t){const e=Up();qt(e,new IA(e,t))}Co.Qa="timingevent";function NA(t,e){an.call(this,Co.Qa,t),this.size=e}Qt(NA,an);function $c(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return xe.setTimeout(function(){t()},e)}var Vp={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},LA={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function a1(){}a1.prototype.h=null;function oS(t){return t.h||(t.h=t.i())}function PA(){}var Uc={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function l1(){an.call(this,"d")}Qt(l1,an);function u1(){an.call(this,"c")}Qt(u1,an);var Fv;function Fp(){}Qt(Fp,a1);Fp.prototype.g=function(){return new XMLHttpRequest};Fp.prototype.i=function(){return{}};Fv=new Fp;function Vc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new sc(this),this.O=w3,t=Ov?125:void 0,this.T=new Mp(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new OA}function OA(){this.i=null,this.g="",this.h=!1}var w3=45e3,Bv={},gf={};ue=Vc.prototype;ue.setTimeout=function(t){this.O=t};function jv(t,e,n){t.K=1,t.v=jp(fi(e)),t.s=n,t.P=!0,DA(t,null)}function DA(t,e){t.F=Date.now(),Fc(t),t.A=fi(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),zA(n.i,"t",r),t.C=0,n=t.l.H,t.h=new OA,t.g=cI(t.l,n?e:null,!t.s),0<t.N&&(t.L=new p3(on(t.La,t,t.g),t.N)),kA(t.S,t.g,"readystatechange",t.ib),e=t.H?gA(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),oc(),m3(t.j,t.u,t.A,t.m,t.U,t.s)}ue.ib=function(t){t=t.target;const e=this.L;e&&ei(t)==3?e.l():this.La(t)};ue.La=function(t){try{if(t==this.g)e:{const c=ei(this.g);var e=this.g.Ea();const d=this.g.aa();if(!(3>c)&&(c!=3||Ov||this.g&&(this.h.h||this.g.fa()||cS(this.g)))){this.I||c!=4||e==7||(e==8||0>=d?oc(3):oc(2)),Bp(this);var n=this.g.aa();this.Y=n;t:if(MA(this)){var r=cS(this.g);t="";var i=r.length,s=ei(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qs(this),pu(this);var o="";break t}this.h.i=new xe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,g3(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pf(a)){var u=a;break t}}u=null}if(n=u)ia(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,zv(this,n);else{this.i=!1,this.o=3,mn(12),qs(this),pu(this);break e}}this.P?($A(this,c,o),Ov&&this.i&&c==3&&(kA(this.S,this.T,"tick",this.hb),this.T.start())):(ia(this.j,this.m,o,null),zv(this,o)),c==4&&qs(this),this.i&&!this.I&&(c==4?oI(this.l,this):(this.i=!1,Fc(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,mn(12)):(this.o=0,mn(13)),qs(this),pu(this)}}}catch{}finally{}};function MA(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function $A(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=_3(t,n),i==gf){e==4&&(t.o=4,mn(14),r=!1),ia(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Bv){t.o=4,mn(15),ia(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ia(t.j,t.m,i,null),zv(t,i);MA(t)&&i!=gf&&i!=Bv&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,mn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),g1(e),e.K=!0,mn(11))):(ia(t.j,t.m,n,"[Invalid Chunked Response]"),qs(t),pu(t))}ue.hb=function(){if(this.g){var t=ei(this.g),e=this.g.fa();this.C<e.length&&(Bp(this),$A(this,t,e),this.i&&t!=4&&Fc(this))}};function _3(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?gf:(n=Number(e.substring(n,r)),isNaN(n)?Bv:(r+=1,r+n>e.length?gf:(e=e.substr(r,n),t.C=r+n,e)))}ue.cancel=function(){this.I=!0,qs(this)};function Fc(t){t.V=Date.now()+t.O,UA(t,t.O)}function UA(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=$c(on(t.gb,t),e)}function Bp(t){t.B&&(xe.clearTimeout(t.B),t.B=null)}ue.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(y3(this.j,this.A),this.K!=2&&(oc(),mn(17)),qs(this),this.o=2,pu(this)):UA(this,this.V-t)};function pu(t){t.l.G==0||t.I||oI(t.l,t)}function qs(t){Bp(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,s1(t.T),CA(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function zv(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Hv(n.h,t))){if(!t.J&&Hv(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)wf(n),Wp(n);else break e;m1(n),mn(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=$c(on(n.cb,n),6e3));if(1>=qA(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Ks(n,11)}else if((t.J||n.g==t)&&wf(n),!pf(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const d=u[4];d!=null&&(n.Ca=d,n.j.info("SVER="+n.Ca));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const m=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.h;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(c1(s,s.h),s.h=null))}if(r.D){const p=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;p&&(r.za=p,rt(r.F,r.D,p))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=uI(r,r.H?r.ka:null,r.V),o.J){KA(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(Bp(a),Fc(a)),r.g=o}else iI(r);0<n.i.length&&qp(n)}else u[0]!="stop"&&u[0]!="close"||Ks(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Ks(n,7):p1(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}oc(4)}catch{}}function E3(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Lp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function b3(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Lp(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function VA(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Lp(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=b3(t),r=E3(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var FA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function S3(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Zs(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Zs){this.h=e!==void 0?e:t.h,yf(this,t.j),this.s=t.s,this.g=t.g,vf(this,t.m),this.l=t.l,e=t.i;var n=new ac;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),aS(this,n),this.o=t.o}else t&&(n=String(t).match(FA))?(this.h=!!e,yf(this,n[1]||"",!0),this.s=Xl(n[2]||""),this.g=Xl(n[3]||"",!0),vf(this,n[4]),this.l=Xl(n[5]||"",!0),aS(this,n[6]||"",!0),this.o=Xl(n[7]||"")):(this.h=!!e,this.i=new ac(null,this.h))}Zs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Jl(e,lS,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Jl(e,lS,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Jl(n,n.charAt(0)=="/"?R3:x3,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Jl(n,C3)),t.join("")};function fi(t){return new Zs(t)}function yf(t,e,n){t.j=n?Xl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function vf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function aS(t,e,n){e instanceof ac?(t.i=e,A3(t.i,t.h)):(n||(e=Jl(e,k3)),t.i=new ac(e,t.h))}function rt(t,e,n){t.i.set(e,n)}function jp(t){return rt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Xl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Jl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,T3),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function T3(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var lS=/[#\/\?@]/g,x3=/[#\?:]/g,R3=/[#\?]/g,k3=/[#\?@]/g,C3=/#/g;function ac(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function bs(t){t.g||(t.g=new Map,t.h=0,t.i&&S3(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ue=ac.prototype;ue.add=function(t,e){bs(this),this.i=null,t=ll(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function BA(t,e){bs(t),e=ll(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function jA(t,e){return bs(t),e=ll(t,e),t.g.has(e)}ue.forEach=function(t,e){bs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};ue.oa=function(){bs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};ue.W=function(t){bs(this);let e=[];if(typeof t=="string")jA(this,t)&&(e=e.concat(this.g.get(ll(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ue.set=function(t,e){return bs(this),this.i=null,t=ll(this,t),jA(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ue.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function zA(t,e,n){BA(t,e),0<n.length&&(t.i=null,t.g.set(ll(t,e),Xw(n)),t.h+=n.length)}ue.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function ll(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function A3(t,e){e&&!t.j&&(bs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(BA(this,r),zA(this,i,n))},t)),t.j=e}var I3=class{constructor(e,n){this.h=e,this.g=n}};function HA(t){this.l=t||N3,xe.PerformanceNavigationTiming?(t=xe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(xe.g&&xe.g.Ga&&xe.g.Ga()&&xe.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var N3=10;function WA(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function qA(t){return t.h?1:t.g?t.g.size:0}function Hv(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function c1(t,e){t.g?t.g.add(e):t.h=e}function KA(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}HA.prototype.cancel=function(){if(this.i=GA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function GA(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Xw(t.i)}function d1(){}d1.prototype.stringify=function(t){return xe.JSON.stringify(t,void 0)};d1.prototype.parse=function(t){return xe.JSON.parse(t,void 0)};function L3(){this.g=new d1}function P3(t,e,n){const r=n||"";try{VA(t,function(i,s){let o=i;Dc(i)&&(o=i1(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function O3(t,e){const n=new $p;if(xe.Image){const r=new Image;r.onload=Ud(Fd,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ud(Fd,n,r,"TestLoadImage: error",!1,e),r.onabort=Ud(Fd,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ud(Fd,n,r,"TestLoadImage: timeout",!1,e),xe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Fd(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Bc(t){this.l=t.ac||null,this.j=t.jb||!1}Qt(Bc,a1);Bc.prototype.g=function(){return new zp(this.l,this.j)};Bc.prototype.i=function(t){return function(){return t}}({});function zp(t,e){Ft.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=h1,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qt(zp,Ft);var h1=0;ue=zp.prototype;ue.open=function(t,e){if(this.readyState!=h1)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,lc(this)};ue.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||xe).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};ue.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jc(this)),this.readyState=h1};ue.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,lc(this)),this.g&&(this.readyState=3,lc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof xe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;QA(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function QA(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}ue.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?jc(this):lc(this),this.readyState==3&&QA(this)}};ue.Va=function(t){this.g&&(this.response=this.responseText=t,jc(this))};ue.Ua=function(t){this.g&&(this.response=t,jc(this))};ue.ga=function(){this.g&&jc(this)};function jc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,lc(t)}ue.setRequestHeader=function(t,e){this.v.append(t,e)};ue.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ue.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function lc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(zp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var D3=xe.JSON.parse;function mt(t){Ft.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=YA,this.K=this.L=!1}Qt(mt,Ft);var YA="",M3=/^https?$/i,$3=["POST","PUT"];ue=mt.prototype;ue.Ka=function(t){this.L=t};ue.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Fv.g(),this.C=this.u?oS(this.u):oS(Fv),this.g.onreadystatechange=on(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){uS(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=xe.FormData&&t instanceof xe.FormData,!(0<=hA($3,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ZA(this),0<this.B&&((this.K=U3(this.g))?(this.g.timeout=this.B,this.g.ontimeout=on(this.qa,this)):this.A=o1(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){uS(this,s)}};function U3(t){return Na&&t3()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ue.qa=function(){typeof Yw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qt(this,"timeout"),this.abort(8))};function uS(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,XA(t),Hp(t)}function XA(t){t.D||(t.D=!0,qt(t,"complete"),qt(t,"error"))}ue.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,qt(this,"complete"),qt(this,"abort"),Hp(this))};ue.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Hp(this,!0)),mt.X.M.call(this)};ue.Ha=function(){this.s||(this.F||this.v||this.l?JA(this):this.fb())};ue.fb=function(){JA(this)};function JA(t){if(t.h&&typeof Yw<"u"&&(!t.C[1]||ei(t)!=4||t.aa()!=2)){if(t.v&&ei(t)==4)o1(t.Ha,0,t);else if(qt(t,"readystatechange"),ei(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(FA)[1]||null;if(!i&&xe.self&&xe.self.location){var s=xe.self.location.protocol;i=s.substr(0,s.length-1)}r=!M3.test(i?i.toLowerCase():"")}n=r}if(n)qt(t,"complete"),qt(t,"success");else{t.m=6;try{var o=2<ei(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",XA(t)}}finally{Hp(t)}}}}function Hp(t,e){if(t.g){ZA(t);const n=t.g,r=t.C[0]?ff:null;t.g=null,t.C=null,e||qt(t,"ready");try{n.onreadystatechange=r}catch{}}}function ZA(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(xe.clearTimeout(t.A),t.A=null)}function ei(t){return t.g?t.g.readyState:0}ue.aa=function(){try{return 2<ei(this)?this.g.status:-1}catch{return-1}};ue.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};ue.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),D3(e)}};function cS(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case YA:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}ue.Ea=function(){return this.m};ue.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function eI(t){let e="";return Zw(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function f1(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=eI(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):rt(t,e,n))}function Ol(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function tI(t){this.Ca=0,this.i=[],this.j=new $p,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Ol("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Ol("baseRetryDelayMs",5e3,t),this.bb=Ol("retryDelaySeedMs",1e4,t),this.$a=Ol("forwardChannelMaxRetries",2,t),this.ta=Ol("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new HA(t&&t.concurrentRequestLimit),this.Fa=new L3,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}ue=tI.prototype;ue.ma=8;ue.G=1;function p1(t){if(nI(t),t.G==3){var e=t.U++,n=fi(t.F);rt(n,"SID",t.I),rt(n,"RID",e),rt(n,"TYPE","terminate"),zc(t,n),e=new Vc(t,t.j,e,void 0),e.K=2,e.v=jp(fi(n)),n=!1,xe.navigator&&xe.navigator.sendBeacon&&(n=xe.navigator.sendBeacon(e.v.toString(),"")),!n&&xe.Image&&(new Image().src=e.v,n=!0),n||(e.g=cI(e.l,null),e.g.da(e.v)),e.F=Date.now(),Fc(e)}lI(t)}function Wp(t){t.g&&(g1(t),t.g.cancel(),t.g=null)}function nI(t){Wp(t),t.u&&(xe.clearTimeout(t.u),t.u=null),wf(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&xe.clearTimeout(t.m),t.m=null)}function qp(t){WA(t.h)||t.m||(t.m=!0,TA(t.Ja,t),t.C=0)}function V3(t,e){return qA(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=$c(on(t.Ja,t,e),aI(t,t.C)),t.C++,!0)}ue.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Vc(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=gA(s),yA(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=rI(this,i,e),n=fi(this.F),rt(n,"RID",t),rt(n,"CVER",22),this.D&&rt(n,"X-HTTP-Session-Id",this.D),zc(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(eI(s)))+"&"+e:this.o&&f1(n,this.o,s)),c1(this.h,i),this.Ya&&rt(n,"TYPE","init"),this.O?(rt(n,"$req",e),rt(n,"SID","null"),i.Z=!0,jv(i,n,null)):jv(i,n,e),this.G=2}}else this.G==3&&(t?dS(this,t):this.i.length==0||WA(this.h)||dS(this))};function dS(t,e){var n;e?n=e.m:n=t.U++;const r=fi(t.F);rt(r,"SID",t.I),rt(r,"RID",n),rt(r,"AID",t.T),zc(t,r),t.o&&t.s&&f1(r,t.o,t.s),n=new Vc(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=rI(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),c1(t.h,n),jv(n,r,e)}function zc(t,e){t.ia&&Zw(t.ia,function(n,r){rt(e,r,n)}),t.l&&VA({},function(n,r){rt(e,r,n)})}function rI(t,e,n){n=Math.min(t.i.length,n);var r=t.l?on(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{P3(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function iI(t){t.g||t.u||(t.Z=1,TA(t.Ia,t),t.A=0)}function m1(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=$c(on(t.Ia,t),aI(t,t.A)),t.A++,!0)}ue.Ia=function(){if(this.u=null,sI(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=$c(on(this.eb,this),t)}};ue.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,mn(10),Wp(this),sI(this))};function g1(t){t.B!=null&&(xe.clearTimeout(t.B),t.B=null)}function sI(t){t.g=new Vc(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=fi(t.sa);rt(e,"RID","rpc"),rt(e,"SID",t.I),rt(e,"CI",t.L?"0":"1"),rt(e,"AID",t.T),rt(e,"TYPE","xmlhttp"),zc(t,e),t.o&&t.s&&f1(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=jp(fi(e)),n.s=null,n.P=!0,DA(n,t)}ue.cb=function(){this.v!=null&&(this.v=null,Wp(this),m1(this),mn(19))};function wf(t){t.v!=null&&(xe.clearTimeout(t.v),t.v=null)}function oI(t,e){var n=null;if(t.g==e){wf(t),g1(t),t.g=null;var r=2}else if(Hv(t.h,e))n=e.D,KA(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=Up(),qt(r,new NA(r,n)),qp(t)}else iI(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&V3(t,e)||r==2&&m1(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Ks(t,5);break;case 4:Ks(t,10);break;case 3:Ks(t,6);break;default:Ks(t,2)}}}function aI(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function Ks(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=on(t.kb,t);n||(n=new Zs("//www.google.com/images/cleardot.gif"),xe.location&&xe.location.protocol=="http"||yf(n,"https"),jp(n)),O3(n.toString(),r)}else mn(2);t.G=0,t.l&&t.l.va(e),lI(t),nI(t)}ue.kb=function(t){t?(this.j.info("Successfully pinged google.com"),mn(2)):(this.j.info("Failed to ping google.com"),mn(1))};function lI(t){if(t.G=0,t.la=[],t.l){const e=GA(t.h);(e.length!=0||t.i.length!=0)&&(eS(t.la,e),eS(t.la,t.i),t.h.i.length=0,Xw(t.i),t.i.length=0),t.l.ua()}}function uI(t,e,n){var r=n instanceof Zs?fi(n):new Zs(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),vf(r,r.m);else{var i=xe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Zs(null,void 0);r&&yf(s,r),e&&(s.g=e),i&&vf(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&rt(r,n,e),rt(r,"VER",t.ma),zc(t,r),r}function cI(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new mt(new Bc({jb:!0})):new mt(t.ra),e.Ka(t.H),e}function dI(){}ue=dI.prototype;ue.xa=function(){};ue.wa=function(){};ue.va=function(){};ue.ua=function(){};ue.Ra=function(){};function _f(){if(Na&&!(10<=Number(n3)))throw Error("Environmental error: no available transport.")}_f.prototype.g=function(t,e){return new Vn(t,e)};function Vn(t,e){Ft.call(this),this.g=new tI(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!pf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!pf(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ul(this)}Qt(Vn,Ft);Vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;mn(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=uI(t,null,t.V),qp(t)};Vn.prototype.close=function(){p1(this.g)};Vn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=i1(t),t=n);e.i.push(new I3(e.ab++,t)),e.G==3&&qp(e)};Vn.prototype.M=function(){this.g.l=null,delete this.j,p1(this.g),delete this.g,Vn.X.M.call(this)};function hI(t){l1.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Qt(hI,l1);function fI(){u1.call(this),this.status=1}Qt(fI,u1);function ul(t){this.g=t}Qt(ul,dI);ul.prototype.xa=function(){qt(this.g,"a")};ul.prototype.wa=function(t){qt(this.g,new hI(t))};ul.prototype.va=function(t){qt(this.g,new fI)};ul.prototype.ua=function(){qt(this.g,"b")};_f.prototype.createWebChannel=_f.prototype.g;Vn.prototype.send=Vn.prototype.u;Vn.prototype.open=Vn.prototype.m;Vn.prototype.close=Vn.prototype.close;Vp.NO_ERROR=0;Vp.TIMEOUT=8;Vp.HTTP_ERROR=6;LA.COMPLETE="complete";PA.EventType=Uc;Uc.OPEN="a";Uc.CLOSE="b";Uc.ERROR="c";Uc.MESSAGE="d";Ft.prototype.listen=Ft.prototype.N;mt.prototype.listenOnce=mt.prototype.O;mt.prototype.getLastError=mt.prototype.Oa;mt.prototype.getLastErrorCode=mt.prototype.Ea;mt.prototype.getStatus=mt.prototype.aa;mt.prototype.getResponseJson=mt.prototype.Sa;mt.prototype.getResponseText=mt.prototype.fa;mt.prototype.send=mt.prototype.da;mt.prototype.setWithCredentials=mt.prototype.Ka;var F3=function(){return new _f},B3=function(){return Up()},Kg=Vp,j3=LA,z3=Co,hS={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},H3=Bc,Bd=PA,W3=mt;const fS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let en=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cl="9.17.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=new Kw("@firebase/firestore");function pS(){return po.logLevel}function fe(t,...e){if(po.logLevel<=ze.DEBUG){const n=e.map(y1);po.debug(`Firestore (${cl}): ${t}`,...n)}}function pi(t,...e){if(po.logLevel<=ze.ERROR){const n=e.map(y1);po.error(`Firestore (${cl}): ${t}`,...n)}}function Wv(t,...e){if(po.logLevel<=ze.WARN){const n=e.map(y1);po.warn(`Firestore (${cl}): ${t}`,...n)}}function y1(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(t="Unexpected state"){const e=`FIRESTORE (${cl}) INTERNAL ASSERTION FAILED: `+t;throw pi(e),new Error(e)}function Xe(t,e){t||Te()}function Ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let se=class extends Fr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ns=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class q3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(en.UNAUTHENTICATED))}shutdown(){}}class K3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}let G3=class{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ns;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ns,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ns)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string"),new pI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string"),new en(e)}};class Q3{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=en.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Xe(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}let Y3=class{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new Q3(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}};class X3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}let J3=class{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{s.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,fe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Xe(typeof n.token=="string"),this.A=n.token,new X3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Z3(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function He(t,e){return t<e?-1:t>e?1:0}function La(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new se(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Nt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Nt(0,0))}static max(){return new Ae(new Nt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,n,r){n===void 0?n=0:n>e.length&&Te(),r===void 0?r=e.length-n:r>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return uc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof uc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ze extends uc{construct(e,n,r){return new Ze(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ze(n)}static emptyPath(){return new Ze([])}}const e4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends uc{construct(e,n,r){return new rn(e,n,r)}static isValidIdentifier(e){return e4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new rn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new se(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new se(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new se(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new se(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(n)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Ze.fromString(e))}static fromName(e){return new ye(Ze.fromString(e).popFirst(5))}static empty(){return new ye(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Ze(e.slice()))}}function t4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ae.fromTimestamp(r===1e9?new Nt(n+1,0):new Nt(n,r));return new us(i,ye.empty(),e)}function n4(t){return new us(t.readTime,t.key,-1)}class us{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new us(Ae.min(),ye.empty(),-1)}static max(){return new us(Ae.max(),ye.empty(),-1)}}function r4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:He(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class s4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hc(t){if(t.code!==V.FAILED_PRECONDITION||t.message!==i4)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new G((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof G?n:G.resolve(n)}catch(n){return G.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):G.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):G.reject(n)}static resolve(e){return new G((n,r)=>{n(e)})}static reject(e){return new G((n,r)=>{r(e)})}static waitFor(e){return new G((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=G.resolve(!1);for(const r of e)n=n.next(i=>i?G.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new G((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new G((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Wc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}v1.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class cc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new cc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof cc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ao(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(t){return t==null}function Ef(t){return t===0&&1/t==-1/0}function a4(t){return typeof t=="number"&&Number.isInteger(t)&&!Ef(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw i instanceof DOMException?new l4("Invalid base64 string: "+i):i}}(e);return new dn(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const u4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cs(t){if(Xe(!!t),typeof t=="string"){let e=0;const n=u4.exec(t);if(Xe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(t.seconds),nanos:xt(t.nanos)}}function xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Pa(t){return typeof t=="string"?dn.fromBase64String(t):dn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function vI(t){const e=t.mapValue.fields.__previous_value__;return yI(e)?vI(e):e}function dc(t){const e=cs(t.mapValue.fields.__local_write_time__.timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function mo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?yI(t)?4:c4(t)?9007199254740991:10:Te()}function Dr(t,e){if(t===e)return!0;const n=mo(t);if(n!==mo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dc(t).isEqual(dc(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=cs(r.timestampValue),o=cs(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Pa(r.bytesValue).isEqual(Pa(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return xt(r.geoPointValue.latitude)===xt(i.geoPointValue.latitude)&&xt(r.geoPointValue.longitude)===xt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return xt(r.integerValue)===xt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=xt(r.doubleValue),o=xt(i.doubleValue);return s===o?Ef(s)===Ef(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return La(t.arrayValue.values||[],e.arrayValue.values||[],Dr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(mS(s)!==mS(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Dr(s[a],o[a])))return!1;return!0}(t,e);default:return Te()}}function hc(t,e){return(t.values||[]).find(n=>Dr(n,e))!==void 0}function Oa(t,e){if(t===e)return 0;const n=mo(t),r=mo(e);if(n!==r)return He(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=xt(i.integerValue||i.doubleValue),a=xt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return gS(t.timestampValue,e.timestampValue);case 4:return gS(dc(t),dc(e));case 5:return He(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Pa(i),a=Pa(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=He(o[l],a[l]);if(u!==0)return u}return He(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=He(xt(i.latitude),xt(s.latitude));return o!==0?o:He(xt(i.longitude),xt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=Oa(o[l],a[l]);if(u)return u}return He(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===jd.mapValue&&s===jd.mapValue)return 0;if(i===jd.mapValue)return 1;if(s===jd.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=He(a[c],u[c]);if(d!==0)return d;const h=Oa(o[a[c]],l[u[c]]);if(h!==0)return h}return He(a.length,u.length)}(t.mapValue,e.mapValue);default:throw Te()}}function gS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return He(t,e);const n=cs(t),r=cs(e),i=He(n.seconds,r.seconds);return i!==0?i:He(n.nanos,r.nanos)}function Da(t){return qv(t)}function qv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=cs(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Pa(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ye.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=qv(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${qv(r.fields[a])}`;return s+"}"}(t.mapValue):Te();var e,n}function yS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Kv(t){return!!t&&"integerValue"in t}function w1(t){return!!t&&"arrayValue"in t}function vS(t){return!!t&&"nullValue"in t}function wS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bh(t){return!!t&&"mapValue"in t}function mu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ao(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=mu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=mu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function c4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n){this.position=e,this.inclusive=n}}function _S(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ye.comparator(ye.fromName(o.referenceValue),n.key):r=Oa(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function ES(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Dr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{}class kt extends wI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new h4(e,n,r):n==="array-contains"?new m4(e,r):n==="in"?new g4(e,r):n==="not-in"?new y4(e,r):n==="array-contains-any"?new v4(e,r):new kt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new f4(e,r):new p4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Oa(n,this.value)):n!==null&&mo(this.value)===mo(n)&&this.matchesComparison(Oa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class yr extends wI{constructor(e,n){super(),this.filters=e,this.op=n,this.ft=null}static create(e,n){return new yr(e,n)}matches(e){return _I(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ft!==null||(this.ft=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ft}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.dt(n=>n.isInequality());return e!==null?e.field:null}dt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function _I(t){return t.op==="and"}function EI(t){return d4(t)&&_I(t)}function d4(t){for(const e of t.filters)if(e instanceof yr)return!1;return!0}function Gv(t){if(t instanceof kt)return t.field.canonicalString()+t.op.toString()+Da(t.value);if(EI(t))return t.filters.map(e=>Gv(e)).join(",");{const e=t.filters.map(n=>Gv(n)).join(",");return`${t.op}(${e})`}}function bI(t,e){return t instanceof kt?function(n,r){return r instanceof kt&&n.op===r.op&&n.field.isEqual(r.field)&&Dr(n.value,r.value)}(t,e):t instanceof yr?function(n,r){return r instanceof yr&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&bI(s,r.filters[o]),!0):!1}(t,e):void Te()}function SI(t){return t instanceof kt?function(e){return`${e.field.canonicalString()} ${e.op} ${Da(e.value)}`}(t):t instanceof yr?function(e){return e.op.toString()+" {"+e.getFilters().map(SI).join(" ,")+"}"}(t):"Filter"}class h4 extends kt{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class f4 extends kt{constructor(e,n){super(e,"in",n),this.keys=TI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class p4 extends kt{constructor(e,n){super(e,"not-in",n),this.keys=TI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function TI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ye.fromName(r.referenceValue))}class m4 extends kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return w1(n)&&hc(n.arrayValue,this.value)}}class g4 extends kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&hc(this.value.arrayValue,n)}}class y4 extends kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!hc(this.value.arrayValue,n)}}class v4 extends kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!w1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>hc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,n="asc"){this.field=e,this.dir=n}}function w4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n){this.comparator=e,this.root=n||zt.EMPTY}insert(e,n){return new Pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new Pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zd(this.root,e,this.comparator,!1)}getReverseIterator(){return new zd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zd(this.root,e,this.comparator,!0)}}class zd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??zt.RED,this.left=i??zt.EMPTY,this.right=s??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new zt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return zt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(t,e,n,r,i){return this}insert(t,e,n){return new zt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bS(this.data.getIterator())}getIteratorFrom(e){return new bS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class bS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new Dn([])}unionWith(e){let n=new Lt(rn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return La(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!bh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=mu(n)}setAll(e){let n=rn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=mu(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());bh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];bh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ao(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new En(mu(this.value))}}function xI(t){const e=[];return Ao(t.fields,(n,r)=>{const i=new rn([n]);if(bh(r)){const s=xI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new nn(e,0,Ae.min(),Ae.min(),Ae.min(),En.empty(),0)}static newFoundDocument(e,n,r,i){return new nn(e,1,n,Ae.min(),r,i,0)}static newNoDocument(e,n){return new nn(e,2,n,Ae.min(),Ae.min(),En.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,Ae.min(),Ae.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this._t=null}}function SS(t,e=null,n=[],r=[],i=null,s=null,o=null){return new _4(t,e,n,r,i,s,o)}function _1(t){const e=Ne(t);if(e._t===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Gv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Kp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Da(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Da(r)).join(",")),e._t=n}return e._t}function E1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!w4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ES(t.startAt,e.startAt)&&ES(t.endAt,e.endAt)}function Qv(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this.gt=null,this.startAt,this.endAt}}function E4(t,e,n,r,i,s,o,a){return new dl(t,e,n,r,i,s,o,a)}function Gp(t){return new dl(t)}function TS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function b1(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Qp(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function RI(t){return t.collectionGroup!==null}function va(t){const e=Ne(t);if(e.wt===null){e.wt=[];const n=Qp(e),r=b1(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new ya(n)),e.wt.push(new ya(rn.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new ya(rn.keyField(),s))}}}return e.wt}function mi(t){const e=Ne(t);if(!e.gt)if(e.limitType==="F")e.gt=SS(e.path,e.collectionGroup,va(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of va(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new ya(s.field,o))}const r=e.endAt?new bf(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new bf(e.startAt.position,e.startAt.inclusive):null;e.gt=SS(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.gt}function Yv(t,e){e.getFirstInequalityField(),Qp(t);const n=t.filters.concat([e]);return new dl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Xv(t,e,n){return new dl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Yp(t,e){return E1(mi(t),mi(e))&&t.limitType===e.limitType}function kI(t){return`${_1(mi(t))}|lt:${t.limitType}`}function Jv(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>SI(r)).join(", ")}]`),Kp(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Da(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Da(r)).join(",")),`Target(${n})`}(mi(t))}; limitType=${t.limitType})`}function Xp(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ye.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of va(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=_S(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,va(n),r)||n.endAt&&!function(i,s,o){const a=_S(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,va(n),r))}(t,e)}function b4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function CI(t){return(e,n)=>{let r=!1;for(const i of va(t)){const s=S4(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function S4(t,e,n){const r=t.field.isKeyField()?ye.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?Oa(a,l):Te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(t,e){if(t.yt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ef(e)?"-0":e}}function II(t){return{integerValue:""+t}}function T4(t,e){return a4(e)?II(e):AI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(){this._=void 0}}function x4(t,e,n){return t instanceof fc?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Ma?LI(t,e):t instanceof $a?PI(t,e):function(r,i){const s=NI(r,i),o=xS(s)+xS(r.It);return Kv(s)&&Kv(r.It)?II(o):AI(r.Tt,o)}(t,e)}function R4(t,e,n){return t instanceof Ma?LI(t,e):t instanceof $a?PI(t,e):n}function NI(t,e){return t instanceof Sf?Kv(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class fc extends Jp{}class Ma extends Jp{constructor(e){super(),this.elements=e}}function LI(t,e){const n=OI(e);for(const r of t.elements)n.some(i=>Dr(i,r))||n.push(r);return{arrayValue:{values:n}}}class $a extends Jp{constructor(e){super(),this.elements=e}}function PI(t,e){let n=OI(e);for(const r of t.elements)n=n.filter(i=>!Dr(i,r));return{arrayValue:{values:n}}}class Sf extends Jp{constructor(e,n){super(),this.Tt=e,this.It=n}}function xS(t){return xt(t.integerValue||t.doubleValue)}function OI(t){return w1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n){this.field=e,this.transform=n}}function k4(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Ma&&r instanceof Ma||n instanceof $a&&r instanceof $a?La(n.elements,r.elements,Dr):n instanceof Sf&&r instanceof Sf?Dr(n.It,r.It):n instanceof fc&&r instanceof fc}(t.transform,e.transform)}class C4{constructor(e,n){this.version=e,this.transformResults=n}}class Xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Zp{}function DI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new T1(t.key,Xn.none()):new qc(t.key,t.data,Xn.none());{const n=t.data,r=En.empty();let i=new Lt(rn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ss(t.key,r,new Dn(i.toArray()),Xn.none())}}function A4(t,e,n){t instanceof qc?function(r,i,s){const o=r.value.clone(),a=kS(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Ss?function(r,i,s){if(!Sh(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=kS(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(MI(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function gu(t,e,n,r){return t instanceof qc?function(i,s,o,a){if(!Sh(i.precondition,s))return o;const l=i.value.clone(),u=CS(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ss?function(i,s,o,a){if(!Sh(i.precondition,s))return o;const l=CS(i.fieldTransforms,a,s),u=s.data;return u.setAll(MI(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return Sh(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function I4(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=NI(r.transform,i||null);s!=null&&(n===null&&(n=En.empty()),n.set(r.field,s))}return n||null}function RS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&La(n,r,(i,s)=>k4(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qc extends Zp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ss extends Zp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function MI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function kS(t,e,n){const r=new Map;Xe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,R4(o,a,n[i]))}return r}function CS(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,x4(s,o,e))}return r}class T1 extends Zp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class N4 extends Zp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,$e;function P4(t){switch(t){default:return Te();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0}}function $I(t){if(t===void 0)return pi("GRPC error has no .code"),V.UNKNOWN;switch(t){case St.OK:return V.OK;case St.CANCELLED:return V.CANCELLED;case St.UNKNOWN:return V.UNKNOWN;case St.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case St.INTERNAL:return V.INTERNAL;case St.UNAVAILABLE:return V.UNAVAILABLE;case St.UNAUTHENTICATED:return V.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case St.NOT_FOUND:return V.NOT_FOUND;case St.ALREADY_EXISTS:return V.ALREADY_EXISTS;case St.PERMISSION_DENIED:return V.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case St.ABORTED:return V.ABORTED;case St.OUT_OF_RANGE:return V.OUT_OF_RANGE;case St.UNIMPLEMENTED:return V.UNIMPLEMENTED;case St.DATA_LOSS:return V.DATA_LOSS;default:return Te()}}($e=St||(St={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ao(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return gI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=new Pt(ye.comparator);function gi(){return O4}const UI=new Pt(ye.comparator);function Zl(...t){let e=UI;for(const n of t)e=e.insert(n.key,n);return e}function VI(t){let e=UI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Gs(){return yu()}function FI(){return yu()}function yu(){return new hl(t=>t.toString(),(t,e)=>t.isEqual(e))}const D4=new Pt(ye.comparator),M4=new Lt(ye.comparator);function Pe(...t){let e=M4;for(const n of t)e=e.add(n);return e}const $4=new Lt(He);function BI(){return $4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Kc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new em(Ae.min(),i,BI(),gi(),Pe())}}class Kc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Kc(r,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n,r,i){this.Et=e,this.removedTargetIds=n,this.key=r,this.At=i}}class jI{constructor(e,n){this.targetId=e,this.Rt=n}}class zI{constructor(e,n,r=dn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class AS{constructor(){this.bt=0,this.vt=NS(),this.Pt=dn.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}get current(){return this.Vt}get resumeToken(){return this.Pt}get Dt(){return this.bt!==0}get Ct(){return this.St}xt(e){e.approximateByteSize()>0&&(this.St=!0,this.Pt=e)}Nt(){let e=Pe(),n=Pe(),r=Pe();return this.vt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Te()}}),new Kc(this.Pt,this.Vt,e,n,r)}kt(){this.St=!1,this.vt=NS()}Ot(e,n){this.St=!0,this.vt=this.vt.insert(e,n)}Mt(e){this.St=!0,this.vt=this.vt.remove(e)}Ft(){this.bt+=1}$t(){this.bt-=1}Bt(){this.St=!0,this.Vt=!0}}class U4{constructor(e){this.Lt=e,this.qt=new Map,this.Ut=gi(),this.Kt=IS(),this.Gt=new Lt(He)}Qt(e){for(const n of e.Et)e.At&&e.At.isFoundDocument()?this.jt(n,e.At):this.zt(n,e.key,e.At);for(const n of e.removedTargetIds)this.zt(n,e.key,e.At)}Wt(e){this.forEachTarget(e,n=>{const r=this.Ht(n);switch(e.state){case 0:this.Jt(n)&&r.xt(e.resumeToken);break;case 1:r.$t(),r.Dt||r.kt(),r.xt(e.resumeToken);break;case 2:r.$t(),r.Dt||this.removeTarget(n);break;case 3:this.Jt(n)&&(r.Bt(),r.xt(e.resumeToken));break;case 4:this.Jt(n)&&(this.Yt(n),r.xt(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qt.forEach((r,i)=>{this.Jt(i)&&n(i)})}Zt(e){const n=e.targetId,r=e.Rt.count,i=this.Xt(n);if(i){const s=i.target;if(Qv(s))if(r===0){const o=new ye(s.path);this.zt(n,o,nn.newNoDocument(o,Ae.min()))}else Xe(r===1);else this.te(n)!==r&&(this.Yt(n),this.Gt=this.Gt.add(n))}}ee(e){const n=new Map;this.qt.forEach((s,o)=>{const a=this.Xt(o);if(a){if(s.current&&Qv(a.target)){const l=new ye(a.target.path);this.Ut.get(l)!==null||this.ne(o,l)||this.zt(o,l,nn.newNoDocument(l,e))}s.Ct&&(n.set(o,s.Nt()),s.kt())}});let r=Pe();this.Kt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Xt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Ut.forEach((s,o)=>o.setReadTime(e));const i=new em(e,n,this.Gt,this.Ut,r);return this.Ut=gi(),this.Kt=IS(),this.Gt=new Lt(He),i}jt(e,n){if(!this.Jt(e))return;const r=this.ne(e,n.key)?2:0;this.Ht(e).Ot(n.key,r),this.Ut=this.Ut.insert(n.key,n),this.Kt=this.Kt.insert(n.key,this.se(n.key).add(e))}zt(e,n,r){if(!this.Jt(e))return;const i=this.Ht(e);this.ne(e,n)?i.Ot(n,1):i.Mt(n),this.Kt=this.Kt.insert(n,this.se(n).delete(e)),r&&(this.Ut=this.Ut.insert(n,r))}removeTarget(e){this.qt.delete(e)}te(e){const n=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ft(e){this.Ht(e).Ft()}Ht(e){let n=this.qt.get(e);return n||(n=new AS,this.qt.set(e,n)),n}se(e){let n=this.Kt.get(e);return n||(n=new Lt(He),this.Kt=this.Kt.insert(e,n)),n}Jt(e){const n=this.Xt(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.qt.get(e);return n&&n.Dt?null:this.Lt.ie(e)}Yt(e){this.qt.set(e,new AS),this.Lt.getRemoteKeysForTarget(e).forEach(n=>{this.zt(e,n,null)})}ne(e,n){return this.Lt.getRemoteKeysForTarget(e).has(n)}}function IS(){return new Pt(ye.comparator)}function NS(){return new Pt(ye.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),F4=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),B4=(()=>({and:"AND",or:"OR"}))();class j4{constructor(e,n){this.databaseId=e,this.yt=n}}function Tf(t,e){return t.yt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HI(t,e){return t.yt?e.toBase64():e.toUint8Array()}function z4(t,e){return Tf(t,e.toTimestamp())}function Ir(t){return Xe(!!t),Ae.fromTimestamp(function(e){const n=cs(e);return new Nt(n.seconds,n.nanos)}(t))}function x1(t,e){return function(n){return new Ze(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function WI(t){const e=Ze.fromString(t);return Xe(QI(e)),e}function Zv(t,e){return x1(t.databaseId,e.path)}function Gg(t,e){const n=WI(e);if(n.get(1)!==t.databaseId.projectId)throw new se(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(qI(n))}function e0(t,e){return x1(t.databaseId,e)}function H4(t){const e=WI(t);return e.length===4?Ze.emptyPath():qI(e)}function t0(t){return new Ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qI(t){return Xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function LS(t,e,n){return{name:Zv(t,e),fields:n.value.mapValue.fields}}function W4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.yt?(Xe(u===void 0||typeof u=="string"),dn.fromBase64String(u||"")):(Xe(u===void 0||u instanceof Uint8Array),dn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?V.UNKNOWN:$I(l.code);return new se(u,l.message||"")}(o);n=new zI(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Gg(t,r.document.name),s=Ir(r.document.updateTime),o=r.document.createTime?Ir(r.document.createTime):Ae.min(),a=new En({mapValue:{fields:r.document.fields}}),l=nn.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Th(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Gg(t,r.document),s=r.readTime?Ir(r.readTime):Ae.min(),o=nn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Th([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Gg(t,r.document),s=r.removedTargetIds||[];n=new Th([],s,i,null)}else{if(!("filter"in e))return Te();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new L4(i),o=r.targetId;n=new jI(o,s)}}return n}function q4(t,e){let n;if(e instanceof qc)n={update:LS(t,e.key,e.value)};else if(e instanceof T1)n={delete:Zv(t,e.key)};else if(e instanceof Ss)n={update:LS(t,e.key,e.data),updateMask:tj(e.fieldMask)};else{if(!(e instanceof N4))return Te();n={verify:Zv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof fc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ma)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof $a)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Sf)return{fieldPath:s.field.canonicalString(),increment:o.It};throw Te()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:z4(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Te()}(t,e.precondition)),n}function K4(t,e){return t&&t.length>0?(Xe(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Ir(r.updateTime):Ir(i);return s.isEqual(Ae.min())&&(s=Ir(i)),new C4(s,r.transformResults||[])}(n,e))):[]}function G4(t,e){return{documents:[e0(t,e.path)]}}function Q4(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=e0(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=e0(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return GI(yr.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:Bo(c.field),direction:J4(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.yt||Kp(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function Y4(t){let e=H4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Xe(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const d=KI(c);return d instanceof yr&&EI(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new ya(jo(d.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,Kp(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,h=c.values||[];return new bf(h,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,h=c.values||[];return new bf(h,d)}(n.endAt)),E4(e,i,o,s,a,"F",l,u)}function X4(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Te()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function KI(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=jo(e.unaryFilter.field);return kt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=jo(e.unaryFilter.field);return kt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=jo(e.unaryFilter.field);return kt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=jo(e.unaryFilter.field);return kt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(t):t.fieldFilter!==void 0?function(e){return kt.create(jo(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return yr.create(e.compositeFilter.filters.map(n=>KI(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Te()}}(e.compositeFilter.op))}(t):Te()}function J4(t){return V4[t]}function Z4(t){return F4[t]}function ej(t){return B4[t]}function Bo(t){return{fieldPath:t.canonicalString()}}function jo(t){return rn.fromServerFormat(t.fieldPath)}function GI(t){return t instanceof kt?function(e){if(e.op==="=="){if(wS(e.value))return{unaryFilter:{field:Bo(e.field),op:"IS_NAN"}};if(vS(e.value))return{unaryFilter:{field:Bo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(wS(e.value))return{unaryFilter:{field:Bo(e.field),op:"IS_NOT_NAN"}};if(vS(e.value))return{unaryFilter:{field:Bo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bo(e.field),op:Z4(e.op),value:e.value}}}(t):t instanceof yr?function(e){const n=e.getFilters().map(r=>GI(r));return n.length===1?n[0]:{compositeFilter:{op:ej(e.op),filters:n}}}(t):Te()}function tj(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function QI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&A4(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=gu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=gu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=FI();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=DI(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&La(this.mutations,e.mutations,(n,r)=>RS(n,r))&&La(this.baseMutations,e.baseMutations,(n,r)=>RS(n,r))}}class R1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Xe(e.mutations.length===r.length);let i=D4;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new R1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,n,r,i,s=Ae.min(),o=Ae.min(),a=dn.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new eo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new eo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e){this.oe=e}}function sj(t){const e=Y4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(){this.Ze=new aj}addToCollectionParentIndex(e,n){return this.Ze.add(n),G.resolve()}getCollectionParents(e,n){return G.resolve(this.Ze.getEntries(n))}addFieldIndex(e,n){return G.resolve()}deleteFieldIndex(e,n){return G.resolve()}getDocumentsMatchingTarget(e,n){return G.resolve(null)}getIndexType(e,n){return G.resolve(0)}getFieldIndexes(e,n){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,n){return G.resolve(us.min())}getMinOffsetFromCollectionGroup(e,n){return G.resolve(us.min())}updateCollectionGroup(e,n,r){return G.resolve()}updateIndexEntries(e,n){return G.resolve()}}class aj{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Lt(Ze.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Lt(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e){this.Pn=e}next(){return this.Pn+=2,this.Pn}static Vn(){return new Ua(0)}static Sn(){return new Ua(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(){this.changes=new hl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?G.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&gu(r.mutation,i,Dn.empty(),Nt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Pe()){const i=Gs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Zl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Gs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Pe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=gi();const o=yu(),a=yu();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ss)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),gu(c.mutation,u,c.mutation.getFieldMask(),Nt.now())):o.set(u.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new uj(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=yu();let i=new Pt((o,a)=>o-a),s=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Dn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||Pe()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=FI();c.forEach(h=>{if(!s.has(h)){const f=DI(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return G.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):RI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):G.resolve(Gs());let a=-1,l=s;return o.next(u=>G.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?G.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Pe())).next(c=>({batchId:a,changes:VI(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(r=>{let i=Zl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Zl();return this.indexManager.getCollectionParents(e,i).next(o=>G.forEach(o,a=>{const l=function(u,c){return new dl(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,nn.newInvalidDocument(u)))});let o=Zl();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&gu(u.mutation,l,Dn.empty(),Nt.now()),Xp(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e){this.Tt=e,this.es=new Map,this.ns=new Map}getBundleMetadata(e,n){return G.resolve(this.es.get(n))}saveBundleMetadata(e,n){var r;return this.es.set(n.id,{id:(r=n).id,version:r.version,createTime:Ir(r.createTime)}),G.resolve()}getNamedQuery(e,n){return G.resolve(this.ns.get(n))}saveNamedQuery(e,n){return this.ns.set(n.name,function(r){return{name:r.name,query:sj(r.bundledQuery),readTime:Ir(r.readTime)}}(n)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(){this.overlays=new Pt(ye.comparator),this.ss=new Map}getOverlay(e,n){return G.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Gs();return G.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ce(e,n,s)}),G.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ss.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ss.delete(r)),G.resolve()}getOverlaysForCollection(e,n,r){const i=Gs(),s=n.length+1,o=new ye(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return G.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Pt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Gs(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Gs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return G.resolve(a)}ce(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ss.get(i.largestBatchId).delete(r.key);this.ss.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new rj(n,r));let s=this.ss.get(n);s===void 0&&(s=Pe(),this.ss.set(n,s)),this.ss.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(){this.rs=new Lt(Mt.os),this.us=new Lt(Mt.cs)}isEmpty(){return this.rs.isEmpty()}addReference(e,n){const r=new Mt(e,n);this.rs=this.rs.add(r),this.us=this.us.add(r)}hs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ls(new Mt(e,n))}fs(e,n){e.forEach(r=>this.removeReference(r,n))}ds(e){const n=new ye(new Ze([])),r=new Mt(n,e),i=new Mt(n,e+1),s=[];return this.us.forEachInRange([r,i],o=>{this.ls(o),s.push(o.key)}),s}_s(){this.rs.forEach(e=>this.ls(e))}ls(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}ws(e){const n=new ye(new Ze([])),r=new Mt(n,e),i=new Mt(n,e+1);let s=Pe();return this.us.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Mt(e,0),r=this.rs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Mt{constructor(e,n){this.key=e,this.gs=n}static os(e,n){return ye.comparator(e.key,n.key)||He(e.gs,n.gs)}static cs(e,n){return He(e.gs,n.gs)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ys=1,this.ps=new Lt(Mt.os)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ys;this.ys++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new nj(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.ps=this.ps.add(new Mt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return G.resolve(o)}lookupMutationBatch(e,n){return G.resolve(this.Is(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Ts(r),s=i<0?0:i;return G.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?-1:this.ys-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Mt(n,0),i=new Mt(n,Number.POSITIVE_INFINITY),s=[];return this.ps.forEachInRange([r,i],o=>{const a=this.Is(o.gs);s.push(a)}),G.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Lt(He);return n.forEach(i=>{const s=new Mt(i,0),o=new Mt(i,Number.POSITIVE_INFINITY);this.ps.forEachInRange([s,o],a=>{r=r.add(a.gs)})}),G.resolve(this.Es(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ye.isDocumentKey(s)||(s=s.child(""));const o=new Mt(new ye(s),0);let a=new Lt(He);return this.ps.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gs)),!0)},o),G.resolve(this.Es(a))}Es(e){const n=[];return e.forEach(r=>{const i=this.Is(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Xe(this.As(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.ps;return G.forEach(n.mutations,i=>{const s=new Mt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ps=r})}bn(e){}containsKey(e,n){const r=new Mt(n,0),i=this.ps.firstAfterOrEqual(r);return G.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}As(e,n){return this.Ts(e)}Ts(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Is(e){const n=this.Ts(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e){this.Rs=e,this.docs=new Pt(ye.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Rs(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return G.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let r=gi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():nn.newInvalidDocument(i))}),G.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=gi();const o=n.path,a=new ye(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||r4(n4(c),r)<=0||(i.has(c.key)||Xp(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return G.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Te()}bs(e,n){return G.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new mj(this)}getSize(e){return G.resolve(this.size)}}class mj extends lj{constructor(e){super(),this.Xn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Xn.addEntry(e,i)):this.Xn.removeEntry(r)}),G.waitFor(n)}getFromCache(e,n){return this.Xn.getEntry(e,n)}getAllFromCache(e,n){return this.Xn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e){this.persistence=e,this.vs=new hl(n=>_1(n),E1),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.Ps=0,this.Vs=new k1,this.targetCount=0,this.Ss=Ua.Vn()}forEachTarget(e,n){return this.vs.forEach((r,i)=>n(i)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.Ps)}allocateTargetId(e){return this.highestTargetId=this.Ss.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ps&&(this.Ps=n),G.resolve()}xn(e){this.vs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ss=new Ua(n),this.highestTargetId=n),e.sequenceNumber>this.Ps&&(this.Ps=e.sequenceNumber)}addTargetData(e,n){return this.xn(n),this.targetCount+=1,G.resolve()}updateTargetData(e,n){return this.xn(n),G.resolve()}removeTargetData(e,n){return this.vs.delete(n.target),this.Vs.ds(n.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.vs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.vs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),G.waitFor(s).next(()=>i)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,n){const r=this.vs.get(n)||null;return G.resolve(r)}addMatchingKeys(e,n,r){return this.Vs.hs(n,r),G.resolve()}removeMatchingKeys(e,n,r){this.Vs.fs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),G.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Vs.ds(n),G.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Vs.ws(n);return G.resolve(r)}containsKey(e,n){return G.resolve(this.Vs.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e,n){this.Ds={},this.overlays={},this.Cs=new v1(0),this.xs=!1,this.xs=!0,this.referenceDelegate=e(this),this.Ns=new gj(this),this.indexManager=new oj,this.remoteDocumentCache=function(r){return new pj(r)}(r=>this.referenceDelegate.ks(r)),this.Tt=new ij(n),this.Os=new dj(this.Tt)}start(){return Promise.resolve()}shutdown(){return this.xs=!1,Promise.resolve()}get started(){return this.xs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Ds[e.toKey()];return r||(r=new fj(n,this.referenceDelegate),this.Ds[e.toKey()]=r),r}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Os}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const i=new vj(this.Cs.next());return this.referenceDelegate.Ms(),r(i).next(s=>this.referenceDelegate.Fs(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}$s(e,n){return G.or(Object.values(this.Ds).map(r=>()=>r.containsKey(e,n)))}}class vj extends s4{constructor(e){super(),this.currentSequenceNumber=e}}class C1{constructor(e){this.persistence=e,this.Bs=new k1,this.Ls=null}static qs(e){return new C1(e)}get Us(){if(this.Ls)return this.Ls;throw Te()}addReference(e,n,r){return this.Bs.addReference(r,n),this.Us.delete(r.toString()),G.resolve()}removeReference(e,n,r){return this.Bs.removeReference(r,n),this.Us.add(r.toString()),G.resolve()}markPotentiallyOrphaned(e,n){return this.Us.add(n.toString()),G.resolve()}removeTarget(e,n){this.Bs.ds(n.targetId).forEach(i=>this.Us.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Us.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ms(){this.Ls=new Set}Fs(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.Us,r=>{const i=ye.fromPath(r);return this.Ks(e,i).next(s=>{s||n.removeEntry(i,Ae.min())})}).next(()=>(this.Ls=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ks(e,n).next(r=>{r?this.Us.delete(n.toString()):this.Us.add(n.toString())})}ks(e){return 0}Ks(e,n){return G.or([()=>G.resolve(this.Bs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.$s(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ci=r,this.xi=i}static Ni(e,n){let r=Pe(),i=Pe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new A1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(){this.ki=!1}initialize(e,n){this.Oi=e,this.indexManager=n,this.ki=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Mi(e,n).next(s=>s||this.Fi(e,n,i,r)).next(s=>s||this.$i(e,n))}Mi(e,n){if(TS(n))return G.resolve(null);let r=mi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Xv(n,null,"F"),r=mi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Pe(...s);return this.Oi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Bi(n,a);return this.Li(n,u,o,l.readTime)?this.Mi(e,Xv(n,null,"F")):this.qi(e,u,n,l)}))})))}Fi(e,n,r,i){return TS(n)||i.isEqual(Ae.min())?this.$i(e,n):this.Oi.getDocuments(e,r).next(s=>{const o=this.Bi(n,s);return this.Li(n,o,r,i)?this.$i(e,n):(pS()<=ze.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Jv(n)),this.qi(e,o,n,t4(i,-1)))})}Bi(e,n){let r=new Lt(CI(e));return n.forEach((i,s)=>{Xp(e,s)&&(r=r.add(s))}),r}Li(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}$i(e,n){return pS()<=ze.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Jv(n)),this.Oi.getDocumentsMatchingQuery(e,n,us.min())}qi(e,n,r,i){return this.Oi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(e,n,r,i){this.persistence=e,this.Ui=n,this.Tt=i,this.Ki=new Pt(He),this.Gi=new hl(s=>_1(s),E1),this.Qi=new Map,this.ji=e.getRemoteDocumentCache(),this.Ns=e.getTargetCache(),this.Os=e.getBundleCache(),this.zi(r)}zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cj(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ki))}}function Ej(t,e,n,r){return new _j(t,e,n,r)}async function YI(t,e){const n=Ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.zi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Pe();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Wi:u,removedBatchIds:o,addedBatchIds:a}))})})}function bj(t,e){const n=Ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ji.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let h=G.resolve();return d.forEach(f=>{h=h.next(()=>u.getEntry(a,f)).next(m=>{const p=l.docVersions.get(f);Xe(p!==null),m.version.compareTo(p)<0&&(c.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),u.addEntry(m)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Pe();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function XI(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ns.getLastRemoteSnapshotVersion(n))}function Sj(t,e){const n=Ne(t),r=e.snapshotVersion;let i=n.Ki;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ji.newChangeBuffer({trackRemovals:!0});i=n.Ki;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Ns.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Ns.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(d)?f=f.withResumeToken(dn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),function(m,p,w){return m.resumeToken.approximateByteSize()===0||p.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(h,f,c)&&a.push(n.Ns.updateTargetData(s,f))});let l=gi(),u=Pe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(Tj(s,o,e.documentUpdates).next(c=>{l=c.Hi,u=c.Ji})),!r.isEqual(Ae.min())){const c=n.Ns.getLastRemoteSnapshotVersion(s).next(d=>n.Ns.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return G.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ki=i,s))}function Tj(t,e,n){let r=Pe(),i=Pe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=gi();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ae.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):fe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Hi:o,Ji:i}})}function xj(t,e){const n=Ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Rj(t,e){const n=Ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ns.getTargetData(r,e).next(s=>s?(i=s,G.resolve(i)):n.Ns.allocateTargetId(r).next(o=>(i=new eo(e,o,0,r.currentSequenceNumber),n.Ns.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ki.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ki=n.Ki.insert(r.targetId,r),n.Gi.set(e,r.targetId)),r})}async function n0(t,e,n){const r=Ne(t),i=r.Ki.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Wc(o))throw o;fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ki=r.Ki.remove(e),r.Gi.delete(i.target)}function PS(t,e,n){const r=Ne(t);let i=Ae.min(),s=Pe();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=Ne(a),d=c.Gi.get(u);return d!==void 0?G.resolve(c.Ki.get(d)):c.Ns.getTargetData(l,u)}(r,o,mi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ns.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Ui.getDocumentsMatchingQuery(o,e,n?i:Ae.min(),n?s:Pe())).next(a=>(kj(r,b4(e),a),{documents:a,Yi:s})))}function kj(t,e,n){let r=t.Qi.get(e)||Ae.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Qi.set(e,r)}class OS{constructor(){this.activeTargetIds=BI()}sr(e){this.activeTargetIds=this.activeTargetIds.add(e)}ir(e){this.activeTargetIds=this.activeTargetIds.delete(e)}nr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Cj{constructor(){this.Ur=new OS,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}updateQueryState(e,n,r){this.Kr[e]=n}removeLocalQueryTarget(e){this.Ur.ir(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.Kr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new OS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{Gr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(){this.Qr=()=>this.jr(),this.zr=()=>this.Wr(),this.Hr=[],this.Jr()}Gr(e){this.Hr.push(e)}shutdown(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}Jr(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}jr(){fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Hr)e(0)}Wr(){fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Hr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e){this.Yr=e.Yr,this.Zr=e.Zr}Xr(e){this.eo=e}no(e){this.so=e}onMessage(e){this.io=e}close(){this.Zr()}send(e){this.Yr(e)}ro(){this.eo()}oo(e){this.so(e)}uo(e){this.io(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.co=n+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get ho(){return!1}lo(e,n,r,i,s){const o=this.fo(e,n);fe("RestConnection","Sending: ",o,r);const a={};return this._o(a,i,s),this.wo(e,o,a,r).then(l=>(fe("RestConnection","Received: ",l),l),l=>{throw Wv("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}mo(e,n,r,i,s,o){return this.lo(e,n,r,i,s)}_o(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+cl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}fo(e,n){const r=Ij[e];return`${this.co}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}wo(e,n,r,i){return new Promise((s,o)=>{const a=new W3;a.setWithCredentials(!0),a.listenOnce(j3.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Kg.NO_ERROR:const u=a.getResponseJson();fe("Connection","XHR received:",JSON.stringify(u)),s(u);break;case Kg.TIMEOUT:fe("Connection",'RPC "'+e+'" timed out'),o(new se(V.DEADLINE_EXCEEDED,"Request time out"));break;case Kg.HTTP_ERROR:const c=a.getStatus();if(fe("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){let d=a.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d==null?void 0:d.error;if(h&&h.status&&h.message){const f=function(m){const p=m.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(p)>=0?p:V.UNKNOWN}(h.status);o(new se(f,h.message))}else o(new se(V.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new se(V.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{fe("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(n,"POST",l,r,15)})}yo(e,n,r){const i=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=F3(),o=B3(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new H3({})),this._o(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const l=i.join("");fe("Connection","Creating WebChannel: "+l,a);const u=s.createWebChannel(l,a);let c=!1,d=!1;const h=new Nj({Yr:m=>{d?fe("Connection","Not sending because WebChannel is closed:",m):(c||(fe("Connection","Opening WebChannel transport."),u.open(),c=!0),fe("Connection","WebChannel sending:",m),u.send(m))},Zr:()=>u.close()}),f=(m,p,w)=>{m.listen(p,v=>{try{w(v)}catch(g){setTimeout(()=>{throw g},0)}})};return f(u,Bd.EventType.OPEN,()=>{d||fe("Connection","WebChannel transport opened.")}),f(u,Bd.EventType.CLOSE,()=>{d||(d=!0,fe("Connection","WebChannel transport closed"),h.oo())}),f(u,Bd.EventType.ERROR,m=>{d||(d=!0,Wv("Connection","WebChannel transport errored:",m),h.oo(new se(V.UNAVAILABLE,"The operation could not be completed")))}),f(u,Bd.EventType.MESSAGE,m=>{var p;if(!d){const w=m.data[0];Xe(!!w);const v=w,g=v.error||((p=v[0])===null||p===void 0?void 0:p.error);if(g){fe("Connection","WebChannel received error:",g);const y=g.status;let _=function(k){const R=St[k];if(R!==void 0)return $I(R)}(y),S=g.message;_===void 0&&(_=V.INTERNAL,S="Unknown error status: "+y+" with message "+g.message),d=!0,h.oo(new se(_,S)),u.close()}else fe("Connection","WebChannel received:",w),h.uo(w)}}),f(o,z3.STAT_EVENT,m=>{m.stat===hS.PROXY?fe("Connection","Detected buffering proxy"):m.stat===hS.NOPROXY&&fe("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.ro()},0),h}}function Qg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(t){return new j4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ys=e,this.timerId=n,this.po=r,this.Io=i,this.To=s,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}bo(){this.Eo=this.To}vo(e){this.cancel();const n=Math.floor(this.Eo+this.Po()),r=Math.max(0,Date.now()-this.Ro),i=Math.max(0,n-r);i>0&&fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Eo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,i,()=>(this.Ro=Date.now(),e())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){this.Ao!==null&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){this.Ao!==null&&(this.Ao.cancel(),this.Ao=null)}Po(){return(Math.random()-.5)*this.Eo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n,r,i,s,o,a,l){this.Ys=e,this.So=r,this.Do=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new JI(e,n)}Oo(){return this.state===1||this.state===5||this.Mo()}Mo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Fo()}async stop(){this.Oo()&&await this.close(0)}$o(){this.state=0,this.ko.reset()}Bo(){this.Mo()&&this.xo===null&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,()=>this.Lo()))}qo(e){this.Uo(),this.stream.send(e)}async Lo(){if(this.Mo())return this.close(0)}Uo(){this.xo&&(this.xo.cancel(),this.xo=null)}Ko(){this.No&&(this.No.cancel(),this.No=null)}async close(e,n){this.Uo(),this.Ko(),this.ko.cancel(),this.Co++,e!==4?this.ko.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(pi(n.toString()),pi("Using maximum backoff delay to prevent overloading the backend."),this.ko.bo()):n&&n.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Go(),this.stream.close(),this.stream=null),this.state=e,await this.listener.no(n)}Go(){}auth(){this.state=1;const e=this.Qo(this.Co),n=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Co===n&&this.jo(r,i)},r=>{e(()=>{const i=new se(V.UNKNOWN,"Fetching auth token failed: "+r.message);return this.zo(i)})})}jo(e,n){const r=this.Qo(this.Co);this.stream=this.Wo(e,n),this.stream.Xr(()=>{r(()=>(this.state=2,this.No=this.Ys.enqueueAfterDelay(this.Do,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.no(i=>{r(()=>this.zo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Fo(){this.state=5,this.ko.vo(async()=>{this.state=0,this.start()})}zo(e){return fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Qo(e){return n=>{this.Ys.enqueueAndForget(()=>this.Co===e?n():(fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Pj extends ZI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.Tt=s}Wo(e,n){return this.connection.yo("Listen",e,n)}onMessage(e){this.ko.reset();const n=W4(this.Tt,e),r=function(i){if(!("targetChange"in i))return Ae.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Ae.min():s.readTime?Ir(s.readTime):Ae.min()}(e);return this.listener.Ho(n,r)}Jo(e){const n={};n.database=t0(this.Tt),n.addTarget=function(i,s){let o;const a=s.target;return o=Qv(a)?{documents:G4(i,a)}:{query:Q4(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=HI(i,s.resumeToken):s.snapshotVersion.compareTo(Ae.min())>0&&(o.readTime=Tf(i,s.snapshotVersion.toTimestamp())),o}(this.Tt,e);const r=X4(this.Tt,e);r&&(n.labels=r),this.qo(n)}Yo(e){const n={};n.database=t0(this.Tt),n.removeTarget=e,this.qo(n)}}class Oj extends ZI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.Tt=s,this.Zo=!1}get Xo(){return this.Zo}start(){this.Zo=!1,this.lastStreamToken=void 0,super.start()}Go(){this.Zo&&this.tu([])}Wo(e,n){return this.connection.yo("Write",e,n)}onMessage(e){if(Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();const n=K4(e.writeResults,e.commitTime),r=Ir(e.commitTime);return this.listener.eu(r,n)}return Xe(!e.writeResults||e.writeResults.length===0),this.Zo=!0,this.listener.nu()}su(){const e={};e.database=t0(this.Tt),this.qo(e)}tu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>q4(this.Tt,r))};this.qo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.Tt=i,this.iu=!1}ru(){if(this.iu)throw new se(V.FAILED_PRECONDITION,"The client has already been terminated.")}lo(e,n,r){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.lo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new se(V.UNKNOWN,i.toString())})}mo(e,n,r,i){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.mo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new se(V.UNKNOWN,s.toString())})}terminate(){this.iu=!0}}class Mj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}au(){this.ou===0&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.uu=null,this.lu("Backend didn't respond within 10 seconds."),this.hu("Offline"),Promise.resolve())))}fu(e){this.state==="Online"?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.hu("Offline")))}set(e){this.du(),this.ou=0,e==="Online"&&(this.cu=!1),this.hu(e)}hu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}lu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.cu?(pi(n),this.cu=!1):fe("OnlineStateTracker",n)}du(){this.uu!==null&&(this.uu.cancel(),this.uu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=s,this.yu.Gr(o=>{r.enqueueAndForget(async()=>{Io(this)&&(fe("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=Ne(a);l.mu.add(4),await Gc(l),l.pu.set("Unknown"),l.mu.delete(4),await nm(l)}(this))})}),this.pu=new Mj(r,i)}}async function nm(t){if(Io(t))for(const e of t.gu)await e(!0)}async function Gc(t){for(const e of t.gu)await e(!1)}function eN(t,e){const n=Ne(t);n.wu.has(e.targetId)||(n.wu.set(e.targetId,e),L1(n)?N1(n):fl(n).Mo()&&I1(n,e))}function tN(t,e){const n=Ne(t),r=fl(n);n.wu.delete(e),r.Mo()&&nN(n,e),n.wu.size===0&&(r.Mo()?r.Bo():Io(n)&&n.pu.set("Unknown"))}function I1(t,e){t.Iu.Ft(e.targetId),fl(t).Jo(e)}function nN(t,e){t.Iu.Ft(e),fl(t).Yo(e)}function N1(t){t.Iu=new U4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ie:e=>t.wu.get(e)||null}),fl(t).start(),t.pu.au()}function L1(t){return Io(t)&&!fl(t).Oo()&&t.wu.size>0}function Io(t){return Ne(t).mu.size===0}function rN(t){t.Iu=void 0}async function Uj(t){t.wu.forEach((e,n)=>{I1(t,e)})}async function Vj(t,e){rN(t),L1(t)?(t.pu.fu(e),N1(t)):t.pu.set("Unknown")}async function Fj(t,e,n){if(t.pu.set("Online"),e instanceof zI&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.wu.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.wu.delete(o),r.Iu.removeTarget(o))}(t,e)}catch(r){fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xf(t,r)}else if(e instanceof Th?t.Iu.Qt(e):e instanceof jI?t.Iu.Zt(e):t.Iu.Wt(e),!n.isEqual(Ae.min()))try{const r=await XI(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Iu.ee(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.wu.get(l);u&&i.wu.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.wu.get(a);if(!l)return;i.wu.set(a,l.withResumeToken(dn.EMPTY_BYTE_STRING,l.snapshotVersion)),nN(i,a);const u=new eo(l.target,a,1,l.sequenceNumber);I1(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){fe("RemoteStore","Failed to raise snapshot:",r),await xf(t,r)}}async function xf(t,e,n){if(!Wc(e))throw e;t.mu.add(1),await Gc(t),t.pu.set("Offline"),n||(n=()=>XI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe("RemoteStore","Retrying IndexedDB access"),await n(),t.mu.delete(1),await nm(t)})}function iN(t,e){return e().catch(n=>xf(t,n,e))}async function rm(t){const e=Ne(t),n=ds(e);let r=e._u.length>0?e._u[e._u.length-1].batchId:-1;for(;Bj(e);)try{const i=await xj(e.localStore,r);if(i===null){e._u.length===0&&n.Bo();break}r=i.batchId,jj(e,i)}catch(i){await xf(e,i)}sN(e)&&oN(e)}function Bj(t){return Io(t)&&t._u.length<10}function jj(t,e){t._u.push(e);const n=ds(t);n.Mo()&&n.Xo&&n.tu(e.mutations)}function sN(t){return Io(t)&&!ds(t).Oo()&&t._u.length>0}function oN(t){ds(t).start()}async function zj(t){ds(t).su()}async function Hj(t){const e=ds(t);for(const n of t._u)e.tu(n.mutations)}async function Wj(t,e,n){const r=t._u.shift(),i=R1.from(r,e,n);await iN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await rm(t)}async function qj(t,e){e&&ds(t).Xo&&await async function(n,r){if(i=r.code,P4(i)&&i!==V.ABORTED){const s=n._u.shift();ds(n).$o(),await iN(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await rm(n)}var i}(t,e),sN(t)&&oN(t)}async function MS(t,e){const n=Ne(t);n.asyncQueue.verifyOperationInProgress(),fe("RemoteStore","RemoteStore received new credentials");const r=Io(n);n.mu.add(3),await Gc(n),r&&n.pu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.mu.delete(3),await nm(n)}async function Kj(t,e){const n=Ne(t);e?(n.mu.delete(2),await nm(n)):e||(n.mu.add(2),await Gc(n),n.pu.set("Unknown"))}function fl(t){return t.Tu||(t.Tu=function(e,n,r){const i=Ne(e);return i.ru(),new Pj(n,i.connection,i.authCredentials,i.appCheckCredentials,i.Tt,r)}(t.datastore,t.asyncQueue,{Xr:Uj.bind(null,t),no:Vj.bind(null,t),Ho:Fj.bind(null,t)}),t.gu.push(async e=>{e?(t.Tu.$o(),L1(t)?N1(t):t.pu.set("Unknown")):(await t.Tu.stop(),rN(t))})),t.Tu}function ds(t){return t.Eu||(t.Eu=function(e,n,r){const i=Ne(e);return i.ru(),new Oj(n,i.connection,i.authCredentials,i.appCheckCredentials,i.Tt,r)}(t.datastore,t.asyncQueue,{Xr:zj.bind(null,t),no:qj.bind(null,t),nu:Hj.bind(null,t),eu:Wj.bind(null,t)}),t.gu.push(async e=>{e?(t.Eu.$o(),await rm(t)):(await t.Eu.stop(),t._u.length>0&&(fe("RemoteStore",`Stopping write stream with ${t._u.length} pending writes`),t._u=[]))})),t.Eu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new P1(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function O1(t,e){if(pi("AsyncQueue",`${e}: ${t}`),Wc(t))return new se(V.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=Zl(),this.sortedSet=new Pt(this.comparator)}static emptySet(e){return new wa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new wa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(){this.Au=new Pt(ye.comparator)}track(e){const n=e.doc.key,r=this.Au.get(n);r?e.type!==0&&r.type===3?this.Au=this.Au.insert(n,e):e.type===3&&r.type!==1?this.Au=this.Au.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Au=this.Au.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Au=this.Au.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Au=this.Au.remove(n):e.type===1&&r.type===2?this.Au=this.Au.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Au=this.Au.insert(n,{type:2,doc:e.doc}):Te():this.Au=this.Au.insert(n,e)}Ru(){const e=[];return this.Au.inorderTraversal((n,r)=>{e.push(r)}),e}}class Va{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Va(e,n,wa.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(){this.bu=void 0,this.listeners=[]}}class Qj{constructor(){this.queries=new hl(e=>kI(e),Yp),this.onlineState="Unknown",this.vu=new Set}}async function aN(t,e){const n=Ne(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Gj),i)try{s.bu=await n.onListen(r)}catch(o){const a=O1(o,`Initialization of query '${Jv(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Pu(n.onlineState),s.bu&&e.Vu(s.bu)&&D1(n)}async function lN(t,e){const n=Ne(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Yj(t,e){const n=Ne(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Vu(i)&&(r=!0);o.bu=i}}r&&D1(n)}function Xj(t,e,n){const r=Ne(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function D1(t){t.vu.forEach(e=>{e.next()})}class uN{constructor(e,n,r){this.query=e,this.Su=n,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Va(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Du?this.xu(e)&&(this.Su.next(e),n=!0):this.Nu(e,this.onlineState)&&(this.ku(e),n=!0),this.Cu=e,n}onError(e){this.Su.error(e)}Pu(e){this.onlineState=e;let n=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),n=!0),n}Nu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ou||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}xu(e){if(e.docChanges.length>0)return!0;const n=this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ku(e){e=Va.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e){this.key=e}}class dN{constructor(e){this.key=e}}class Jj{constructor(e,n){this.query=e,this.Ku=n,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=Pe(),this.mutatedKeys=Pe(),this.ju=CI(e),this.zu=new wa(this.ju)}get Wu(){return this.Ku}Hu(e,n){const r=n?n.Ju:new $S,i=n?n.zu:this.zu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=Xp(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),p=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let w=!1;h&&f?h.data.isEqual(f.data)?m!==p&&(r.track({type:3,doc:f}),w=!0):this.Yu(h,f)||(r.track({type:2,doc:f}),w=!0,(l&&this.ju(f,l)>0||u&&this.ju(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),w=!0):h&&!f&&(r.track({type:1,doc:h}),w=!0,(l||u)&&(a=!0)),w&&(f?(o=o.add(f),s=p?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{zu:o,Ju:r,Li:a,mutatedKeys:s}}Yu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;const s=e.Ju.Ru();s.sort((u,c)=>function(d,h){const f=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return f(d)-f(h)}(u.type,c.type)||this.ju(u.doc,c.doc)),this.Zu(r);const o=n?this.Xu():[],a=this.Qu.size===0&&this.current?1:0,l=a!==this.Gu;return this.Gu=a,s.length!==0||l?{snapshot:new Va(this.query,e.zu,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),tc:o}:{tc:o}}Pu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new $S,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}ec(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}Zu(e){e&&(e.addedDocuments.forEach(n=>this.Ku=this.Ku.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ku=this.Ku.delete(n)),this.current=e.current)}Xu(){if(!this.current)return[];const e=this.Qu;this.Qu=Pe(),this.zu.forEach(r=>{this.ec(r.key)&&(this.Qu=this.Qu.add(r.key))});const n=[];return e.forEach(r=>{this.Qu.has(r)||n.push(new dN(r))}),this.Qu.forEach(r=>{e.has(r)||n.push(new cN(r))}),n}nc(e){this.Ku=e.Yi,this.Qu=Pe();const n=this.Hu(e.documents);return this.applyChanges(n,!0)}sc(){return Va.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,this.Gu===0,this.hasCachedResults)}}class Zj{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class e5{constructor(e){this.key=e,this.ic=!1}}class t5{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.rc={},this.oc=new hl(a=>kI(a),Yp),this.uc=new Map,this.cc=new Set,this.ac=new Pt(ye.comparator),this.hc=new Map,this.lc=new k1,this.fc={},this.dc=new Map,this._c=Ua.Sn(),this.onlineState="Unknown",this.wc=void 0}get isPrimaryClient(){return this.wc===!0}}async function n5(t,e){const n=h5(t);let r,i;const s=n.oc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.sc();else{const o=await Rj(n.localStore,mi(e));n.isPrimaryClient&&eN(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await r5(n,e,r,a==="current",o.resumeToken)}return i}async function r5(t,e,n,r,i){t.mc=(d,h,f)=>async function(m,p,w,v){let g=p.view.Hu(w);g.Li&&(g=await PS(m.localStore,p.query,!1).then(({documents:S})=>p.view.Hu(S,g)));const y=v&&v.targetChanges.get(p.targetId),_=p.view.applyChanges(g,m.isPrimaryClient,y);return VS(m,p.targetId,_.tc),_.snapshot}(t,d,h,f);const s=await PS(t.localStore,e,!0),o=new Jj(e,s.Yi),a=o.Hu(s.documents),l=Kc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);VS(t,n,u.tc);const c=new Zj(e,n,o);return t.oc.set(e,c),t.uc.has(n)?t.uc.get(n).push(e):t.uc.set(n,[e]),u.snapshot}async function i5(t,e){const n=Ne(t),r=n.oc.get(e),i=n.uc.get(r.targetId);if(i.length>1)return n.uc.set(r.targetId,i.filter(s=>!Yp(s,e))),void n.oc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await n0(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),tN(n.remoteStore,r.targetId),r0(n,r.targetId)}).catch(Hc)):(r0(n,r.targetId),await n0(n.localStore,r.targetId,!0))}async function s5(t,e,n){const r=f5(t);try{const i=await function(s,o){const a=Ne(s),l=Nt.now(),u=o.reduce((h,f)=>h.add(f.key),Pe());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=gi(),m=Pe();return a.ji.getEntries(h,u).next(p=>{f=p,f.forEach((w,v)=>{v.isValidDocument()||(m=m.add(w))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(p=>{c=p;const w=[];for(const v of o){const g=I4(v,c.get(v.key).overlayedDocument);g!=null&&w.push(new Ss(v.key,g,xI(g.value.mapValue),Xn.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,w,o)}).next(p=>{d=p;const w=p.applyToLocalDocumentSet(c,m);return a.documentOverlayCache.saveOverlays(h,p.batchId,w)})}).then(()=>({batchId:d.batchId,changes:VI(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.fc[s.currentUser.toKey()];l||(l=new Pt(He)),l=l.insert(o,a),s.fc[s.currentUser.toKey()]=l}(r,i.batchId,n),await Qc(r,i.changes),await rm(r.remoteStore)}catch(i){const s=O1(i,"Failed to persist write");n.reject(s)}}async function hN(t,e){const n=Ne(t);try{const r=await Sj(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.hc.get(s);o&&(Xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ic=!0:i.modifiedDocuments.size>0?Xe(o.ic):i.removedDocuments.size>0&&(Xe(o.ic),o.ic=!1))}),await Qc(n,r,e)}catch(r){await Hc(r)}}function US(t,e,n){const r=Ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.oc.forEach((s,o)=>{const a=o.view.Pu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=Ne(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.Pu(o)&&(l=!0)}),l&&D1(a)}(r.eventManager,e),i.length&&r.rc.Ho(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function o5(t,e,n){const r=Ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.hc.get(e),s=i&&i.key;if(s){let o=new Pt(ye.comparator);o=o.insert(s,nn.newNoDocument(s,Ae.min()));const a=Pe().add(s),l=new em(Ae.min(),new Map,new Lt(He),o,a);await hN(r,l),r.ac=r.ac.remove(s),r.hc.delete(e),M1(r)}else await n0(r.localStore,e,!1).then(()=>r0(r,e,n)).catch(Hc)}async function a5(t,e){const n=Ne(t),r=e.batch.batchId;try{const i=await bj(n.localStore,e);pN(n,r,null),fN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Qc(n,i)}catch(i){await Hc(i)}}async function l5(t,e,n){const r=Ne(t);try{const i=await function(s,o){const a=Ne(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(Xe(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);pN(r,e,n),fN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Qc(r,i)}catch(i){await Hc(i)}}function fN(t,e){(t.dc.get(e)||[]).forEach(n=>{n.resolve()}),t.dc.delete(e)}function pN(t,e,n){const r=Ne(t);let i=r.fc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.fc[r.currentUser.toKey()]=i}}function r0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.uc.get(e))t.oc.delete(r),n&&t.rc.gc(r,n);t.uc.delete(e),t.isPrimaryClient&&t.lc.ds(e).forEach(r=>{t.lc.containsKey(r)||mN(t,r)})}function mN(t,e){t.cc.delete(e.path.canonicalString());const n=t.ac.get(e);n!==null&&(tN(t.remoteStore,n),t.ac=t.ac.remove(e),t.hc.delete(n),M1(t))}function VS(t,e,n){for(const r of n)r instanceof cN?(t.lc.addReference(r.key,e),u5(t,r)):r instanceof dN?(fe("SyncEngine","Document no longer in limbo: "+r.key),t.lc.removeReference(r.key,e),t.lc.containsKey(r.key)||mN(t,r.key)):Te()}function u5(t,e){const n=e.key,r=n.path.canonicalString();t.ac.get(n)||t.cc.has(r)||(fe("SyncEngine","New document in limbo: "+n),t.cc.add(r),M1(t))}function M1(t){for(;t.cc.size>0&&t.ac.size<t.maxConcurrentLimboResolutions;){const e=t.cc.values().next().value;t.cc.delete(e);const n=new ye(Ze.fromString(e)),r=t._c.next();t.hc.set(r,new e5(n)),t.ac=t.ac.insert(n,r),eN(t.remoteStore,new eo(mi(Gp(n.path)),r,2,v1.at))}}async function Qc(t,e,n){const r=Ne(t),i=[],s=[],o=[];r.oc.isEmpty()||(r.oc.forEach((a,l)=>{o.push(r.mc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=A1.Ni(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.rc.Ho(i),await async function(a,l){const u=Ne(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>G.forEach(l,d=>G.forEach(d.Ci,h=>u.persistence.referenceDelegate.addReference(c,d.targetId,h)).next(()=>G.forEach(d.xi,h=>u.persistence.referenceDelegate.removeReference(c,d.targetId,h)))))}catch(c){if(!Wc(c))throw c;fe("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const h=u.Ki.get(d),f=h.snapshotVersion,m=h.withLastLimboFreeSnapshotVersion(f);u.Ki=u.Ki.insert(d,m)}}}(r.localStore,s))}async function c5(t,e){const n=Ne(t);if(!n.currentUser.isEqual(e)){fe("SyncEngine","User change. New user:",e.toKey());const r=await YI(n.localStore,e);n.currentUser=e,function(i,s){i.dc.forEach(o=>{o.forEach(a=>{a.reject(new se(V.CANCELLED,s))})}),i.dc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Qc(n,r.Wi)}}function d5(t,e){const n=Ne(t),r=n.hc.get(e);if(r&&r.ic)return Pe().add(r.key);{let i=Pe();const s=n.uc.get(e);if(!s)return i;for(const o of s){const a=n.oc.get(o);i=i.unionWith(a.view.Wu)}return i}}function h5(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=hN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=d5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=o5.bind(null,e),e.rc.Ho=Yj.bind(null,e.eventManager),e.rc.gc=Xj.bind(null,e.eventManager),e}function f5(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=a5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=l5.bind(null,e),e}class p5{constructor(){this.synchronizeTabs=!1}async initialize(e){this.Tt=tm(e.databaseInfo.databaseId),this.sharedClientState=this.Ic(e),this.persistence=this.Tc(e),await this.persistence.start(),this.localStore=this.Ec(e),this.gcScheduler=this.Ac(e,this.localStore),this.indexBackfillerScheduler=this.Rc(e,this.localStore)}Ac(e,n){return null}Rc(e,n){return null}Ec(e){return Ej(this.persistence,new wj,e.initialUser,this.Tt)}Tc(e){return new yj(C1.qs,this.Tt)}Ic(e){return new Cj}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class m5{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>US(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=c5.bind(null,this.syncEngine),await Kj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Qj}createDatastore(e){const n=tm(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new Lj(i));var i;return function(s,o,a,l){return new Dj(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>US(this.syncEngine,a,0),o=DS.C()?new DS:new Aj,new $j(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new t5(r,i,s,o,a,l);return u&&(c.wc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=Ne(e);fe("RemoteStore","RemoteStore shutting down."),n.mu.add(5),await Gc(n),n.yu.shutdown(),n.pu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.vc(this.observer.next,e)}error(e){this.observer.error?this.vc(this.observer.error,e):pi("Uncaught Error in snapshot listener:",e.toString())}Pc(){this.muted=!0}vc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=en.UNAUTHENTICATED,this.clientId=mI.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{fe("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(fe("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new se(V.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=O1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function y5(t,e){t.asyncQueue.verifyOperationInProgress(),fe("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await YI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function v5(t,e){t.asyncQueue.verifyOperationInProgress();const n=await w5(t);fe("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>MS(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>MS(e.remoteStore,s)),t.onlineComponents=e}async function w5(t){return t.offlineComponents||(fe("FirestoreClient","Using default OfflineComponentProvider"),await y5(t,new p5)),t.offlineComponents}async function yN(t){return t.onlineComponents||(fe("FirestoreClient","Using default OnlineComponentProvider"),await v5(t,new m5)),t.onlineComponents}function _5(t){return yN(t).then(e=>e.syncEngine)}async function i0(t){const e=await yN(t),n=e.eventManager;return n.onListen=n5.bind(null,e.syncEngine),n.onUnlisten=i5.bind(null,e.syncEngine),n}function E5(t,e,n={}){const r=new ns;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new gN({next:d=>{s.enqueueAndForget(()=>lN(i,c));const h=d.docs.has(o);!h&&d.fromCache?l.reject(new se(V.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&a.source==="server"?l.reject(new se(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new uN(Gp(o.path),u,{includeMetadataChanges:!0,Ou:!0});return aN(i,c)}(await i0(t),t.asyncQueue,e,n,r)),r.promise}const FS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(t,e,n){if(!n)throw new se(V.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function b5(t,e,n,r){if(e===!0&&r===!0)throw new se(V.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function BS(t){if(!ye.isDocumentKey(t))throw new se(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function jS(t){if(ye.isDocumentKey(t))throw new se(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function im(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Te()}function Jn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=im(t);throw new se(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new se(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new se(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,b5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zS({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new se(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new se(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zS(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new q3;switch(n.type){case"gapi":const r=n.client;return new Y3(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new se(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=FS.get(e);n&&(fe("ComponentProvider","Removing Datastore"),FS.delete(e),n.terminate())}(this),Promise.resolve()}}function S5(t,e,n,r={}){var i;const s=(t=Jn(t,sm))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&Wv("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=en.MOCK_USER;else{o=oA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new se(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new en(l)}t._authCredentials=new K3(new pI(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ln(this.firestore,e,this._key)}}class No{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new No(this.firestore,e,this._query)}}class rs extends No{constructor(e,n,r){super(e,n,Gp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ln(this.firestore,null,new ye(e))}withConverter(e){return new rs(this.firestore,e,this._path)}}function $1(t,e,...n){if(t=ot(t),vN("collection","path",e),t instanceof sm){const r=Ze.fromString(e,...n);return jS(r),new rs(t,null,r)}{if(!(t instanceof ln||t instanceof rs))throw new se(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ze.fromString(e,...n));return jS(r),new rs(t.firestore,null,r)}}function kn(t,e,...n){if(t=ot(t),arguments.length===1&&(e=mI.R()),vN("doc","path",e),t instanceof sm){const r=Ze.fromString(e,...n);return BS(r),new ln(t,null,new ye(r))}{if(!(t instanceof ln||t instanceof rs))throw new se(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ze.fromString(e,...n));return BS(r),new ln(t.firestore,t instanceof rs?t.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new JI(this,"async_queue_retry"),this.Hc=()=>{const n=Qg();n&&fe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.ko.Vo()};const e=Qg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Jc(),this.Yc(e)}enterRestrictedMode(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;const n=Qg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Hc)}}enqueue(e){if(this.Jc(),this.Kc)return new Promise(()=>{});const n=new ns;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Uc.push(e),this.Zc()))}async Zc(){if(this.Uc.length!==0){try{await this.Uc[0](),this.Uc.shift(),this.ko.reset()}catch(e){if(!Wc(e))throw e;fe("AsyncQueue","Operation failed with retryable error: "+e)}this.Uc.length>0&&this.ko.vo(()=>this.Zc())}}Yc(e){const n=this.qc.then(()=>(this.jc=!0,e().catch(r=>{this.Qc=r,this.jc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw pi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.jc=!1,r))));return this.qc=n,n}enqueueAfterDelay(e,n,r){this.Jc(),this.Wc.indexOf(e)>-1&&(n=0);const i=P1.createAndSchedule(this,e,n,r,s=>this.Xc(s));return this.Gc.push(i),i}Jc(){this.Qc&&Te()}verifyOperationInProgress(){}async ta(){let e;do e=this.qc,await e;while(e!==this.qc)}ea(e){for(const n of this.Gc)if(n.timerId===e)return!0;return!1}na(e){return this.ta().then(()=>{this.Gc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Gc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ta()})}sa(e){this.Wc.push(e)}Xc(e){const n=this.Gc.indexOf(e);this.Gc.splice(n,1)}}function HS(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class hs extends sm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new T5,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||wN(this),this._firestoreClient.terminate()}}function x5(t,e){const n=typeof t=="object"?t:Qw(),r=typeof t=="string"?t:e||"(default)",i=Np(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=iA("firestore");s&&S5(i,...s)}return i}function U1(t){return t._firestoreClient||wN(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function wN(t){var e;const n=t._freezeSettings(),r=function(i,s,o,a){return new o4(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new g5(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fa(dn.fromBase64String(e))}catch(n){throw new se(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fa(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pl=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5=/^__.*__$/;class k5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ss(e,this.data,this.fieldMask,n,this.fieldTransforms):new qc(e,this.data,n,this.fieldTransforms)}}class _N{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ss(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function EN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class am{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.Tt=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ia(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ra(){return this.settings.ra}oa(e){return new am(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ua(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.oa({path:r,ca:!1});return i.aa(e),i}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.oa({path:r,ca:!1});return i.ia(),i}la(e){return this.oa({path:void 0,ca:!0})}fa(e){return Rf(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ia(){if(this.path)for(let e=0;e<this.path.length;e++)this.aa(this.path.get(e))}aa(e){if(e.length===0)throw this.fa("Document fields must not be empty");if(EN(this.ra)&&R5.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}class C5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.Tt=r||tm(e)}wa(e,n,r,i=!1){return new am({ra:e,methodName:n,_a:r,path:rn.emptyPath(),ca:!1,da:i},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}function lm(t){const e=t._freezeSettings(),n=tm(t._databaseId);return new C5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function bN(t,e,n,r,i,s={}){const o=t.wa(s.merge||s.mergeFields?2:0,e,n,i);B1("Data must be an object, but it was:",o,r);const a=TN(r,o);let l,u;if(s.merge)l=new Dn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=s0(e,d,n);if(!o.contains(h))throw new se(V.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);RN(c,h)||c.push(h)}l=new Dn(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new k5(new En(a),l,u)}class um extends pl{_toFieldTransform(e){if(e.ra!==2)throw e.ra===1?e.fa(`${this._methodName}() can only appear at the top level of your update data`):e.fa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof um}}function SN(t,e,n){return new am({ra:3,_a:e.settings._a,methodName:t._methodName,ca:n},e.databaseId,e.Tt,e.ignoreUndefinedProperties)}class F1 extends pl{_toFieldTransform(e){return new S1(e.path,new fc)}isEqual(e){return e instanceof F1}}class A5 extends pl{constructor(e,n){super(e),this.ma=n}_toFieldTransform(e){const n=SN(this,e,!0),r=this.ma.map(s=>Lo(s,n)),i=new Ma(r);return new S1(e.path,i)}isEqual(e){return this===e}}class I5 extends pl{constructor(e,n){super(e),this.ma=n}_toFieldTransform(e){const n=SN(this,e,!0),r=this.ma.map(s=>Lo(s,n)),i=new $a(r);return new S1(e.path,i)}isEqual(e){return this===e}}function N5(t,e,n,r){const i=t.wa(1,e,n);B1("Data must be an object, but it was:",i,r);const s=[],o=En.empty();Ao(r,(l,u)=>{const c=j1(e,l,n);u=ot(u);const d=i.ha(c);if(u instanceof um)s.push(c);else{const h=Lo(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new Dn(s);return new _N(o,a,i.fieldTransforms)}function L5(t,e,n,r,i,s){const o=t.wa(1,e,n),a=[s0(e,r,n)],l=[i];if(s.length%2!=0)throw new se(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(s0(e,s[h])),l.push(s[h+1]);const u=[],c=En.empty();for(let h=a.length-1;h>=0;--h)if(!RN(u,a[h])){const f=a[h];let m=l[h];m=ot(m);const p=o.ha(f);if(m instanceof um)u.push(f);else{const w=Lo(m,p);w!=null&&(u.push(f),c.set(f,w))}}const d=new Dn(u);return new _N(c,d,o.fieldTransforms)}function P5(t,e,n,r=!1){return Lo(n,t.wa(r?4:3,e))}function Lo(t,e){if(xN(t=ot(t)))return B1("Unsupported field value:",e,t),TN(t,e);if(t instanceof pl)return function(n,r){if(!EN(r.ra))throw r.fa(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.fa(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ca&&e.ra!==4)throw e.fa("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Lo(o,r.la(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=ot(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return T4(r.Tt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Nt.fromDate(n);return{timestampValue:Tf(r.Tt,i)}}if(n instanceof Nt){const i=new Nt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Tf(r.Tt,i)}}if(n instanceof V1)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Fa)return{bytesValue:HI(r.Tt,n._byteString)};if(n instanceof ln){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.fa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:x1(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.fa(`Unsupported field value: ${im(n)}`)}(t,e)}function TN(t,e){const n={};return gI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ao(t,(r,i)=>{const s=Lo(i,e.ua(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function xN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Nt||t instanceof V1||t instanceof Fa||t instanceof ln||t instanceof pl)}function B1(t,e,n){if(!xN(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=im(n);throw r==="an object"?e.fa(t+" a custom object"):e.fa(t+" "+r)}}function s0(t,e,n){if((e=ot(e))instanceof om)return e._internalPath;if(typeof e=="string")return j1(t,e);throw Rf("Field path arguments must be of type string or ",t,!1,void 0,n)}const O5=new RegExp("[~\\*/\\[\\]]");function j1(t,e,n){if(e.search(O5)>=0)throw Rf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new om(...e.split("."))._internalPath}catch{throw Rf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new se(V.INVALID_ARGUMENT,a+t+l)}function RN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new D5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(cm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class D5 extends kN{data(){return super.data()}}function cm(t,e){return typeof e=="string"?j1(t,e):e instanceof om?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new se(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class z1{}class CN extends z1{}function AN(t,e,...n){let r=[];e instanceof z1&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof H1).length,o=i.filter(a=>a instanceof dm).length;if(s>1||s>0&&o>0)throw new se(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class dm extends CN{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new dm(e,n,r)}_apply(e){const n=this._parse(e);return NN(e._query,n),new No(e.firestore,e.converter,Yv(e._query,n))}_parse(e){const n=lm(e.firestore);return function(i,s,o,a,l,u,c){let d;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new se(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){qS(c,u);const h=[];for(const f of c)h.push(WS(a,i,f));d={arrayValue:{values:h}}}else d=WS(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||qS(c,u),d=P5(o,s,c,u==="in"||u==="not-in");return kt.create(l,u,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function $5(t,e,n){const r=e,i=cm("where",t);return dm._create(i,r,n)}class H1 extends z1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new H1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:yr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)NN(s,a),s=Yv(s,a)}(e._query,n),new No(e.firestore,e.converter,Yv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class W1 extends CN{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new W1(e,n)}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new se(V.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new se(V.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new ya(i,s);return function(a,l){if(b1(a)===null){const u=Qp(a);u!==null&&LN(a,u,l.field)}}(r,o),o}(e._query,this._field,this._direction);return new No(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new dl(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function IN(t,e="asc"){const n=e,r=cm("orderBy",t);return W1._create(r,n)}function WS(t,e,n){if(typeof(n=ot(n))=="string"){if(n==="")throw new se(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RI(e)&&n.indexOf("/")!==-1)throw new se(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ze.fromString(n));if(!ye.isDocumentKey(r))throw new se(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yS(t,new ye(r))}if(n instanceof ln)return yS(t,n._key);throw new se(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${im(n)}.`)}function qS(t,e){if(!Array.isArray(t)||t.length===0)throw new se(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function NN(t,e){if(e.isInequality()){const r=Qp(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new se(V.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=b1(t);s!==null&&LN(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new se(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function LN(t,e,n){if(!n.isEqual(e))throw new se(V.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class U5{convertValue(e,n="none"){switch(mo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Pa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Te()}}convertObject(e,n){const r={};return Ao(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new V1(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=vI(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(dc(e));default:return null}}convertTimestamp(e){const n=cs(e);return new Nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ze.fromString(e);Xe(QI(r));const i=new cc(r.get(1),r.get(3)),s=new ye(r.popFirst(5));return i.isEqual(n)||pi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ON extends kN{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(cm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class xh extends ON{data(e={}){return super.data(e)}}class V5{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new eu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new xh(this._firestore,this._userDataWriter,r.key,r,new eu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new xh(r._firestore,r._userDataWriter,o.doc.key,o.doc,new eu(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new xh(r._firestore,r._userDataWriter,o.doc.key,o.doc,new eu(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:F5(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function F5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B5(t){t=Jn(t,ln);const e=Jn(t.firestore,hs);return E5(U1(e),t._key).then(n=>$N(e,t,n))}class DN extends U5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ln(this.firestore,null,n)}}function q1(t,e,n){t=Jn(t,ln);const r=Jn(t.firestore,hs),i=PN(t.converter,e,n);return hm(r,[bN(lm(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Xn.none())])}function fs(t,e,n,...r){t=Jn(t,ln);const i=Jn(t.firestore,hs),s=lm(i);let o;return o=typeof(e=ot(e))=="string"||e instanceof om?L5(s,"updateDoc",t._key,e,n,r):N5(s,"updateDoc",t._key,e),hm(i,[o.toMutation(t._key,Xn.exists(!0))])}function MN(t){return hm(Jn(t.firestore,hs),[new T1(t._key,Xn.none())])}function j5(t,e){const n=Jn(t.firestore,hs),r=kn(t),i=PN(t.converter,e);return hm(n,[bN(lm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Xn.exists(!1))]).then(()=>r)}function Yc(t,...e){var n,r,i;t=ot(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||HS(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(HS(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof ln)u=Jn(t.firestore,hs),c=Gp(t._key.path),l={next:d=>{e[o]&&e[o]($N(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=Jn(t,No);u=Jn(d.firestore,hs),c=d._query;const h=new DN(u);l={next:f=>{e[o]&&e[o](new V5(u,h,d,f))},error:e[o+1],complete:e[o+2]},M5(t._query)}return function(d,h,f,m){const p=new gN(m),w=new uN(h,p,f);return d.asyncQueue.enqueueAndForget(async()=>aN(await i0(d),w)),()=>{p.Pc(),d.asyncQueue.enqueueAndForget(async()=>lN(await i0(d),w))}}(U1(u),c,a,l)}function hm(t,e){return function(n,r){const i=new ns;return n.asyncQueue.enqueueAndForget(async()=>s5(await _5(n),r,i)),i.promise}(U1(t),e)}function $N(t,e,n){const r=n.docs.get(e._key),i=new DN(t);return new ON(t,i,e._key,r,new eu(n.hasPendingWrites,n.fromCache),e.converter)}function K1(){return new F1("serverTimestamp")}function fm(...t){return new A5("arrayUnion",t)}function G1(...t){return new I5("arrayRemove",t)}(function(t,e=!0){(function(n){cl=n})(al),fo(new ls("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new hs(new G3(n.getProvider("auth-internal")),new J3(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new se(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cc(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Ar(fS,"3.8.4",t),Ar(fS,"3.8.4","esm2017")})();function Q1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function UN(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const z5=UN,VN=new Pc("auth","Firebase",UN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=new Kw("@firebase/auth");function Rh(t,...e){KS.logLevel<=ze.ERROR&&KS.error(`Auth (${al}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(t,...e){throw Y1(t,...e)}function Nr(t,...e){return Y1(t,...e)}function FN(t,e,n){const r=Object.assign(Object.assign({},z5()),{[e]:n});return new Pc("auth","Firebase",r).create(e,{appName:t.name})}function H5(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&nr(t,"argument-error"),FN(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Y1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return VN.create(t,...e)}function Se(t,e,...n){if(!t)throw Y1(e,...n)}function ti(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rh(e),new Error(e)}function yi(t,e){t||ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS=new Map;function ni(t){yi(t instanceof Function,"Expected a class definition");let e=GS.get(t);return e?(yi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,GS.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W5(t,e){const n=Np(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(df(s,e??{}))return i;nr(i,"already-initialized")}return n.initialize({options:e})}function q5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ni);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function K5(){return QS()==="http:"||QS()==="https:"}function QS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(K5()||xF()||"connection"in navigator)?navigator.onLine:!0}function Q5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n){this.shortDelay=e,this.longDelay=n,yi(n>e,"Short delay should be less than long delay!"),this.isMobile=SF()||RF()}get(){return G5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(t,e){yi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5=new Xc(3e4,6e4);function Jc(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ml(t,e,n,r,i={}){return jN(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Oc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),BN.fetch()(zN(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function jN(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Y5),e);try{const i=new J5(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Hd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Hd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Hd(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw FN(t,c,u);nr(t,c)}}catch(i){if(i instanceof Fr)throw i;nr(t,"internal-error",{message:String(i)})}}async function Zc(t,e,n,r,i={}){const s=await ml(t,e,n,r,i);return"mfaPendingCredential"in s&&nr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function zN(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?X1(t.config,i):`${t.config.apiScheme}://${i}`}class J5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Nr(this.auth,"network-request-failed")),X5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Nr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z5(t,e){return ml(t,"POST","/v1/accounts:delete",e)}async function ez(t,e){return ml(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tz(t,e=!1){const n=ot(t),r=await n.getIdToken(e),i=J1(r);Se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:vu(Yg(i.auth_time)),issuedAtTime:vu(Yg(i.iat)),expirationTime:vu(Yg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Yg(t){return Number(t)*1e3}function J1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Rh("JWT malformed, contained fewer than 3 sections"),null;try{const i=nA(n);return i?JSON.parse(i):(Rh("Failed to decode base64 JWT payload"),null)}catch(i){return Rh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function nz(t){const e=J1(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Fr&&rz(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function rz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vu(this.lastLoginAt),this.creationTime=vu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ba(t,ez(n,{idToken:r}));Se(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?az(s.providerUserInfo):[],a=oz(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new HN(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function sz(t){const e=ot(t);await kf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oz(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function az(t){return t.map(e=>{var{providerId:n}=e,r=Q1(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lz(t,e){const n=await jN(t,{},async()=>{const r=Oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=zN(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",BN.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nz(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Se(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await lz(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new pc;return r&&(Se(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Se(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Se(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pc,this.toJSON())}_performRefresh(){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class to{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Q1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new iz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new HN(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ba(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return tz(this,e)}reload(){return sz(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new to(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await kf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ba(this,Z5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,p=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,g=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:y,emailVerified:_,isAnonymous:S,providerData:k,stsTokenManager:R}=n;Se(y&&R,e,"internal-error");const I=pc.fromJSON(this.name,R);Se(typeof y=="string",e,"internal-error"),Ri(d,e.name),Ri(h,e.name),Se(typeof _=="boolean",e,"internal-error"),Se(typeof S=="boolean",e,"internal-error"),Ri(f,e.name),Ri(m,e.name),Ri(p,e.name),Ri(w,e.name),Ri(v,e.name),Ri(g,e.name);const K=new to({uid:y,auth:e,email:h,emailVerified:_,displayName:d,isAnonymous:S,photoURL:m,phoneNumber:f,tenantId:p,stsTokenManager:I,createdAt:v,lastLoginAt:g});return k&&Array.isArray(k)&&(K.providerData=k.map(z=>Object.assign({},z))),w&&(K._redirectEventId=w),K}static async _fromIdTokenResponse(e,n,r=!1){const i=new pc;i.updateFromServerResponse(n);const s=new to({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await kf(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}WN.type="NONE";const YS=WN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(t,e,n){return`firebase:${t}:${e}:${n}`}class _a{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=kh(this.userKey,i.apiKey,s),this.fullPersistenceKey=kh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?to._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new _a(ni(YS),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||ni(YS);const o=kh(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=to._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new _a(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new _a(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YN(e))return"Blackberry";if(XN(e))return"Webos";if(Z1(e))return"Safari";if((e.includes("chrome/")||KN(e))&&!e.includes("edge/"))return"Chrome";if(QN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function qN(t=cn()){return/firefox\//i.test(t)}function Z1(t=cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KN(t=cn()){return/crios\//i.test(t)}function GN(t=cn()){return/iemobile/i.test(t)}function QN(t=cn()){return/android/i.test(t)}function YN(t=cn()){return/blackberry/i.test(t)}function XN(t=cn()){return/webos/i.test(t)}function pm(t=cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function uz(t=cn()){var e;return pm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function cz(){return kF()&&document.documentMode===10}function JN(t=cn()){return pm(t)||QN(t)||XN(t)||YN(t)||/windows phone/i.test(t)||GN(t)}function dz(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(t,e=[]){let n;switch(t){case"Browser":n=XS(cn());break;case"Worker":n=`${XS(cn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${al}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new JS(this),this.idTokenSubscription=new JS(this),this.beforeStateQueue=new hz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VN,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ni(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await _a.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await kf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Q5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ot(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ni(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ni(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await _a.create(this,[ni(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Se(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function gl(t){return ot(t)}class JS{constructor(e){this.auth=e,this.observer=null,this.addObserver=OF(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function pz(t,e,n){const r=gl(t);Se(r._canInitEmulator,r,"emulator-config-failed"),Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=eL(e),{host:o,port:a}=mz(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||gz()}function eL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function mz(t){const e=eL(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:ZS(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:ZS(o)}}}function ZS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function gz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ti("not implemented")}_getIdTokenResponse(e){return ti("not implemented")}_linkToIdToken(e,n){return ti("not implemented")}_getReauthenticationResolver(e){return ti("not implemented")}}async function yz(t,e){return ml(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vz(t,e){return Zc(t,"POST","/v1/accounts:signInWithPassword",Jc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wz(t,e){return Zc(t,"POST","/v1/accounts:signInWithEmailLink",Jc(t,e))}async function _z(t,e){return Zc(t,"POST","/v1/accounts:signInWithEmailLink",Jc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc extends e_{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new mc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new mc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return vz(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return wz(e,{email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return yz(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return _z(e,{idToken:n,email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ea(t,e){return Zc(t,"POST","/v1/accounts:signInWithIdp",Jc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez="http://localhost";class go extends e_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new go(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):nr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Q1(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new go(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ea(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ea(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ea(e,n)}buildRequest(){const e={requestUri:Ez,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Oc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bz(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Sz(t){const e=Ql(Yl(t)).link,n=e?Ql(Yl(e)).deep_link_id:null,r=Ql(Yl(t)).deep_link_id;return(r?Ql(Yl(r)).link:null)||r||n||e||t}class t_{constructor(e){var n,r,i,s,o,a;const l=Ql(Yl(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=bz((i=l.mode)!==null&&i!==void 0?i:null);Se(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Sz(e);try{return new t_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(){this.providerId=yl.PROVIDER_ID}static credential(e,n){return mc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=t_.parseLink(n);return Se(r,"argument-error"),mc._fromEmailAndCode(e,r.code,r.tenantId)}}yl.PROVIDER_ID="password";yl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends n_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends ed{constructor(){super("facebook.com")}static credential(e){return go._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ui.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends ed{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return go._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Xr.credential(n,r)}catch{return null}}}Xr.GOOGLE_SIGN_IN_METHOD="google.com";Xr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends ed{constructor(){super("github.com")}static credential(e){return go._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vi.credential(e.oauthAccessToken)}catch{return null}}}Vi.GITHUB_SIGN_IN_METHOD="github.com";Vi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends ed{constructor(){super("twitter.com")}static credential(e,n){return go._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Fi.credential(n,r)}catch{return null}}}Fi.TWITTER_SIGN_IN_METHOD="twitter.com";Fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tz(t,e){return Zc(t,"POST","/v1/accounts:signUp",Jc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await to._fromIdTokenResponse(e,r,i),o=eT(r);return new yo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=eT(r);return new yo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function eT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf extends Fr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Cf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Cf(e,n,r,i)}}function tL(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Cf._fromErrorAndOperation(t,s,e,r):s})}async function xz(t,e,n=!1){const r=await Ba(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return yo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rz(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Ba(t,tL(r,i,e,t),n);Se(s.idToken,r,"internal-error");const o=J1(s.idToken);Se(o,r,"internal-error");const{sub:a}=o;return Se(t.uid===a,r,"user-mismatch"),yo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&nr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nL(t,e,n=!1){const r="signIn",i=await tL(t,r,e),s=await yo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function kz(t,e){return nL(gl(t),e)}async function Cz(t,e,n){const r=gl(t),i=await Tz(r,{returnSecureToken:!0,email:e,password:n}),s=await yo._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}function Az(t,e,n){return kz(ot(t),yl.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iz(t,e){return ml(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nz(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ot(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ba(r,Iz(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function Lz(t,e,n,r){return ot(t).onIdTokenChanged(e,n,r)}function Pz(t,e,n){return ot(t).beforeAuthStateChanged(e,n)}function td(t,e,n,r){return ot(t).onAuthStateChanged(e,n,r)}const Af="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Af,"1"),this.storage.removeItem(Af),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oz(){const t=cn();return Z1(t)||pm(t)}const Dz=1e3,Mz=10;class iL extends rL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Oz()&&dz(),this.fallbackToPolling=JN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);cz()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Mz):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Dz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}iL.type="LOCAL";const $z=iL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL extends rL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}sL.type="SESSION";const oL=sL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new mm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await Uz(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=r_("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(){return window}function Fz(t){Lr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(){return typeof Lr().WorkerGlobalScope<"u"&&typeof Lr().importScripts=="function"}async function Bz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jz(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function zz(){return aL()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL="firebaseLocalStorageDb",Hz=1,If="firebaseLocalStorage",uL="fbase_key";class nd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gm(t,e){return t.transaction([If],e?"readwrite":"readonly").objectStore(If)}function Wz(){const t=indexedDB.deleteDatabase(lL);return new nd(t).toPromise()}function a0(){const t=indexedDB.open(lL,Hz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(If,{keyPath:uL})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(If)?e(r):(r.close(),await Wz(),e(await a0()))})})}async function tT(t,e,n){const r=gm(t,!0).put({[uL]:e,value:n});return new nd(r).toPromise()}async function qz(t,e){const n=gm(t,!1).get(e),r=await new nd(n).toPromise();return r===void 0?null:r.value}function nT(t,e){const n=gm(t,!0).delete(e);return new nd(n).toPromise()}const Kz=800,Gz=3;class cL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await a0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Gz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mm._getInstance(zz()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Bz(),!this.activeServiceWorker)return;this.sender=new Vz(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await a0();return await tT(e,Af,"1"),await nT(e,Af),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>tT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>qz(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>nT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=gm(i,!1).getAll();return new nd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Kz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cL.type="LOCAL";const Qz=cL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yz(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function Xz(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Nr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Yz().appendChild(r)})}function Jz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new Xc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(t,e){return e?ni(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_ extends e_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ea(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ea(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ea(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Zz(t){return nL(t.auth,new i_(t),t.bypassAuthState)}function e6(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),Rz(n,new i_(t),t.bypassAuthState)}async function t6(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),xz(n,new i_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Zz;case"linkViaPopup":case"linkViaRedirect":return t6;case"reauthViaPopup":case"reauthViaRedirect":return e6;default:nr(this.auth,"internal-error")}}resolve(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=new Xc(2e3,1e4);async function r6(t,e,n){const r=gl(t);H5(t,e,n_);const i=dL(r,n);return new Qs(r,"signInViaPopup",e,i).executeNotNull()}class Qs extends hL{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Qs.currentPopupAction&&Qs.currentPopupAction.cancel(),Qs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){yi(this.filter.length===1,"Popup operations only handle one event");const e=r_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Nr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nr(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,n6.get())};e()}}Qs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6="pendingRedirect",Ch=new Map;class s6 extends hL{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ch.get(this.auth._key());if(!e){try{const r=await o6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ch.set(this.auth._key(),e)}return this.bypassAuthState||Ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function o6(t,e){const n=u6(e),r=l6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function a6(t,e){Ch.set(t._key(),e)}function l6(t){return ni(t._redirectPersistence)}function u6(t){return kh(i6,t.config.apiKey,t.name)}async function c6(t,e,n=!1){const r=gl(t),i=dL(r,e),o=await new s6(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6=10*60*1e3;class h6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!f6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!fL(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Nr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=d6&&this.cachedEventUids.clear(),this.cachedEventUids.has(rT(e))}saveEventToCache(e){this.cachedEventUids.add(rT(e)),this.lastProcessedEventTime=Date.now()}}function rT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function fL({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function f6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fL(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p6(t,e={}){return ml(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,g6=/^https?/;async function y6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await p6(t);for(const n of e)try{if(v6(n))return}catch{}nr(t,"unauthorized-domain")}function v6(t){const e=o0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!g6.test(n))return!1;if(m6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6=new Xc(3e4,6e4);function iT(){const t=Lr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _6(t){return new Promise((e,n)=>{var r,i,s;function o(){iT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iT(),n(Nr(t,"network-request-failed"))},timeout:w6.get()})}if(!((i=(r=Lr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Lr().gapi)===null||s===void 0)&&s.load)o();else{const a=Jz("iframefcb");return Lr()[a]=()=>{gapi.load?o():n(Nr(t,"network-request-failed"))},Xz(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ah=null,e})}let Ah=null;function E6(t){return Ah=Ah||_6(t),Ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6=new Xc(5e3,15e3),S6="__/auth/iframe",T6="emulator/auth/iframe",x6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},R6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function k6(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?X1(e,T6):`https://${t.config.authDomain}/${S6}`,r={apiKey:e.apiKey,appName:t.name,v:al},i=R6.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Oc(r).slice(1)}`}async function C6(t){const e=await E6(t),n=Lr().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:k6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:x6,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Nr(t,"network-request-failed"),a=Lr().setTimeout(()=>{s(o)},b6.get());function l(){Lr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},I6=500,N6=600,L6="_blank",P6="http://localhost";class sT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function O6(t,e,n,r=I6,i=N6){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},A6),{width:r.toString(),height:i.toString(),top:s,left:o}),u=cn().toLowerCase();n&&(a=KN(u)?L6:n),qN(u)&&(e=e||P6,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,m])=>`${h}${f}=${m},`,"");if(uz(u)&&a!=="_self")return D6(e||"",a),new sT(null);const d=window.open(e||"",a,c);Se(d,t,"popup-blocked");try{d.focus()}catch{}return new sT(d)}function D6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6="__/auth/handler",$6="emulator/auth/handler";function oT(t,e,n,r,i,s){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:al,eventId:i};if(e instanceof n_){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",PF(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,u]of Object.entries(s||{}))o[l]=u}if(e instanceof ed){const l=e.getScopes().filter(u=>u!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${U6(t)}?${Oc(a).slice(1)}`}function U6({config:t}){return t.emulator?X1(t,$6):`https://${t.authDomain}/${M6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg="webStorageSupport";class V6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oL,this._completeRedirectFn=c6,this._overrideRedirectResult=a6}async _openPopup(e,n,r,i){var s;yi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=oT(e,n,r,o0(),i);return O6(e,o,r_())}async _openRedirect(e,n,r,i){return await this._originValidation(e),Fz(oT(e,n,r,o0(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(yi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await C6(e),r=new h6(e);return n.register("authEvent",i=>(Se(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xg,{type:Xg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Xg];o!==void 0&&n(!!o),nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=y6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return JN()||Z1()||pm()}}const F6=V6;var aT="@firebase/auth",lT="0.21.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function z6(t){fo(new ls("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{Se(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),Se(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const u={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZN(t)},c=new fz(a,l,u);return q5(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fo(new ls("auth-internal",e=>{const n=gl(e.getProvider("auth").getImmediate());return(r=>new B6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ar(aT,lT,j6(t)),Ar(aT,lT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6=5*60,W6=sA("authIdTokenMaxAge")||H6;let uT=null;const q6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>W6)return;const i=n==null?void 0:n.token;uT!==i&&(uT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function K6(t=Qw()){const e=Np(t,"auth");if(e.isInitialized())return e.getImmediate();const n=W5(t,{popupRedirectResolver:F6,persistence:[Qz,$z,oL]}),r=sA("authTokenSyncURL");if(r){const s=q6(r);Pz(n,s,()=>s(n.currentUser)),Lz(n,o=>s(o))}const i=rA("auth");return i&&pz(n,`http://${i}`),n}z6("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL="firebasestorage.googleapis.com",mL="storageBucket",G6=2*60*1e3,Q6=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt extends Fr{constructor(e,n,r=0){super(Jg(e),`Firebase Storage: ${n} (${Jg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Jg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gt||(gt={}));function Jg(t){return"storage/"+t}function s_(){const t="An unknown error occurred, please check the error payload for server response.";return new yt(gt.UNKNOWN,t)}function Y6(t){return new yt(gt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function X6(t){return new yt(gt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function J6(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new yt(gt.UNAUTHENTICATED,t)}function Z6(){return new yt(gt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function eH(t){return new yt(gt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function tH(){return new yt(gt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function nH(){return new yt(gt.CANCELED,"User canceled the upload/download.")}function rH(t){return new yt(gt.INVALID_URL,"Invalid URL '"+t+"'.")}function iH(t){return new yt(gt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function sH(){return new yt(gt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+mL+"' property when initializing the app?")}function oH(){return new yt(gt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function aH(){return new yt(gt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function lH(t){return new yt(gt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function l0(t){return new yt(gt.INVALID_ARGUMENT,t)}function gL(){return new yt(gt.APP_DELETED,"The Firebase app was deleted.")}function uH(t){return new yt(gt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function wu(t,e){return new yt(gt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Dl(t){throw new yt(gt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Mn.makeFromUrl(e,n)}catch{return new Mn(e,"")}if(r.path==="")return r;throw iH(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(_){_.path.charAt(_.path.length-1)==="/"&&(_.path_=_.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(_){_.path_=decodeURIComponent(_.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},p=n===pL?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",v=new RegExp(`^https?://${p}/${i}/${w}`,"i"),y=[{regex:a,indices:l,postModify:s},{regex:f,indices:m,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let _=0;_<y.length;_++){const S=y[_],k=S.regex.exec(e);if(k){const R=k[S.indices.bucket];let I=k[S.indices.path];I||(I=""),r=new Mn(R,I),S.postModify(r);break}}if(r==null)throw rH(e);return r}}class cH{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dH(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...w){u||(u=!0,e.apply(null,w))}function d(w){i=setTimeout(()=>{i=null,t(f,l())},w)}function h(){s&&clearTimeout(s)}function f(w,...v){if(u){h();return}if(w){h(),c.call(null,w,...v);return}if(l()||o){h(),c.call(null,w,...v);return}r<64&&(r*=2);let y;a===1?(a=2,y=0):y=(r+Math.random())*1e3,d(y)}let m=!1;function p(w){m||(m=!0,h(),!u&&(i!==null?(w||(a=2),clearTimeout(i),d(0)):w||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,p(!0)},n),p}function hH(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fH(t){return t!==void 0}function pH(t){return typeof t=="object"&&!Array.isArray(t)}function o_(t){return typeof t=="string"||t instanceof String}function cT(t){return a_()&&t instanceof Blob}function a_(){return typeof Blob<"u"&&!TF()}function dT(t,e,n,r){if(r<e)throw l0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw l0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function yL(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var no;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(no||(no={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mH(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(e,n,r,i,s,o,a,l,u,c,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,m)=>{this.resolve_=f,this.reject_=m,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Wd(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===no.NO_ERROR,l=s.getStatus();if(!a||mH(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===no.ABORT;r(!1,new Wd(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Wd(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());fH(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=s_();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?gL():nH();o(l)}else{const l=tH();o(l)}};this.canceled_?n(!1,new Wd(!1,null,!0)):this.backoffId_=dH(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&hH(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Wd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function yH(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function vH(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function wH(t,e){e&&(t["X-Firebase-GMPID"]=e)}function _H(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function EH(t,e,n,r,i,s,o=!0){const a=yL(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return wH(u,e),yH(u,n),vH(u,s),_H(u,r),new gH(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bH(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function SH(...t){const e=bH();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(a_())return new Blob(t);throw new yt(gt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function TH(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xH(t){if(typeof atob>"u")throw lH("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Zg{constructor(e,n){this.data=e,this.contentType=n||null}}function vL(t,e){switch(t){case hr.RAW:return new Zg(wL(e));case hr.BASE64:case hr.BASE64URL:return new Zg(_L(t,e));case hr.DATA_URL:return new Zg(kH(e),CH(e))}throw s_()}function wL(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function RH(t){let e;try{e=decodeURIComponent(t)}catch{throw wu(hr.DATA_URL,"Malformed data URL.")}return wL(e)}function _L(t,e){switch(t){case hr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw wu(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case hr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw wu(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=xH(e)}catch(i){throw i.message.includes("polyfill")?i:wu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class EL{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw wu(hr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=AH(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function kH(t){const e=new EL(t);return e.base64?_L(hr.BASE64,e.rest):RH(e.rest)}function CH(t){return new EL(t).contentType}function AH(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n){let r=0,i="";cT(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(cT(this.data_)){const r=this.data_,i=TH(r,e,n);return i===null?null:new Bi(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Bi(r,!0)}}static getBlob(...e){if(a_()){const n=e.map(r=>r instanceof Bi?r.data_:r);return new Bi(SH.apply(null,n))}else{const n=e.map(o=>o_(o)?vL(hr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Bi(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(t){let e;try{e=JSON.parse(t)}catch{return null}return pH(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IH(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function NH(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function SL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LH(t,e){return e}class hn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||LH}}let qd=null;function PH(t){return!o_(t)||t.length<2?t:SL(t)}function TL(){if(qd)return qd;const t=[];t.push(new hn("bucket")),t.push(new hn("generation")),t.push(new hn("metageneration")),t.push(new hn("name","fullPath",!0));function e(s,o){return PH(o)}const n=new hn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new hn("size");return i.xform=r,t.push(i),t.push(new hn("timeCreated")),t.push(new hn("updated")),t.push(new hn("md5Hash",null,!0)),t.push(new hn("cacheControl",null,!0)),t.push(new hn("contentDisposition",null,!0)),t.push(new hn("contentEncoding",null,!0)),t.push(new hn("contentLanguage",null,!0)),t.push(new hn("contentType",null,!0)),t.push(new hn("metadata","customMetadata",!0)),qd=t,qd}function OH(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Mn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function DH(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return OH(r,t),r}function xL(t,e,n){const r=bL(e);return r===null?null:DH(t,r,n)}function MH(t,e,n,r){const i=bL(e);if(i===null||!o_(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,d=t.fullPath,h="/b/"+o(c)+"/o/"+o(d),f=ym(h,n,r),m=yL({alt:"media",token:u});return f+m})[0]}function $H(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class l_{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(t){if(!t)throw s_()}function UH(t,e){function n(r,i){const s=xL(t,i,e);return RL(s!==null),s}return n}function VH(t,e){function n(r,i){const s=xL(t,i,e);return RL(s!==null),MH(s,i,t.host,t._protocol)}return n}function kL(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Z6():i=J6():n.getStatus()===402?i=X6(t.bucket):n.getStatus()===403?i=eH(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function CL(t){const e=kL(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=Y6(t.path)),s.serverResponse=i.serverResponse,s}return n}function FH(t,e,n){const r=e.fullServerUrl(),i=ym(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new l_(i,s,VH(t,n),o);return a.errorHandler=CL(e),a}function BH(t,e){const n=e.fullServerUrl(),r=ym(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,u){}const a=new l_(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=CL(e),a}function jH(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function zH(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=jH(null,e)),r}function HH(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let y="";for(let _=0;_<2;_++)y=y+Math.random().toString().slice(2);return y}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=zH(e,r,i),c=$H(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",f=Bi.getBlob(d,r,h);if(f===null)throw oH();const m={name:u.fullPath},p=ym(s,t.host,t._protocol),w="POST",v=t.maxUploadRetryTime,g=new l_(p,w,UH(t,n),v);return g.urlParams=m,g.headers=o,g.body=f.uploadData(),g.errorHandler=kL(e),g}class WH{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=no.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=no.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=no.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Dl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Dl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Dl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Dl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Dl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class qH extends WH{initXhr(){this.xhr_.responseType="text"}}function u_(){return new qH}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n){this._service=e,n instanceof Mn?this._location=n:this._location=Mn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new vo(e,n)}get root(){const e=new Mn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return SL(this._location.path)}get storage(){return this._service}get parent(){const e=IH(this._location.path);if(e===null)return null;const n=new Mn(this._location.bucket,e);return new vo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw uH(e)}}function KH(t,e,n){t._throwIfRoot("uploadBytes");const r=HH(t.storage,t._location,TL(),new Bi(e,!0),n);return t.storage.makeRequestWithTokens(r,u_).then(i=>({metadata:i,ref:t}))}function GH(t,e,n=hr.RAW,r){t._throwIfRoot("uploadString");const i=vL(n,e),s=Object.assign({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),KH(t,i.data,s)}function QH(t){t._throwIfRoot("getDownloadURL");const e=FH(t.storage,t._location,TL());return t.storage.makeRequestWithTokens(e,u_).then(n=>{if(n===null)throw aH();return n})}function YH(t){t._throwIfRoot("deleteObject");const e=BH(t.storage,t._location);return t.storage.makeRequestWithTokens(e,u_)}function XH(t,e){const n=NH(t._location.path,e),r=new Mn(t._location.bucket,n);return new vo(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JH(t){return/^[A-Za-z]+:\/\//.test(t)}function ZH(t,e){return new vo(t,e)}function AL(t,e){if(t instanceof c_){const n=t;if(n._bucket==null)throw sH();const r=new vo(n,n._bucket);return e!=null?AL(r,e):r}else return e!==void 0?XH(t,e):t}function e8(t,e){if(e&&JH(e)){if(t instanceof c_)return ZH(t,e);throw l0("To use ref(service, url), the first argument must be a Storage instance.")}else return AL(t,e)}function hT(t,e){const n=e==null?void 0:e[mL];return n==null?null:Mn.makeFromBucketSpec(n,t)}function t8(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:oA(i,t.app.options.projectId))}class c_{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=pL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=G6,this._maxUploadRetryTime=Q6,this._requests=new Set,i!=null?this._bucket=Mn.makeFromBucketSpec(i,this._host):this._bucket=hT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Mn.makeFromBucketSpec(this._url,e):this._bucket=hT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){dT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){dT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new vo(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new cH(gL());{const o=EH(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const fT="@firebase/storage",pT="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL="storage";function n8(t,e,n,r){return t=ot(t),GH(t,e,n,r)}function r8(t){return t=ot(t),QH(t)}function NL(t){return t=ot(t),YH(t)}function d_(t,e){return t=ot(t),e8(t,e)}function i8(t=Qw(),e){t=ot(t);const r=Np(t,IL).getImmediate({identifier:e}),i=iA("storage");return i&&s8(r,...i),r}function s8(t,e,n,r={}){t8(t,e,n,r)}function o8(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new c_(n,r,i,e,al)}function a8(){fo(new ls(IL,o8,"PUBLIC").setMultipleInstances(!0)),Ar(fT,pT,""),Ar(fT,pT,"esm2017")}a8();const l8={apiKey:"AIzaSyA3x6907goDxwLjsVPwjRin7it8qeTdkCE",authDomain:"twitter-3ab6e.firebaseapp.com",projectId:"twitter-3ab6e",storageBucket:"twitter-3ab6e.appspot.com",messagingSenderId:"965249414053",appId:"1:965249414053:web:0784c8b1029d976a086e4c"};uA(l8);const oe=K6(),Kt=x5(),h_=i8();function u8(t){const e=new Error(t);if(e.stack===void 0)try{throw e}catch{}return e}var c8=u8,Le=c8;function d8(t){return!!t&&typeof t.then=="function"}var et=d8;function h8(t,e){if(t!=null)return t;throw Le(e??"Got unexpected null or undefined")}var it=h8;function Ie(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class vm{getValue(){throw Le("BaseLoadable")}toPromise(){throw Le("BaseLoadable")}valueMaybe(){throw Le("BaseLoadable")}valueOrThrow(){throw Le(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw Le("BaseLoadable")}promiseOrThrow(){throw Le(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw Le("BaseLoadable")}errorOrThrow(){throw Le(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw Le("BaseLoadable")}}class f8 extends vm{constructor(e){super(),Ie(this,"state","hasValue"),Ie(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const n=e(this.contents);return et(n)?wo(n):ja(n)?n:rd(n)}catch(n){return et(n)?wo(n.next(()=>this.map(e))):wm(n)}}}class p8 extends vm{constructor(e){super(),Ie(this,"state","hasError"),Ie(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class LL extends vm{constructor(e){super(),Ie(this,"state","loading"),Ie(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return wo(this.contents.then(n=>{const r=e(n);if(ja(r)){const i=r;switch(i.state){case"hasValue":return i.contents;case"hasError":throw i.contents;case"loading":return i.contents}}return r}).catch(n=>{if(et(n))return n.then(()=>this.map(e).contents);throw n}))}}function rd(t){return Object.freeze(new f8(t))}function wm(t){return Object.freeze(new p8(t))}function wo(t){return Object.freeze(new LL(t))}function PL(){return Object.freeze(new LL(new Promise(()=>{})))}function m8(t){return t.every(e=>e.state==="hasValue")?rd(t.map(e=>e.contents)):t.some(e=>e.state==="hasError")?wm(it(t.find(e=>e.state==="hasError"),"Invalid loadable passed to loadableAll").contents):wo(Promise.all(t.map(e=>e.contents)))}function OL(t){const n=(Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(i=>t[i])).map(i=>ja(i)?i:et(i)?wo(i):rd(i)),r=m8(n);return Array.isArray(t)?r:r.map(i=>Object.getOwnPropertyNames(t).reduce((s,o,a)=>({...s,[o]:i[a]}),{}))}function ja(t){return t instanceof vm}const g8={of:t=>et(t)?wo(t):ja(t)?t:rd(t),error:t=>wm(t),loading:()=>PL(),all:OL,isLoadable:ja};var Po={loadableWithValue:rd,loadableWithError:wm,loadableWithPromise:wo,loadableLoading:PL,loadableAll:OL,isLoadable:ja,RecoilLoadable:g8},y8=Po.loadableWithValue,v8=Po.loadableWithError,w8=Po.loadableWithPromise,_8=Po.loadableLoading,E8=Po.loadableAll,b8=Po.isLoadable,S8=Po.RecoilLoadable,id=Object.freeze({__proto__:null,loadableWithValue:y8,loadableWithError:v8,loadableWithPromise:w8,loadableLoading:_8,loadableAll:E8,isLoadable:b8,RecoilLoadable:S8});const u0={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function T8(t,e){var n,r;const i=(n=process.env[t])===null||n===void 0||(r=n.toLowerCase())===null||r===void 0?void 0:r.trim();if(i==null||i==="")return;if(!["true","false"].includes(i))throw Le(`({}).${t} value must be 'true', 'false', or empty: ${i}`);e(i==="true")}function x8(t,e){var n;const r=(n=process.env[t])===null||n===void 0?void 0:n.trim();r==null||r===""||e(r.split(/\s*,\s*|\s+/))}function R8(){var t;typeof process>"u"||((t=process)===null||t===void 0?void 0:t.env)!=null&&(T8("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",e=>{u0.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=e}),x8("RECOIL_GKS_ENABLED",e=>{e.forEach(n=>{u0.RECOIL_GKS_ENABLED.add(n)})}))}R8();var vl=u0;function _m(t){return vl.RECOIL_GKS_ENABLED.has(t)}_m.setPass=t=>{vl.RECOIL_GKS_ENABLED.add(t)};_m.setFail=t=>{vl.RECOIL_GKS_ENABLED.delete(t)};_m.clear=()=>{vl.RECOIL_GKS_ENABLED.clear()};var Qe=_m;function k8(t,e,{error:n}={}){return null}var C8=k8,f_=C8,ey,ty,ny;const A8=(ey=_e.createMutableSource)!==null&&ey!==void 0?ey:_e.unstable_createMutableSource,DL=(ty=_e.useMutableSource)!==null&&ty!==void 0?ty:_e.unstable_useMutableSource,ML=(ny=_e.useSyncExternalStore)!==null&&ny!==void 0?ny:_e.unstable_useSyncExternalStore;function I8(){var t;const{ReactCurrentDispatcher:e,ReactCurrentOwner:n}=_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;return((t=e==null?void 0:e.current)!==null&&t!==void 0?t:n.currentDispatcher).useSyncExternalStore!=null}function N8(){return Qe("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:Qe("recoil_sync_external_store")&&ML!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:Qe("recoil_mutable_source")&&DL!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?Qe("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:Qe("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function L8(){return!1}var sd={createMutableSource:A8,useMutableSource:DL,useSyncExternalStore:ML,currentRendererSupportsUseSyncExternalStore:I8,reactMode:N8,isFastRefreshEnabled:L8};class p_{constructor(e){Ie(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class $L extends p_{}class UL extends p_{}function P8(t){return t instanceof $L||t instanceof UL}var Em={AbstractRecoilValue:p_,RecoilState:$L,RecoilValueReadOnly:UL,isRecoilValue:P8},O8=Em.AbstractRecoilValue,D8=Em.RecoilState,M8=Em.RecoilValueReadOnly,$8=Em.isRecoilValue,za=Object.freeze({__proto__:null,AbstractRecoilValue:O8,RecoilState:D8,RecoilValueReadOnly:M8,isRecoilValue:$8});function U8(t,e){return function*(){let n=0;for(const r of t)yield e(r,n++)}()}var bm=U8;class VL{}const V8=new VL,_o=new Map,m_=new Map;function F8(t){return bm(t,e=>it(m_.get(e)))}function B8(t){if(_o.has(t)){const e=`Duplicate atom key "${t}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(e)}}function j8(t){vl.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&B8(t.key),_o.set(t.key,t);const e=t.set==null?new za.RecoilValueReadOnly(t.key):new za.RecoilState(t.key);return m_.set(t.key,e),e}class FL extends Error{}function z8(t){const e=_o.get(t);if(e==null)throw new FL(`Missing definition for RecoilValue: "${t}""`);return e}function H8(t){return _o.get(t)}const Nf=new Map;function W8(t){var e;if(!Qe("recoil_memory_managament_2020"))return;const n=_o.get(t);if(n!=null&&(e=n.shouldDeleteConfigOnRelease)!==null&&e!==void 0&&e.call(n)){var r;_o.delete(t),(r=BL(t))===null||r===void 0||r(),Nf.delete(t)}}function q8(t,e){Qe("recoil_memory_managament_2020")&&(e===void 0?Nf.delete(t):Nf.set(t,e))}function BL(t){return Nf.get(t)}var Ln={nodes:_o,recoilValues:m_,registerNode:j8,getNode:z8,getNodeMaybe:H8,deleteNodeConfigIfPossible:W8,setConfigDeletionHandler:q8,getConfigDeletionHandler:BL,recoilValuesForKeys:F8,NodeMissingError:FL,DefaultValue:VL,DEFAULT_VALUE:V8};function K8(t,e){e()}var G8={enqueueExecution:K8};function Q8(t,e){return e={exports:{}},t(e,e.exports),e.exports}var Y8=Q8(function(t){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},n={},r=5,i=Math.pow(2,r),s=i-1,o=i/2,a=i/4,l={},u=function(T){return function(){return T}},c=n.hash=function(x){var T=typeof x>"u"?"undefined":e(x);if(T==="number")return x;T!=="string"&&(x+="");for(var U=0,F=0,Q=x.length;F<Q;++F){var Y=x.charCodeAt(F);U=(U<<5)-U+Y|0}return U},d=function(T){return T-=T>>1&1431655765,T=(T&858993459)+(T>>2&858993459),T=T+(T>>4)&252645135,T+=T>>8,T+=T>>16,T&127},h=function(T,U){return U>>>T&s},f=function(T){return 1<<T},m=function(T,U){return d(T&U-1)},p=function(T,U,F,Q){var Y=Q;if(!T){var he=Q.length;Y=new Array(he);for(var le=0;le<he;++le)Y[le]=Q[le]}return Y[U]=F,Y},w=function(T,U,F){var Q=F.length-1,Y=0,he=0,le=F;if(T)Y=he=U;else for(le=new Array(Q);Y<U;)le[he++]=F[Y++];for(++Y;Y<=Q;)le[he++]=F[Y++];return T&&(le.length=Q),le},v=function(T,U,F,Q){var Y=Q.length;if(T){for(var he=Y;he>=U;)Q[he--]=Q[he];return Q[U]=F,Q}for(var le=0,ge=0,Ce=new Array(Y+1);le<U;)Ce[ge++]=Q[le++];for(Ce[U]=F;le<Y;)Ce[++ge]=Q[le++];return Ce},g=1,y=2,_=3,S=4,k={__hamt_isEmpty:!0},R=function(T){return T===k||T&&T.__hamt_isEmpty},I=function(T,U,F,Q){return{type:g,edit:T,hash:U,key:F,value:Q,_modify:N}},K=function(T,U,F){return{type:y,edit:T,hash:U,children:F,_modify:B}},z=function(T,U,F){return{type:_,edit:T,mask:U,children:F,_modify:ee}},de=function(T,U,F){return{type:S,edit:T,size:U,children:F,_modify:te}},ve=function(T){return T===k||T.type===g||T.type===y},J=function(T,U,F,Q,Y){for(var he=[],le=Q,ge=0,Ce=0;le;++Ce)le&1&&(he[Ce]=Y[ge++]),le>>>=1;return he[U]=F,de(T,ge+1,he)},$=function(T,U,F,Q){for(var Y=new Array(U-1),he=0,le=0,ge=0,Ce=Q.length;ge<Ce;++ge)if(ge!==F){var We=Q[ge];We&&!R(We)&&(Y[he++]=We,le|=1<<ge)}return z(T,le,Y)},W=function x(T,U,F,Q,Y,he){if(F===Y)return K(T,F,[he,Q]);var le=h(U,F),ge=h(U,Y);return z(T,f(le)|f(ge),le===ge?[x(T,U+r,F,Q,Y,he)]:le<ge?[Q,he]:[he,Q])},Z=function(T,U,F,Q,Y,he,le,ge){for(var Ce=Y.length,We=0;We<Ce;++We){var _t=Y[We];if(F(le,_t.key)){var ht=_t.value,qe=he(ht);return qe===ht?Y:qe===l?(--ge.value,w(T,We,Y)):p(T,We,I(U,Q,le,qe),Y)}}var ft=he();return ft===l?Y:(++ge.value,p(T,Ce,I(U,Q,le,ft),Y))},A=function(T,U){return T===U.edit},N=function(T,U,F,Q,Y,he,le){if(U(he,this.key)){var ge=Q(this.value);return ge===this.value?this:ge===l?(--le.value,k):A(T,this)?(this.value=ge,this):I(T,Y,he,ge)}var Ce=Q();return Ce===l?this:(++le.value,W(T,F,this.hash,this,Y,I(T,Y,he,Ce)))},B=function(T,U,F,Q,Y,he,le){if(Y===this.hash){var ge=A(T,this),Ce=Z(ge,T,U,this.hash,this.children,Q,he,le);return Ce===this.children?this:Ce.length>1?K(T,this.hash,Ce):Ce[0]}var We=Q();return We===l?this:(++le.value,W(T,F,this.hash,this,Y,I(T,Y,he,We)))},ee=function(T,U,F,Q,Y,he,le){var ge=this.mask,Ce=this.children,We=h(F,Y),_t=f(We),ht=m(ge,_t),qe=ge&_t,ft=qe?Ce[ht]:k,wn=ft._modify(T,U,F+r,Q,Y,he,le);if(ft===wn)return this;var Wr=A(T,this),qr=ge,As=void 0;if(qe&&R(wn)){if(qr&=~_t,!qr)return k;if(Ce.length<=2&&ve(Ce[ht^1]))return Ce[ht^1];As=w(Wr,ht,Ce)}else if(!qe&&!R(wn)){if(Ce.length>=o)return J(T,We,wn,ge,Ce);qr|=_t,As=v(Wr,ht,wn,Ce)}else As=p(Wr,ht,wn,Ce);return Wr?(this.mask=qr,this.children=As,this):z(T,qr,As)},te=function(T,U,F,Q,Y,he,le){var ge=this.size,Ce=this.children,We=h(F,Y),_t=Ce[We],ht=(_t||k)._modify(T,U,F+r,Q,Y,he,le);if(_t===ht)return this;var qe=A(T,this),ft=void 0;if(R(_t)&&!R(ht))++ge,ft=p(qe,We,ht,Ce);else if(!R(_t)&&R(ht)){if(--ge,ge<=a)return $(T,ge,We,Ce);ft=p(qe,We,k,Ce)}else ft=p(qe,We,ht,Ce);return qe?(this.size=ge,this.children=ft,this):de(T,ge,ft)};k._modify=function(x,T,U,F,Q,Y,he){var le=F();return le===l?k:(++he.value,I(x,Q,Y,le))};function C(x,T,U,F,Q){this._editable=x,this._edit=T,this._config=U,this._root=F,this._size=Q}C.prototype.setTree=function(x,T){return this._editable?(this._root=x,this._size=T,this):x===this._root?this:new C(this._editable,this._edit,this._config,x,T)};var P=n.tryGetHash=function(x,T,U,F){for(var Q=F._root,Y=0,he=F._config.keyEq;;)switch(Q.type){case g:return he(U,Q.key)?Q.value:x;case y:{if(T===Q.hash)for(var le=Q.children,ge=0,Ce=le.length;ge<Ce;++ge){var We=le[ge];if(he(U,We.key))return We.value}return x}case _:{var _t=h(Y,T),ht=f(_t);if(Q.mask&ht){Q=Q.children[m(Q.mask,ht)],Y+=r;break}return x}case S:{if(Q=Q.children[h(Y,T)],Q){Y+=r;break}return x}default:return x}};C.prototype.tryGetHash=function(x,T,U){return P(x,T,U,this)};var O=n.tryGet=function(x,T,U){return P(x,U._config.hash(T),T,U)};C.prototype.tryGet=function(x,T){return O(x,T,this)};var ne=n.getHash=function(x,T,U){return P(void 0,x,T,U)};C.prototype.getHash=function(x,T){return ne(x,T,this)},n.get=function(x,T){return P(void 0,T._config.hash(x),x,T)},C.prototype.get=function(x,T){return O(T,x,this)};var X=n.has=function(x,T,U){return P(l,x,T,U)!==l};C.prototype.hasHash=function(x,T){return X(x,T,this)};var pe=n.has=function(x,T){return X(T._config.hash(x),x,T)};C.prototype.has=function(x){return pe(x,this)};var we=function(T,U){return T===U};n.make=function(x){return new C(0,0,{keyEq:x&&x.keyEq||we,hash:x&&x.hash||c},k,0)},n.empty=n.make();var re=n.isEmpty=function(x){return x&&!!R(x._root)};C.prototype.isEmpty=function(){return re(this)};var De=n.modifyHash=function(x,T,U,F){var Q={value:F._size},Y=F._root._modify(F._editable?F._edit:NaN,F._config.keyEq,0,x,T,U,Q);return F.setTree(Y,Q.value)};C.prototype.modifyHash=function(x,T,U){return De(U,x,T,this)};var Ge=n.modify=function(x,T,U){return De(x,U._config.hash(T),T,U)};C.prototype.modify=function(x,T){return Ge(T,x,this)};var Me=n.setHash=function(x,T,U,F){return De(u(U),x,T,F)};C.prototype.setHash=function(x,T,U){return Me(x,T,U,this)};var je=n.set=function(x,T,U){return Me(U._config.hash(x),x,T,U)};C.prototype.set=function(x,T){return je(x,T,this)};var Dt=u(l),Yt=n.removeHash=function(x,T,U){return De(Dt,x,T,U)};C.prototype.removeHash=C.prototype.deleteHash=function(x,T){return Yt(x,T,this)};var vt=n.remove=function(x,T){return Yt(T._config.hash(x),x,T)};C.prototype.remove=C.prototype.delete=function(x){return vt(x,this)};var wt=n.beginMutation=function(x){return new C(x._editable+1,x._edit+1,x._config,x._root,x._size)};C.prototype.beginMutation=function(){return wt(this)};var zr=n.endMutation=function(x){return x._editable=x._editable&&x._editable-1,x};C.prototype.endMutation=function(){return zr(this)};var Sl=n.mutate=function(x,T){var U=wt(T);return x(U),zr(U)};C.prototype.mutate=function(x){return Sl(x,this)};var Bt=function(T){return T&&zn(T[0],T[1],T[2],T[3],T[4])},zn=function(T,U,F,Q,Y){for(;F<T;){var he=U[F++];if(he&&!R(he))return bi(he,Q,[T,U,F,Q,Y])}return Bt(Y)},bi=function(T,U,F){switch(T.type){case g:return{value:U(T),rest:F};case y:case S:case _:var Q=T.children;return zn(Q.length,Q,0,U,F);default:return Bt(F)}},Si={done:!0};function Hr(x){this.v=x}Hr.prototype.next=function(){if(!this.v)return Si;var x=this.v;return this.v=Bt(x.rest),x},Hr.prototype[Symbol.iterator]=function(){return this};var Ti=function(T,U){return new Hr(bi(T._root,U))},Cs=function(T){return[T.key,T.value]},$o=n.entries=function(x){return Ti(x,Cs)};C.prototype.entries=C.prototype[Symbol.iterator]=function(){return $o(this)};var L=function(T){return T.key},D=n.keys=function(x){return Ti(x,L)};C.prototype.keys=function(){return D(this)};var j=function(T){return T.value},ae=n.values=C.prototype.values=function(x){return Ti(x,j)};C.prototype.values=function(){return ae(this)};var ce=n.fold=function(x,T,U){var F=U._root;if(F.type===g)return x(T,F.value,F.key);for(var Q=[F.children],Y=void 0;Y=Q.pop();)for(var he=0,le=Y.length;he<le;){var ge=Y[he++];ge&&ge.type&&(ge.type===g?T=x(T,ge.value,ge.key):Q.push(ge.children))}return T};C.prototype.fold=function(x,T){return ce(x,T,this)};var Ee=n.forEach=function(x,T){return ce(function(U,F,Q){return x(F,Q,T)},null,T)};C.prototype.forEach=function(x){return Ee(x,this)};var me=n.count=function(x){return x._size};C.prototype.count=function(){return me(this)},Object.defineProperty(C.prototype,"size",{get:C.prototype.count}),t.exports?t.exports=n:(void 0).hamt=n});class X8{constructor(e){Ie(this,"_map",void 0),this._map=new Map(e==null?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,n){return this._map.set(e,n),this}delete(e){return this._map.delete(e),this}clone(){return y_(this)}toMap(){return new Map(this._map)}}class g_{constructor(e){if(Ie(this,"_hamt",Y8.empty.beginMutation()),e instanceof g_){const n=e._hamt.endMutation();e._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(e)for(const[n,r]of e.entries())this._hamt.set(n,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,n){return this._hamt.set(e,n),this}delete(e){return this._hamt.delete(e),this}clone(){return y_(this)}toMap(){return new Map(this._hamt)}}function y_(t){return Qe("recoil_hamt_2020")?new g_(t):new X8(t)}var J8={persistentMap:y_},Z8=J8.persistentMap,eW=Object.freeze({__proto__:null,persistentMap:Z8});function tW(t,...e){const n=new Set;e:for(const r of t){for(const i of e)if(i.has(r))continue e;n.add(r)}return n}var _u=tW;function nW(t,e){const n=new Map;return t.forEach((r,i)=>{n.set(i,e(r,i))}),n}var Lf=nW;function rW(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function iW(t){return{nodeDeps:Lf(t.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:Lf(t.nodeToNodeSubscriptions,e=>new Set(e))}}function ry(t,e,n,r){const{nodeDeps:i,nodeToNodeSubscriptions:s}=n,o=i.get(t);if(o&&r&&o!==r.nodeDeps.get(t))return;i.set(t,e);const a=o==null?e:_u(e,o);for(const l of a)s.has(l)||s.set(l,new Set),it(s.get(l)).add(t);if(o){const l=_u(o,e);for(const u of l){if(!s.has(u))return;const c=it(s.get(u));c.delete(t),c.size===0&&s.delete(u)}}}function sW(t,e,n,r){var i,s,o,a;const l=n.getState();r===l.currentTree.version||r===((i=l.nextTree)===null||i===void 0?void 0:i.version)||((s=l.previousTree)===null||s===void 0||s.version);const u=n.getGraph(r);if(ry(t,e,u),r===((o=l.previousTree)===null||o===void 0?void 0:o.version)){const d=n.getGraph(l.currentTree.version);ry(t,e,d,u)}if(r===((a=l.previousTree)===null||a===void 0?void 0:a.version)||r===l.currentTree.version){var c;const d=(c=l.nextTree)===null||c===void 0?void 0:c.version;if(d!==void 0){const h=n.getGraph(d);ry(t,e,h,u)}}}var od={cloneGraph:iW,graph:rW,saveDepsToStore:sW};let oW=0;const aW=()=>oW++;let lW=0;const uW=()=>lW++;let cW=0;const dW=()=>cW++;var Sm={getNextTreeStateVersion:aW,getNextStoreID:uW,getNextComponentID:dW};const{persistentMap:mT}=eW,{graph:hW}=od,{getNextTreeStateVersion:jL}=Sm;function zL(){const t=jL();return{version:t,stateID:t,transactionMetadata:{},dirtyAtoms:new Set,atomValues:mT(),nonvalidatedAtoms:mT()}}function fW(){const t=zL();return{currentTree:t,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(t.version,hW()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var HL={makeEmptyTreeState:zL,makeEmptyStoreState:fW,getNextTreeStateVersion:jL};class WL{}function pW(){return new WL}var Tm={RetentionZone:WL,retentionZone:pW};function mW(t,e){const n=new Set(t);return n.add(e),n}function gW(t,e){const n=new Set(t);return n.delete(e),n}function yW(t,e,n){const r=new Map(t);return r.set(e,n),r}function vW(t,e,n){const r=new Map(t);return r.set(e,n(r.get(e))),r}function wW(t,e){const n=new Map(t);return n.delete(e),n}function _W(t,e){const n=new Map(t);return e.forEach(r=>n.delete(r)),n}var qL={setByAddingToSet:mW,setByDeletingFromSet:gW,mapBySettingInMap:yW,mapByUpdatingInMap:vW,mapByDeletingFromMap:wW,mapByDeletingMultipleFromMap:_W};function*EW(t,e){let n=0;for(const r of t)e(r,n++)&&(yield r)}var v_=EW;function bW(t,e){return new Proxy(t,{get:(r,i)=>(!(i in r)&&i in e&&(r[i]=e[i]()),r[i]),ownKeys:r=>Object.keys(r)})}var KL=bW;const{getNode:ad,getNodeMaybe:SW,recoilValuesForKeys:gT}=Ln,{RetentionZone:yT}=Tm,{setByAddingToSet:TW}=qL,xW=Object.freeze(new Set);class RW extends Error{}function kW(t,e,n){if(!Qe("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=t.getState().retention;function i(s){let o=r.get(s);o||r.set(s,o=new Set),o.add(e)}if(n instanceof yT)i(n);else if(Array.isArray(n))for(const s of n)i(s);return()=>{if(!Qe("recoil_memory_managament_2020"))return;const{retention:s}=t.getState();function o(a){const l=s.nodesRetainedByZone.get(a);l==null||l.delete(e),l&&l.size===0&&s.nodesRetainedByZone.delete(a)}if(n instanceof yT)o(n);else if(Array.isArray(n))for(const a of n)o(a)}}function w_(t,e,n,r){const i=t.getState();if(i.nodeCleanupFunctions.has(n))return;const s=ad(n),o=kW(t,n,s.retainedBy),a=s.init(t,e,r);i.nodeCleanupFunctions.set(n,()=>{a(),o()})}function CW(t,e,n){w_(t,t.getState().currentTree,e,n)}function AW(t,e){var n;const r=t.getState();(n=r.nodeCleanupFunctions.get(e))===null||n===void 0||n(),r.nodeCleanupFunctions.delete(e)}function IW(t,e,n){return w_(t,e,n,"get"),ad(n).get(t,e)}function GL(t,e,n){return ad(n).peek(t,e)}function NW(t,e,n){var r;const i=SW(e);return i==null||(r=i.invalidate)===null||r===void 0||r.call(i,t),{...t,atomValues:t.atomValues.clone().delete(e),nonvalidatedAtoms:t.nonvalidatedAtoms.clone().set(e,n),dirtyAtoms:TW(t.dirtyAtoms,e)}}function LW(t,e,n,r){const i=ad(n);if(i.set==null)throw new RW(`Attempt to set read-only RecoilValue: ${n}`);const s=i.set;return w_(t,e,n,"set"),s(t,e,r)}function PW(t,e,n){const r=t.getState(),i=t.getGraph(e.version),s=ad(n).nodeType;return KL({type:s},{loadable:()=>GL(t,e,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>s==="selector"?!1:e.atomValues.has(n),isModified:()=>e.dirtyAtoms.has(n),deps:()=>{var o;return gT((o=i.nodeDeps.get(n))!==null&&o!==void 0?o:[])},subscribers:()=>{var o,a;return{nodes:gT(v_(QL(t,e,new Set([n])),l=>l!==n)),components:bm((o=(a=r.nodeToComponentSubscriptions.get(n))===null||a===void 0?void 0:a.values())!==null&&o!==void 0?o:[],([l])=>({name:l}))}}})}function QL(t,e,n){const r=new Set,i=Array.from(n),s=t.getGraph(e.version);for(let a=i.pop();a;a=i.pop()){var o;r.add(a);const l=(o=s.nodeToNodeSubscriptions.get(a))!==null&&o!==void 0?o:xW;for(const u of l)r.has(u)||i.push(u)}return r}var Ts={getNodeLoadable:IW,peekNodeLoadable:GL,setNodeValue:LW,initializeNode:CW,cleanUpNode:AW,setUnvalidatedAtomValue_DEPRECATED:NW,peekNodeInfo:PW,getDownstreamNodes:QL};let YL=null;function OW(t){YL=t}function DW(){var t;(t=YL)===null||t===void 0||t()}var XL={setInvalidateMemoizedSnapshot:OW,invalidateMemoizedSnapshot:DW};const{getDownstreamNodes:MW,getNodeLoadable:JL,setNodeValue:$W}=Ts,{getNextComponentID:UW}=Sm,{getNode:VW,getNodeMaybe:ZL}=Ln,{DefaultValue:__}=Ln,{reactMode:FW}=sd,{AbstractRecoilValue:BW,RecoilState:jW,RecoilValueReadOnly:zW,isRecoilValue:HW}=za,{invalidateMemoizedSnapshot:WW}=XL;function qW(t,{key:e},n=t.getState().currentTree){var r,i;const s=t.getState();n.version===s.currentTree.version||n.version===((r=s.nextTree)===null||r===void 0?void 0:r.version)||(n.version,(i=s.previousTree)===null||i===void 0||i.version);const o=JL(t,n,e);return o.state==="loading"&&o.contents.catch(()=>{}),o}function KW(t,e){const n=t.clone();return e.forEach((r,i)=>{r.state==="hasValue"&&r.contents instanceof __?n.delete(i):n.set(i,r)}),n}function GW(t,e,{key:n},r){if(typeof r=="function"){const i=JL(t,e,n);if(i.state==="loading"){const s=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw Le(s)}else if(i.state==="hasError")throw i.contents;return r(i.contents)}else return r}function QW(t,e,n){if(n.type==="set"){const{recoilValue:i,valueOrUpdater:s}=n,o=GW(t,e,i,s),a=$W(t,e,i.key,o);for(const[l,u]of a.entries())c0(e,l,u)}else if(n.type==="setLoadable"){const{recoilValue:{key:i},loadable:s}=n;c0(e,i,s)}else if(n.type==="markModified"){const{recoilValue:{key:i}}=n;e.dirtyAtoms.add(i)}else if(n.type==="setUnvalidated"){var r;const{recoilValue:{key:i},unvalidatedValue:s}=n,o=ZL(i);o==null||(r=o.invalidate)===null||r===void 0||r.call(o,e),e.atomValues.delete(i),e.nonvalidatedAtoms.set(i,s),e.dirtyAtoms.add(i)}else f_(`Unknown action ${n.type}`)}function c0(t,e,n){n.state==="hasValue"&&n.contents instanceof __?t.atomValues.delete(e):t.atomValues.set(e,n),t.dirtyAtoms.add(e),t.nonvalidatedAtoms.delete(e)}function eP(t,e){t.replaceState(n=>{const r=tP(n);for(const i of e)QW(t,r,i);return nP(t,r),WW(),r})}function xm(t,e){if(Eu.length){const n=Eu[Eu.length-1];let r=n.get(t);r||n.set(t,r=[]),r.push(e)}else eP(t,[e])}const Eu=[];function YW(){const t=new Map;return Eu.push(t),()=>{for(const[e,n]of t)eP(e,n);Eu.pop()}}function tP(t){return{...t,atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(t.dirtyAtoms)}}function nP(t,e){const n=MW(t,e,e.dirtyAtoms);for(const s of n){var r,i;(r=ZL(s))===null||r===void 0||(i=r.invalidate)===null||i===void 0||i.call(r,e)}}function rP(t,e,n){xm(t,{type:"set",recoilValue:e,valueOrUpdater:n})}function XW(t,e,n){if(n instanceof __)return rP(t,e,n);xm(t,{type:"setLoadable",recoilValue:e,loadable:n})}function JW(t,e){xm(t,{type:"markModified",recoilValue:e})}function ZW(t,e,n){xm(t,{type:"setUnvalidated",recoilValue:e,unvalidatedValue:n})}function e9(t,{key:e},n,r=null){const i=UW(),s=t.getState();s.nodeToComponentSubscriptions.has(e)||s.nodeToComponentSubscriptions.set(e,new Map),it(s.nodeToComponentSubscriptions.get(e)).set(i,[r??"<not captured>",n]);const o=FW();if(o.early&&(o.mode==="LEGACY"||o.mode==="MUTABLE_SOURCE")){const a=t.getState().nextTree;a&&a.dirtyAtoms.has(e)&&n(a)}return{release:()=>{const a=t.getState(),l=a.nodeToComponentSubscriptions.get(e);l===void 0||!l.has(i)||(l.delete(i),l.size===0&&a.nodeToComponentSubscriptions.delete(e))}}}function t9(t,e){var n;const{currentTree:r}=t.getState(),i=VW(e.key);(n=i.clearCache)===null||n===void 0||n.call(i,t,r)}var Br={RecoilValueReadOnly:zW,AbstractRecoilValue:BW,RecoilState:jW,getRecoilValueAsLoadable:qW,setRecoilValue:rP,setRecoilValueLoadable:XW,markRecoilValueModified:JW,setUnvalidatedRecoilValue:ZW,subscribeToRecoilValue:e9,isRecoilValue:HW,applyAtomValueWrites:KW,batchStart:YW,writeLoadableToTreeState:c0,invalidateDownstreams:nP,copyTreeState:tP,refreshRecoilValue:t9};function n9(t,e,n){const r=t.entries();let i=r.next();for(;!i.done;){const s=i.value;if(e.call(n,s[1],s[0],t))return!0;i=r.next()}return!1}var r9=n9;const{cleanUpNode:i9}=Ts,{deleteNodeConfigIfPossible:s9,getNode:iP}=Ln,{RetentionZone:sP}=Tm,o9=12e4,oP=new Set;function aP(t,e){const n=t.getState(),r=n.currentTree;if(n.nextTree)return;const i=new Set;for(const o of e)if(o instanceof sP)for(const a of c9(n,o))i.add(a);else i.add(o);const s=a9(t,i);for(const o of s)u9(t,r,o)}function a9(t,e){const n=t.getState(),r=n.currentTree,i=t.getGraph(r.version),s=new Set,o=new Set;return a(e),s;function a(l){const u=new Set,c=l9(t,r,l,s,o);for(const m of c){var d;if(iP(m).retainedBy==="recoilRoot"){o.add(m);continue}if(((d=n.retention.referenceCounts.get(m))!==null&&d!==void 0?d:0)>0){o.add(m);continue}if(lP(m).some(w=>n.retention.referenceCounts.get(w))){o.add(m);continue}const p=i.nodeToNodeSubscriptions.get(m);if(p&&r9(p,w=>o.has(w))){o.add(m);continue}s.add(m),u.add(m)}const h=new Set;for(const m of u)for(const p of(f=i.nodeDeps.get(m))!==null&&f!==void 0?f:oP){var f;s.has(p)||h.add(p)}h.size&&a(h)}}function l9(t,e,n,r,i){const s=t.getGraph(e.version),o=[],a=new Set;for(;n.size>0;)l(it(n.values().next().value));return o;function l(u){if(r.has(u)||i.has(u)){n.delete(u);return}if(a.has(u))return;const c=s.nodeToNodeSubscriptions.get(u);if(c)for(const d of c)l(d);a.add(u),n.delete(u),o.push(u)}}function u9(t,e,n){if(!Qe("recoil_memory_managament_2020"))return;i9(t,n);const r=t.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const i=lP(n);for(const l of i){var s;(s=r.retention.nodesRetainedByZone.get(l))===null||s===void 0||s.delete(n)}e.atomValues.delete(n),e.dirtyAtoms.delete(n),e.nonvalidatedAtoms.delete(n);const o=r.graphsByVersion.get(e.version);if(o){const l=o.nodeDeps.get(n);if(l!==void 0){o.nodeDeps.delete(n);for(const u of l){var a;(a=o.nodeToNodeSubscriptions.get(u))===null||a===void 0||a.delete(n)}}o.nodeToNodeSubscriptions.delete(n)}s9(n)}function c9(t,e){var n;return(n=t.retention.nodesRetainedByZone.get(e))!==null&&n!==void 0?n:oP}function lP(t){const e=iP(t).retainedBy;return e===void 0||e==="components"||e==="recoilRoot"?[]:e instanceof sP?[e]:e}function d9(t,e){const n=t.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(e):aP(t,new Set([e]))}function h9(t,e,n){var r;if(!Qe("recoil_memory_managament_2020"))return;const i=t.getState().retention.referenceCounts,s=((r=i.get(e))!==null&&r!==void 0?r:0)+n;s===0?uP(t,e):i.set(e,s)}function uP(t,e){if(!Qe("recoil_memory_managament_2020"))return;t.getState().retention.referenceCounts.delete(e),d9(t,e)}function f9(t){if(!Qe("recoil_memory_managament_2020"))return;const e=t.getState();aP(t,e.retention.retainablesToCheckForRelease),e.retention.retainablesToCheckForRelease.clear()}function p9(t){return t===void 0?"recoilRoot":t}var Oo={SUSPENSE_TIMEOUT_MS:o9,updateRetainCount:h9,updateRetainCountToZero:uP,releaseScheduledRetainablesNow:f9,retainedByOptionWithDefault:p9};const{unstable_batchedUpdates:m9}=V$;var g9={unstable_batchedUpdates:m9};const{unstable_batchedUpdates:y9}=g9;var v9={unstable_batchedUpdates:y9};const{batchStart:w9}=Br,{unstable_batchedUpdates:_9}=v9;let E_=_9||(t=>t());const E9=t=>{E_=t},b9=()=>E_,S9=t=>{E_(()=>{let e=()=>{};try{e=w9(),t()}finally{e()}})};var Rm={getBatcher:b9,setBatcher:E9,batchUpdates:S9};function*T9(t){for(const e of t)for(const n of e)yield n}var cP=T9;const dP=typeof Window>"u"||typeof window>"u",x9=t=>!dP&&(t===window||t instanceof Window),R9=typeof navigator<"u"&&navigator.product==="ReactNative";var km={isSSR:dP,isReactNative:R9,isWindow:x9};function k9(t,e){let n;return(...r)=>{n||(n={});const i=e(...r);return Object.hasOwnProperty.call(n,i)||(n[i]=t(...r)),n[i]}}function C9(t,e){let n,r;return(...i)=>{const s=e(...i);return n===s||(n=s,r=t(...i)),r}}function A9(t,e){let n,r;return[(...o)=>{const a=e(...o);return n===a||(n=a,r=t(...o)),r},()=>{n=null}]}var I9={memoizeWithArgsHash:k9,memoizeOneWithArgsHash:C9,memoizeOneWithArgsHashAndInvalidation:A9};const{batchUpdates:d0}=Rm,{initializeNode:N9,peekNodeInfo:L9}=Ts,{graph:P9}=od,{getNextStoreID:O9}=Sm,{DEFAULT_VALUE:D9,recoilValues:vT,recoilValuesForKeys:wT}=Ln,{AbstractRecoilValue:M9,getRecoilValueAsLoadable:$9,setRecoilValue:_T,setUnvalidatedRecoilValue:U9}=Br,{updateRetainCount:Ih}=Oo,{setInvalidateMemoizedSnapshot:V9}=XL,{getNextTreeStateVersion:F9,makeEmptyStoreState:B9}=HL,{isSSR:j9}=km,{memoizeOneWithArgsHashAndInvalidation:z9}=I9;class Cm{constructor(e,n){Ie(this,"_store",void 0),Ie(this,"_refCount",1),Ie(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),$9(this._store,r))),Ie(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),Ie(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];const o=this._store.getState().currentTree;return wT(o.dirtyAtoms)}const i=this._store.getState().knownAtoms,s=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?vT.values():r.isInitialized===!0?wT(cP([i,s])):v_(vT.values(),({key:o})=>!i.has(o)&&!s.has(o))}),Ie(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),L9(this._store,this._store.getState().currentTree,r))),Ie(this,"map",r=>{this.checkRefCount_INTERNAL();const i=new h0(this,d0);return r(i),i}),Ie(this,"asyncMap",async r=>{this.checkRefCount_INTERNAL();const i=new h0(this,d0);return i.retain(),await r(i),i.autoRelease_INTERNAL(),i}),this._store={storeID:O9(),parentStoreID:n,getState:()=>e,replaceState:r=>{e.currentTree=r(e.currentTree)},getGraph:r=>{const i=e.graphsByVersion;if(i.has(r))return it(i.get(r));const s=P9();return i.set(r,s),s},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw Le("Cannot subscribe to Snapshots")}};for(const r of this._store.getState().knownAtoms)N9(this._store,r,"get"),Ih(this._store,r,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0,this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){j9||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!Qe("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){Qe("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function hP(t,e,n=!1){const r=t.getState(),i=n?F9():e.version;return{currentTree:{version:n?i:e.version,stateID:n?i:e.stateID,transactionMetadata:{...e.transactionMetadata},dirtyAtoms:new Set(e.dirtyAtoms),atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,t.getGraph(e.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(bm(r.nodeCleanupFunctions.entries(),([s])=>[s,()=>{}]))}}function H9(t){const e=new Cm(B9());return t!=null?e.map(t):e}const[ET,fP]=z9((t,e)=>{var n;const r=t.getState(),i=e==="latest"?(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree:it(r.previousTree);return new Cm(hP(t,i),t.storeID)},(t,e)=>{var n,r;return String(e)+String(t.storeID)+String((n=t.getState().nextTree)===null||n===void 0?void 0:n.version)+String(t.getState().currentTree.version)+String((r=t.getState().previousTree)===null||r===void 0?void 0:r.version)});V9(fP);function W9(t,e="latest"){const n=ET(t,e);return n.isRetained()?n:(fP(),ET(t,e))}class h0 extends Cm{constructor(e,n){super(hP(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),Ie(this,"_batch",void 0),Ie(this,"set",(r,i)=>{this.checkRefCount_INTERNAL();const s=this.getStore_INTERNAL();this._batch(()=>{Ih(s,r.key,1),_T(this.getStore_INTERNAL(),r,i)})}),Ie(this,"reset",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch(()=>{Ih(i,r.key,1),_T(this.getStore_INTERNAL(),r,D9)})}),Ie(this,"setUnvalidatedAtomValues_DEPRECATED",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();d0(()=>{for(const[s,o]of r.entries())Ih(i,s,1),U9(i,new M9(s),o)})}),this._batch=n}}var Am={Snapshot:Cm,MutableSnapshot:h0,freshSnapshot:H9,cloneSnapshot:W9},q9=Am.Snapshot,K9=Am.MutableSnapshot,G9=Am.freshSnapshot,Q9=Am.cloneSnapshot,Im=Object.freeze({__proto__:null,Snapshot:q9,MutableSnapshot:K9,freshSnapshot:G9,cloneSnapshot:Q9});function Y9(...t){const e=new Set;for(const n of t)for(const r of n)e.add(r);return e}var X9=Y9;const{useRef:J9}=_e;function Z9(t){const e=J9(t);return e.current===t&&typeof t=="function"&&(e.current=t()),e}var bT=Z9;const{getNextTreeStateVersion:eq,makeEmptyStoreState:pP}=HL,{cleanUpNode:tq,getDownstreamNodes:nq,initializeNode:rq,setNodeValue:iq,setUnvalidatedAtomValue_DEPRECATED:sq}=Ts,{graph:oq}=od,{cloneGraph:aq}=od,{getNextStoreID:mP}=Sm,{createMutableSource:iy,reactMode:gP}=sd,{applyAtomValueWrites:lq}=Br,{releaseScheduledRetainablesNow:yP}=Oo,{freshSnapshot:uq}=Im,{useCallback:cq,useContext:vP,useEffect:f0,useMemo:dq,useRef:hq,useState:fq}=_e;function Ml(){throw Le("This component must be used inside a <RecoilRoot> component.")}const wP=Object.freeze({storeID:mP(),getState:Ml,replaceState:Ml,getGraph:Ml,subscribeToTransactions:Ml,addTransactionMetadata:Ml});let p0=!1;function ST(t){if(p0)throw Le("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const e=t.getState();if(e.nextTree===null){Qe("recoil_memory_managament_2020")&&Qe("recoil_release_on_cascading_update_killswitch_2021")&&e.commitDepth>0&&yP(t);const n=e.currentTree.version,r=eq();e.nextTree={...e.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},e.graphsByVersion.set(r,aq(it(e.graphsByVersion.get(n))))}}const _P=_e.createContext({current:wP}),Nm=()=>vP(_P),EP=_e.createContext(null);function pq(){return vP(EP)}function b_(t,e,n){const r=nq(t,n,n.dirtyAtoms);for(const i of r){const s=e.nodeToComponentSubscriptions.get(i);if(s)for(const[o,[a,l]]of s)l(n)}}function bP(t){const e=t.getState(),n=e.currentTree,r=n.dirtyAtoms;if(r.size){for(const[i,s]of e.nodeTransactionSubscriptions)if(r.has(i))for(const[o,a]of s)a(t);for(const[i,s]of e.transactionSubscriptions)s(t);(!gP().early||e.suspendedComponentResolvers.size>0)&&(b_(t,e,n),e.suspendedComponentResolvers.forEach(i=>i()),e.suspendedComponentResolvers.clear())}e.queuedComponentCallbacks_DEPRECATED.forEach(i=>i(n)),e.queuedComponentCallbacks_DEPRECATED.splice(0,e.queuedComponentCallbacks_DEPRECATED.length)}function mq(t){const e=t.getState();e.commitDepth++;try{const{nextTree:n}=e;if(n==null)return;e.previousTree=e.currentTree,e.currentTree=n,e.nextTree=null,bP(t),e.previousTree!=null?e.graphsByVersion.delete(e.previousTree.version):f_("Ended batch with no previous state, which is unexpected","recoil"),e.previousTree=null,Qe("recoil_memory_managament_2020")&&n==null&&yP(t)}finally{e.commitDepth--}}function gq({setNotifyBatcherOfChange:t}){const e=Nm(),[,n]=fq([]);return t(()=>n({})),f0(()=>(t(()=>n({})),()=>{t(()=>{})}),[t]),f0(()=>{G8.enqueueExecution("Batcher",()=>{mq(e.current)})}),null}function yq(t,e){const n=pP();return e({set:(r,i)=>{const s=n.currentTree,o=iq(t,s,r.key,i),a=new Set(o.keys()),l=s.nonvalidatedAtoms.clone();for(const u of a)l.delete(u);n.currentTree={...s,dirtyAtoms:X9(s.dirtyAtoms,a),atomValues:lq(s.atomValues,o),nonvalidatedAtoms:l}},setUnvalidatedAtomValues:r=>{r.forEach((i,s)=>{n.currentTree=sq(n.currentTree,s,i)})}}),n}function vq(t){const e=uq(t),n=e.getStore_INTERNAL().getState();return e.retain(),n.nodeCleanupFunctions.forEach(r=>r()),n.nodeCleanupFunctions.clear(),n}let TT=0;function wq({initializeState_DEPRECATED:t,initializeState:e,store_INTERNAL:n,children:r}){let i;const s=f=>{const m=i.current.graphsByVersion;if(m.has(f))return it(m.get(f));const p=oq();return m.set(f,p),p},o=(f,m)=>{if(m==null){const{transactionSubscriptions:p}=d.current.getState(),w=TT++;return p.set(w,f),{release:()=>{p.delete(w)}}}else{const{nodeTransactionSubscriptions:p}=d.current.getState();p.has(m)||p.set(m,new Map);const w=TT++;return it(p.get(m)).set(w,f),{release:()=>{const v=p.get(m);v&&(v.delete(w),v.size===0&&p.delete(m))}}}},a=f=>{ST(d.current);for(const m of Object.keys(f))it(d.current.getState().nextTree).transactionMetadata[m]=f[m]},l=f=>{ST(d.current);const m=it(i.current.nextTree);let p;try{p0=!0,p=f(m)}finally{p0=!1}p!==m&&(i.current.nextTree=p,gP().early&&b_(d.current,i.current,p),it(u.current)())},u=hq(null),c=cq(f=>{u.current=f},[u]),d=bT(()=>n??{storeID:mP(),getState:()=>i.current,replaceState:l,getGraph:s,subscribeToTransactions:o,addTransactionMetadata:a});n!=null&&(d.current=n),i=bT(()=>t!=null?yq(d.current,t):e!=null?vq(e):pP());const h=dq(()=>iy==null?void 0:iy(i,()=>i.current.currentTree.version),[i]);return f0(()=>{const f=d.current;for(const m of new Set(f.getState().knownAtoms))rq(f,m,"get");return()=>{for(const m of f.getState().knownAtoms)tq(f,m)}},[d]),_e.createElement(_P.Provider,{value:d},_e.createElement(EP.Provider,{value:h},_e.createElement(gq,{setNotifyBatcherOfChange:c}),r))}function _q(t){const{override:e,...n}=t,r=Nm();return e===!1&&r.current!==wP?t.children:_e.createElement(wq,n)}function Eq(){return Nm().current.storeID}var _i={RecoilRoot:_q,useStoreRef:Nm,useRecoilMutableSource:pq,useRecoilStoreID:Eq,notifyComponents_FOR_TESTING:b_,sendEndOfBatchNotifications_FOR_TESTING:bP};function bq(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}var Sq=bq;const{useEffect:Tq,useRef:xq}=_e;function Rq(t){const e=xq();return Tq(()=>{e.current=t}),e.current}var SP=Rq;const{useStoreRef:kq}=_i,{SUSPENSE_TIMEOUT_MS:Cq}=Oo,{updateRetainCount:$l}=Oo,{RetentionZone:Aq}=Tm,{useEffect:Iq,useRef:Nq}=_e,{isSSR:xT}=km;function Lq(t){if(Qe("recoil_memory_managament_2020"))return Pq(t)}function Pq(t){const n=(Array.isArray(t)?t:[t]).map(o=>o instanceof Aq?o:o.key),r=kq();Iq(()=>{if(!Qe("recoil_memory_managament_2020"))return;const o=r.current;if(i.current&&!xT)window.clearTimeout(i.current),i.current=null;else for(const a of n)$l(o,a,1);return()=>{for(const a of n)$l(o,a,-1)}},[r,...n]);const i=Nq(),s=SP(n);if(!xT&&(s===void 0||!Sq(s,n))){const o=r.current;for(const a of n)$l(o,a,1);if(s)for(const a of s)$l(o,a,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{i.current=null;for(const a of n)$l(o,a,-1)},Cq)}}var S_=Lq;function Oq(){return"<component name not available>"}var ld=Oq;const{batchUpdates:Dq}=Rm,{DEFAULT_VALUE:TP}=Ln,{currentRendererSupportsUseSyncExternalStore:Mq,reactMode:wl,useMutableSource:$q,useSyncExternalStore:Uq}=sd,{useRecoilMutableSource:Vq,useStoreRef:jr}=_i,{AbstractRecoilValue:m0,getRecoilValueAsLoadable:ud,setRecoilValue:Pf,setUnvalidatedRecoilValue:Fq,subscribeToRecoilValue:Ha}=Br,{useCallback:Cn,useEffect:Wa,useMemo:xP,useRef:bu,useState:T_}=_e,{setByAddingToSet:Bq}=qL,{isSSR:jq}=km;function x_(t,e,n){if(t.state==="hasValue")return t.contents;throw t.state==="loading"?new Promise(i=>{const s=n.current.getState().suspendedComponentResolvers;s.add(i),jq&&et(t.contents)&&t.contents.finally(()=>{s.delete(i)})}):t.state==="hasError"?t.contents:Le(`Invalid value of loadable atom "${e.key}"`)}function zq(){const t=ld(),e=jr(),[,n]=T_([]),r=bu(new Set);r.current=new Set;const i=bu(new Set),s=bu(new Map),o=Cn(l=>{const u=s.current.get(l);u&&(u.release(),s.current.delete(l))},[s]),a=Cn((l,u)=>{s.current.has(u)&&n([])},[]);return Wa(()=>{const l=e.current;_u(r.current,i.current).forEach(u=>{if(s.current.has(u))return;const c=Ha(l,new m0(u),h=>a(h,u),t);s.current.set(u,c),l.getState().nextTree?l.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{a(l.getState(),u)}):a(l.getState(),u)}),_u(i.current,r.current).forEach(u=>{o(u)}),i.current=r.current}),Wa(()=>{const l=s.current;return _u(r.current,new Set(l.keys())).forEach(u=>{const c=Ha(e.current,new m0(u),d=>a(d,u),t);l.set(u,c)}),()=>l.forEach((u,c)=>o(c))},[t,e,o,a]),xP(()=>{function l(m){return p=>{Pf(e.current,m,p)}}function u(m){return()=>Pf(e.current,m,TP)}function c(m){var p;r.current.has(m.key)||(r.current=Bq(r.current,m.key));const w=e.current.getState();return ud(e.current,m,wl().early&&(p=w.nextTree)!==null&&p!==void 0?p:w.currentTree)}function d(m){const p=c(m);return x_(p,m,e)}function h(m){return[d(m),l(m)]}function f(m){return[c(m),l(m)]}return{getRecoilValue:d,getRecoilValueLoadable:c,getRecoilState:h,getRecoilStateLoadable:f,getSetRecoilState:l,getResetRecoilState:u}},[r,e])}const Hq={current:0};function Wq(t){const e=jr(),n=ld(),r=Cn(()=>{var a;const l=e.current,u=l.getState(),c=wl().early&&(a=u.nextTree)!==null&&a!==void 0?a:u.currentTree;return{loadable:ud(l,t,c),key:t.key}},[e,t]),i=Cn(a=>{let l;return()=>{var u,c;const d=a();return(u=l)!==null&&u!==void 0&&u.loadable.is(d.loadable)&&((c=l)===null||c===void 0?void 0:c.key)===d.key?l:(l=d,d)}},[]),s=xP(()=>i(r),[r,i]),o=Cn(a=>{const l=e.current;return Ha(l,t,a,n).release},[e,t,n]);return Uq(o,s,s).loadable}function qq(t){const e=jr(),n=Cn(()=>{var u;const c=e.current,d=c.getState(),h=wl().early&&(u=d.nextTree)!==null&&u!==void 0?u:d.currentTree;return ud(c,t,h)},[e,t]),r=Cn(()=>n(),[n]),i=ld(),s=Cn((u,c)=>{const d=e.current;return Ha(d,t,()=>{if(!Qe("recoil_suppress_rerender_in_callback"))return c();const f=n();l.current.is(f)||c(),l.current=f},i).release},[e,t,i,n]),o=Vq();if(o==null)throw Le("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const a=$q(o,r,s),l=bu(a);return Wa(()=>{l.current=a}),a}function g0(t){const e=jr(),n=ld(),r=Cn(()=>{var l;const u=e.current,c=u.getState(),d=wl().early&&(l=c.nextTree)!==null&&l!==void 0?l:c.currentTree;return ud(u,t,d)},[e,t]),i=Cn(()=>({loadable:r(),key:t.key}),[r,t.key]),s=Cn(l=>{const u=i();return l.loadable.is(u.loadable)&&l.key===u.key?l:u},[i]);Wa(()=>{const l=Ha(e.current,t,u=>{a(s)},n);return a(s),l.release},[n,t,e,s]);const[o,a]=T_(i);return o.key!==t.key?i().loadable:o.loadable}function Kq(t){const e=jr(),[,n]=T_([]),r=ld(),i=Cn(()=>{var a;const l=e.current,u=l.getState(),c=wl().early&&(a=u.nextTree)!==null&&a!==void 0?a:u.currentTree;return ud(l,t,c)},[e,t]),s=i(),o=bu(s);return Wa(()=>{o.current=s}),Wa(()=>{const a=e.current,l=a.getState(),u=Ha(a,t,d=>{var h;if(!Qe("recoil_suppress_rerender_in_callback"))return n([]);const f=i();(h=o.current)!==null&&h!==void 0&&h.is(f)||n(f),o.current=f},r);if(l.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{o.current=null,n([])});else{var c;if(!Qe("recoil_suppress_rerender_in_callback"))return n([]);const d=i();(c=o.current)!==null&&c!==void 0&&c.is(d)||n(d),o.current=d}return u.release},[r,i,t,e]),s}function R_(t){return Qe("recoil_memory_managament_2020")&&S_(t),{TRANSITION_SUPPORT:g0,SYNC_EXTERNAL_STORE:Mq()?Wq:g0,MUTABLE_SOURCE:qq,LEGACY:Kq}[wl().mode](t)}function RP(t){const e=jr(),n=R_(t);return x_(n,t,e)}function Lm(t){const e=jr();return Cn(n=>{Pf(e.current,t,n)},[e,t])}function Gq(t){const e=jr();return Cn(()=>{Pf(e.current,t,TP)},[e,t])}function Qq(t){return[RP(t),Lm(t)]}function Yq(t){return[R_(t),Lm(t)]}function Xq(){const t=jr();return(e,n={})=>{Dq(()=>{t.current.addTransactionMetadata(n),e.forEach((r,i)=>Fq(t.current,new m0(i),r))})}}function kP(t){return Qe("recoil_memory_managament_2020")&&S_(t),g0(t)}function CP(t){const e=jr(),n=kP(t);return x_(n,t,e)}function Jq(t){return[CP(t),Lm(t)]}var Zq={recoilComponentGetRecoilValueCount_FOR_TESTING:Hq,useRecoilInterface:zq,useRecoilState:Qq,useRecoilStateLoadable:Yq,useRecoilValue:RP,useRecoilValueLoadable:R_,useResetRecoilState:Gq,useSetRecoilState:Lm,useSetUnvalidatedAtomValues:Xq,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:kP,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:CP,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:Jq};function e7(t,e){const n=new Map;for(const[r,i]of t)e(i,r)&&n.set(r,i);return n}var t7=e7;function n7(t,e){const n=new Set;for(const r of t)e(r)&&n.add(r);return n}var r7=n7;function i7(...t){const e=new Map;for(let n=0;n<t.length;n++){const r=t[n].keys();let i;for(;!(i=r.next()).done;)e.set(i.value,t[n].get(i.value))}return e}var s7=i7;const{batchUpdates:o7}=Rm,{DEFAULT_VALUE:a7,getNode:AP,nodes:l7}=Ln,{useStoreRef:k_}=_i,{AbstractRecoilValue:u7,setRecoilValueLoadable:c7}=Br,{SUSPENSE_TIMEOUT_MS:d7}=Oo,{cloneSnapshot:Of}=Im,{useCallback:Pm,useEffect:IP,useRef:RT,useState:h7}=_e,{isSSR:kT}=km;function Om(t){const e=k_();IP(()=>e.current.subscribeToTransactions(t).release,[t,e])}function CT(t){const e=t.atomValues.toMap(),n=Lf(t7(e,(r,i)=>{const o=AP(i).persistence_UNSTABLE;return o!=null&&o.type!=="none"&&r.state==="hasValue"}),r=>r.contents);return s7(t.nonvalidatedAtoms.toMap(),n)}function f7(t){Om(Pm(e=>{let n=e.getState().previousTree;const r=e.getState().currentTree;n||(n=e.getState().currentTree);const i=CT(r),s=CT(n),o=Lf(l7,l=>{var u,c,d,h;return{persistence_UNSTABLE:{type:(u=(c=l.persistence_UNSTABLE)===null||c===void 0?void 0:c.type)!==null&&u!==void 0?u:"none",backButton:(d=(h=l.persistence_UNSTABLE)===null||h===void 0?void 0:h.backButton)!==null&&d!==void 0?d:!1}}}),a=r7(r.dirtyAtoms,l=>i.has(l)||s.has(l));t({atomValues:i,previousAtomValues:s,atomInfo:o,modifiedAtoms:a,transactionMetadata:{...r.transactionMetadata}})},[t]))}function p7(t){Om(Pm(e=>{const n=Of(e,"latest"),r=Of(e,"previous");t({snapshot:n,previousSnapshot:r})},[t]))}function m7(){const t=k_(),[e,n]=h7(()=>Of(t.current)),r=SP(e),i=RT(),s=RT();if(Om(Pm(a=>n(Of(a)),[])),IP(()=>{const a=e.retain();if(i.current&&!kT){var l;window.clearTimeout(i.current),i.current=null,(l=s.current)===null||l===void 0||l.call(s),s.current=null}return()=>{window.setTimeout(a,10)}},[e]),r!==e&&!kT){if(i.current){var o;window.clearTimeout(i.current),i.current=null,(o=s.current)===null||o===void 0||o.call(s),s.current=null}s.current=e.retain(),i.current=window.setTimeout(()=>{var a;i.current=null,(a=s.current)===null||a===void 0||a.call(s),s.current=null},d7)}return e}function NP(t,e){var n;const r=t.getState(),i=(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree,s=e.getStore_INTERNAL().getState().currentTree;o7(()=>{const o=new Set;for(const u of[i.atomValues.keys(),s.atomValues.keys()])for(const c of u){var a,l;((a=i.atomValues.get(c))===null||a===void 0?void 0:a.contents)!==((l=s.atomValues.get(c))===null||l===void 0?void 0:l.contents)&&AP(c).shouldRestoreFromSnapshots&&o.add(c)}o.forEach(u=>{c7(t,new u7(u),s.atomValues.has(u)?it(s.atomValues.get(u)):a7)}),t.replaceState(u=>({...u,stateID:e.getID()}))})}function g7(){const t=k_();return Pm(e=>NP(t.current,e),[t])}var LP={useRecoilSnapshot:m7,gotoSnapshot:NP,useGotoRecoilSnapshot:g7,useRecoilTransactionObserver:p7,useTransactionObservation_DEPRECATED:f7,useTransactionSubscription_DEPRECATED:Om};const{peekNodeInfo:y7}=Ts,{useStoreRef:v7}=_i;function w7(){const t=v7();return({key:e})=>y7(t.current,t.current.getState().currentTree,e)}var _7=w7;const{reactMode:E7}=sd,{RecoilRoot:b7,useStoreRef:S7}=_i,{useMemo:T7}=_e;function x7(){E7().mode==="MUTABLE_SOURCE"&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const t=S7().current;return T7(()=>{function e({children:n}){return _e.createElement(b7,{store_INTERNAL:t},n)}return e},[t])}var R7=x7;const{loadableWithValue:k7}=id,{initializeNode:C7}=Ts,{DEFAULT_VALUE:A7,getNode:I7}=Ln,{copyTreeState:N7,getRecoilValueAsLoadable:L7,invalidateDownstreams:P7,writeLoadableToTreeState:O7}=Br;function AT(t){return I7(t.key).nodeType==="atom"}class D7{constructor(e,n){Ie(this,"_store",void 0),Ie(this,"_treeState",void 0),Ie(this,"_changes",void 0),Ie(this,"get",r=>{if(this._changes.has(r.key))return this._changes.get(r.key);if(!AT(r))throw Le("Reading selectors within atomicUpdate is not supported");const i=L7(this._store,r,this._treeState);if(i.state==="hasValue")return i.contents;throw i.state==="hasError"?i.contents:Le(`Expected Recoil atom ${r.key} to have a value, but it is in a loading state.`)}),Ie(this,"set",(r,i)=>{if(!AT(r))throw Le("Setting selectors within atomicUpdate is not supported");if(typeof i=="function"){const s=this.get(r);this._changes.set(r.key,i(s))}else C7(this._store,r.key,"set"),this._changes.set(r.key,i)}),Ie(this,"reset",r=>{this.set(r,A7)}),this._store=e,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const e=N7(this._treeState);for(const[n,r]of this._changes)O7(e,n,k7(r));return P7(this._store,e),e}}function M7(t){return e=>{t.replaceState(n=>{const r=new D7(t,n);return e(r),r.newTreeState_INTERNAL()})}}var $7={atomicUpdater:M7},U7=$7.atomicUpdater,PP=Object.freeze({__proto__:null,atomicUpdater:U7});function V7(t,e){if(!t)throw new Error(e)}var F7=V7,tu=F7;const{atomicUpdater:B7}=PP,{batchUpdates:j7}=Rm,{DEFAULT_VALUE:z7}=Ln,{useStoreRef:H7}=_i,{refreshRecoilValue:W7,setRecoilValue:IT}=Br,{cloneSnapshot:q7}=Im,{gotoSnapshot:K7}=LP,{useCallback:G7}=_e;class OP{}const Q7=new OP;function DP(t,e,n,r){let i=Q7,s;if(j7(()=>{const a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw Le(a);const l=KL({...r??{},set:(c,d)=>IT(t,c,d),reset:c=>IT(t,c,z7),refresh:c=>W7(t,c),gotoSnapshot:c=>K7(t,c),transact_UNSTABLE:c=>B7(t)(c)},{snapshot:()=>{const c=q7(t);return s=c.retain(),c}}),u=e(l);if(typeof u!="function")throw Le(a);i=u(...n)}),i instanceof OP&&tu(!1),et(i))i=i.finally(()=>{var a;(a=s)===null||a===void 0||a()});else{var o;(o=s)===null||o===void 0||o()}return i}function Y7(t,e){const n=H7();return G7((...r)=>DP(n.current,t,r),e!=null?[...e,n]:void 0)}var MP={recoilCallback:DP,useRecoilCallback:Y7};const{useStoreRef:X7}=_i,{refreshRecoilValue:J7}=Br,{useCallback:Z7}=_e;function eK(t){const e=X7();return Z7(()=>{const n=e.current;J7(n,t)},[t,e])}var tK=eK;const{atomicUpdater:nK}=PP,{useStoreRef:rK}=_i,{useMemo:iK}=_e;function sK(t,e){const n=rK();return iK(()=>(...r)=>{nK(n.current)(s=>{t(s)(...r)})},e!=null?[...e,n]:void 0)}var oK=sK;class aK{constructor(e){Ie(this,"value",void 0),this.value=e}}var lK={WrappedValue:aK},uK=lK.WrappedValue,$P=Object.freeze({__proto__:null,WrappedValue:uK});const{isFastRefreshEnabled:cK}=sd;class NT extends Error{}class dK{constructor(e){var n,r,i;Ie(this,"_name",void 0),Ie(this,"_numLeafs",void 0),Ie(this,"_root",void 0),Ie(this,"_onHit",void 0),Ie(this,"_onSet",void 0),Ie(this,"_mapNodeValue",void 0),this._name=e==null?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=(n=e==null?void 0:e.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(r=e==null?void 0:e.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(i=e==null?void 0:e.mapNodeValue)!==null&&i!==void 0?i:s=>s}size(){return this._numLeafs}root(){return this._root}get(e,n){var r;return(r=this.getLeafNode(e,n))===null||r===void 0?void 0:r.value}getLeafNode(e,n){if(this._root==null)return;let r=this._root;for(;r;){if(n==null||n.onNodeVisit(r),r.type==="leaf")return this._onHit(r),r;const i=this._mapNodeValue(e(r.nodeKey));r=r.branches.get(i)}}set(e,n,r){const i=()=>{var s,o,a,l;let u,c;for(const[w,v]of e){var d,h,f;const g=this._root;if((g==null?void 0:g.type)==="leaf")throw this.invalidCacheError();const y=u;if(u=y?y.branches.get(c):g,u=(d=u)!==null&&d!==void 0?d:{type:"branch",nodeKey:w,parent:y,branches:new Map,branchKey:c},u.type!=="branch"||u.nodeKey!==w)throw this.invalidCacheError();y==null||y.branches.set(c,u),r==null||(h=r.onNodeVisit)===null||h===void 0||h.call(r,u),c=this._mapNodeValue(v),this._root=(f=this._root)!==null&&f!==void 0?f:u}const m=u?(s=u)===null||s===void 0?void 0:s.branches.get(c):this._root;if(m!=null&&(m.type!=="leaf"||m.branchKey!==c))throw this.invalidCacheError();const p={type:"leaf",value:n,parent:u,branchKey:c};(o=u)===null||o===void 0||o.branches.set(c,p),this._root=(a=this._root)!==null&&a!==void 0?a:p,this._numLeafs++,this._onSet(p),r==null||(l=r.onNodeVisit)===null||l===void 0||l.call(r,p)};try{i()}catch(s){if(s instanceof NT)this.clear(),i();else throw s}}delete(e){const n=this.root();if(!n)return!1;if(e===n)return this._root=null,this._numLeafs=0,!0;let r=e.parent,i=e.branchKey;for(;r;){var s;if(r.branches.delete(i),r===n)return r.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;i=(s=r)===null||s===void 0?void 0:s.branchKey,r=r.parent}for(;r!==n;r=r.parent)if(r==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const e=cK()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw f_(e+(this._name!=null?` - ${this._name}`:"")),new NT}}var hK={TreeCache:dK},fK=hK.TreeCache,UP=Object.freeze({__proto__:null,TreeCache:fK});class pK{constructor(e){var n;Ie(this,"_maxSize",void 0),Ie(this,"_size",void 0),Ie(this,"_head",void 0),Ie(this,"_tail",void 0),Ie(this,"_map",void 0),Ie(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=e.mapKey)!==null&&n!==void 0?n:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const n=this._keyMapper(e),r=this._map.get(n);if(r)return this.set(e,r.value),r.value}set(e,n){const r=this._keyMapper(e);this._map.get(r)&&this.delete(e);const s=this.head(),o={key:e,right:s,left:null,value:n};s?s.left=o:this._tail=o,this._map.set(r,o),this._head=o,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const n=this._keyMapper(e);if(!this._size||!this._map.has(n))return;const r=it(this._map.get(n)),i=r.right,s=r.left;i&&(i.left=r.left),s&&(s.right=r.right),r===this.head()&&(this._head=i),r===this.tail()&&(this._tail=s),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var mK={LRUCache:pK},gK=mK.LRUCache,VP=Object.freeze({__proto__:null,LRUCache:gK});const{LRUCache:yK}=VP,{TreeCache:vK}=UP;function wK({name:t,maxSize:e,mapNodeValue:n=r=>r}){const r=new yK({maxSize:e}),i=new vK({name:t,mapNodeValue:n,onHit:s=>{r.set(s,!0)},onSet:s=>{const o=r.tail();r.set(s,!0),o&&i.size()>e&&i.delete(o.key)}});return i}var LT=wK;function ar(t,e,n){if(typeof t=="string"&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if((e==null?void 0:e.allowFunctions)!==!0)throw Le("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(t===null)return"null";if(typeof t!="object"){var r;return(r=JSON.stringify(t))!==null&&r!==void 0?r:""}if(et(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((i,s)=>ar(i,e,s.toString()))}]`;if(typeof t.toJSON=="function")return ar(t.toJSON(n),e,n);if(t instanceof Map){const i={};for(const[s,o]of t)i[typeof s=="string"?s:ar(s,e)]=o;return ar(i,e,n)}return t instanceof Set?ar(Array.from(t).sort((i,s)=>ar(i,e).localeCompare(ar(s,e))),e,n):Symbol!==void 0&&t[Symbol.iterator]!=null&&typeof t[Symbol.iterator]=="function"?ar(Array.from(t),e,n):`{${Object.keys(t).filter(i=>t[i]!==void 0).sort().map(i=>`${ar(i,e)}:${ar(t[i],e,i)}`).join(",")}}`}function _K(t,e={allowFunctions:!1}){return ar(t,e)}var Dm=_K;const{TreeCache:EK}=UP,Kd={equality:"reference",eviction:"keep-all",maxSize:1/0};function bK({equality:t=Kd.equality,eviction:e=Kd.eviction,maxSize:n=Kd.maxSize}=Kd,r){const i=SK(t);return TK(e,n,i,r)}function SK(t){switch(t){case"reference":return e=>e;case"value":return e=>Dm(e)}throw Le(`Unrecognized equality policy ${t}`)}function TK(t,e,n,r){switch(t){case"keep-all":return new EK({name:r,mapNodeValue:n});case"lru":return LT({name:r,maxSize:it(e),mapNodeValue:n});case"most-recent":return LT({name:r,maxSize:1,mapNodeValue:n})}throw Le(`Unrecognized eviction policy ${t}`)}var xK=bK;function RK(t){return()=>null}var kK={startPerfBlock:RK};const{isLoadable:CK,loadableWithError:Gd,loadableWithPromise:AK,loadableWithValue:sy}=id,{WrappedValue:FP}=$P,{getNodeLoadable:Qd,peekNodeLoadable:IK,setNodeValue:NK}=Ts,{saveDepsToStore:LK}=od,{DEFAULT_VALUE:PK,getConfigDeletionHandler:OK,getNode:DK,registerNode:PT}=Ln,{isRecoilValue:MK}=za,{markRecoilValueModified:OT}=Br,{retainedByOptionWithDefault:$K}=Oo,{recoilCallback:UK}=MP,{startPerfBlock:VK}=kK;class BP{}const Ul=new BP,Vl=[],Yd=new Map,FK=(()=>{let t=0;return()=>t++})();function jP(t){let e=null;const{key:n,get:r,cachePolicy_UNSTABLE:i}=t,s=t.set!=null?t.set:void 0,o=new Set,a=xK(i??{equality:"reference",eviction:"keep-all"},n),l=$K(t.retainedBy_UNSTABLE),u=new Map;let c=0;function d(){return!Qe("recoil_memory_managament_2020")||c>0}function h(C){return C.getState().knownSelectors.add(n),c++,()=>{c--}}function f(){return OK(n)!==void 0&&!d()}function m(C,P,O,ne,X){Z(P,ne,X),p(C,O)}function p(C,P){$(C,P)&&J(C),v(P,!0)}function w(C,P){$(C,P)&&(it(z(C)).stateVersions.clear(),v(P,!1))}function v(C,P){const O=Yd.get(C);if(O!=null){for(const ne of O)OT(ne,it(e));P&&Yd.delete(C)}}function g(C,P){let O=Yd.get(P);O==null&&Yd.set(P,O=new Set),O.add(C)}function y(C,P,O,ne,X,pe){return P.then(we=>{if(!d())throw J(C),Ul;const re=sy(we);return m(C,O,X,re,ne),we}).catch(we=>{if(!d())throw J(C),Ul;if(et(we))return _(C,we,O,ne,X,pe);const re=Gd(we);throw m(C,O,X,re,ne),we})}function _(C,P,O,ne,X,pe){return P.then(we=>{if(!d())throw J(C),Ul;pe.loadingDepKey!=null&&pe.loadingDepPromise===P?O.atomValues.set(pe.loadingDepKey,sy(we)):C.getState().knownSelectors.forEach(Me=>{O.atomValues.delete(Me)});const re=R(C,O);if(re&&re.state!=="loading"){if(($(C,X)||z(C)==null)&&p(C,X),re.state==="hasValue")return re.contents;throw re.contents}if(!$(C,X)){const Me=K(C,O);if(Me!=null)return Me.loadingLoadable.contents}const[De,Ge]=k(C,O,X);if(De.state!=="loading"&&m(C,O,X,De,Ge),De.state==="hasError")throw De.contents;return De.contents}).catch(we=>{if(we instanceof BP)throw Ul;if(!d())throw J(C),Ul;const re=Gd(we);throw m(C,O,X,re,ne),we})}function S(C,P,O,ne){var X,pe,we,re;if($(C,ne)||P.version===((X=C.getState())===null||X===void 0||(pe=X.currentTree)===null||pe===void 0?void 0:pe.version)||P.version===((we=C.getState())===null||we===void 0||(re=we.nextTree)===null||re===void 0?void 0:re.version)){var De,Ge,Me;LK(n,O,C,(De=(Ge=C.getState())===null||Ge===void 0||(Me=Ge.nextTree)===null||Me===void 0?void 0:Me.version)!==null&&De!==void 0?De:C.getState().currentTree.version)}for(const je of O)o.add(je)}function k(C,P,O){const ne=VK(n);let X=!0,pe=!0;const we=()=>{ne(),pe=!1};let re,De=!1,Ge;const Me={loadingDepKey:null,loadingDepPromise:null},je=new Map;function Dt({key:vt}){const wt=Qd(C,P,vt);switch(je.set(vt,wt),X||(S(C,P,new Set(je.keys()),O),w(C,O)),wt.state){case"hasValue":return wt.contents;case"hasError":throw wt.contents;case"loading":throw Me.loadingDepKey=vt,Me.loadingDepPromise=wt.contents,wt.contents}throw Le("Invalid Loadable state")}const Yt=vt=>(...wt)=>{if(pe)throw Le("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return e==null&&tu(!1),UK(C,vt,wt,{node:e})};try{re=r({get:Dt,getCallback:Yt}),re=MK(re)?Dt(re):re,CK(re)&&(re.state==="hasError"&&(De=!0),re=re.contents),et(re)?re=y(C,re,P,je,O,Me).finally(we):we(),re=re instanceof FP?re.value:re}catch(vt){re=vt,et(re)?re=_(C,re,P,je,O,Me).finally(we):(De=!0,we())}return De?Ge=Gd(re):et(re)?Ge=AK(re):Ge=sy(re),X=!1,ve(C,O,je),S(C,P,new Set(je.keys()),O),[Ge,je]}function R(C,P){let O=P.atomValues.get(n);if(O!=null)return O;const ne=new Set;try{O=a.get(pe=>(typeof pe!="string"&&tu(!1),Qd(C,P,pe).contents),{onNodeVisit:pe=>{pe.type==="branch"&&pe.nodeKey!==n&&ne.add(pe.nodeKey)}})}catch(pe){throw Le(`Problem with cache lookup for selector "${n}": ${pe.message}`)}if(O){var X;P.atomValues.set(n,O),S(C,P,ne,(X=z(C))===null||X===void 0?void 0:X.executionID)}return O}function I(C,P){const O=R(C,P);if(O!=null)return J(C),O;const ne=K(C,P);if(ne!=null){var X;return((X=ne.loadingLoadable)===null||X===void 0?void 0:X.state)==="loading"&&g(C,ne.executionID),ne.loadingLoadable}const pe=FK(),[we,re]=k(C,P,pe);return we.state==="loading"?(de(C,pe,we,re,P),g(C,pe)):(J(C),Z(P,we,re)),we}function K(C,P){const O=cP([u.has(C)?[it(u.get(C))]:[],bm(v_(u,([X])=>X!==C),([,X])=>X)]);function ne(X){for(const[pe,we]of X)if(!Qd(C,P,pe).is(we))return!0;return!1}for(const X of O){if(X.stateVersions.get(P.version)||!ne(X.depValuesDiscoveredSoFarDuringAsyncWork))return X.stateVersions.set(P.version,!0),X;X.stateVersions.set(P.version,!1)}}function z(C){return u.get(C)}function de(C,P,O,ne,X){u.set(C,{depValuesDiscoveredSoFarDuringAsyncWork:ne,executionID:P,loadingLoadable:O,stateVersions:new Map([[X.version,!0]])})}function ve(C,P,O){if($(C,P)){const ne=z(C);ne!=null&&(ne.depValuesDiscoveredSoFarDuringAsyncWork=O)}}function J(C){u.delete(C)}function $(C,P){var O;return P===((O=z(C))===null||O===void 0?void 0:O.executionID)}function W(C){return Array.from(C.entries()).map(([P,O])=>[P,O.contents])}function Z(C,P,O){C.atomValues.set(n,P);try{a.set(W(O),P)}catch(ne){throw Le(`Problem with setting cache for selector "${n}": ${ne.message}`)}}function A(C){if(Vl.includes(n)){const P=`Recoil selector has circular dependencies: ${Vl.slice(Vl.indexOf(n)).join("  ")}`;return Gd(Le(P))}Vl.push(n);try{return C()}finally{Vl.pop()}}function N(C,P){const O=P.atomValues.get(n);return O??a.get(ne=>{var X;return typeof ne!="string"&&tu(!1),(X=IK(C,P,ne))===null||X===void 0?void 0:X.contents})}function B(C,P){return A(()=>I(C,P))}function ee(C){C.atomValues.delete(n)}function te(C,P){e==null&&tu(!1);for(const ne of o){var O;const X=DK(ne);(O=X.clearCache)===null||O===void 0||O.call(X,C,P)}o.clear(),ee(P),a.clear(),OT(C,e)}return s!=null?e=PT({key:n,nodeType:"selector",peek:N,get:B,set:(P,O,ne)=>{let X=!1;const pe=new Map;function we({key:Me}){if(X)throw Le("Recoil: Async selector sets are not currently supported.");const je=Qd(P,O,Me);if(je.state==="hasValue")return je.contents;if(je.state==="loading"){const Dt=`Getting value of asynchronous atom or selector "${Me}" in a pending state while setting selector "${n}" is not yet supported.`;throw Le(Dt)}else throw je.contents}function re(Me,je){if(X)throw Le("Recoil: Async selector sets are not currently supported.");const Dt=typeof je=="function"?je(we(Me)):je;NK(P,O,Me.key,Dt).forEach((vt,wt)=>pe.set(wt,vt))}function De(Me){re(Me,PK)}const Ge=s({set:re,get:we,reset:De},ne);if(Ge!==void 0)throw et(Ge)?Le("Recoil: Async selector sets are not currently supported."):Le("Recoil: selector set should be a void function.");return X=!0,pe},init:h,invalidate:ee,clearCache:te,shouldDeleteConfigOnRelease:f,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l}):e=PT({key:n,nodeType:"selector",peek:N,get:B,init:h,invalidate:ee,clearCache:te,shouldDeleteConfigOnRelease:f,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}jP.value=t=>new FP(t);var qa=jP;const{isLoadable:BK,loadableWithError:oy,loadableWithPromise:ay,loadableWithValue:Vo}=id,{WrappedValue:zP}=$P,{peekNodeInfo:jK}=Ts,{DEFAULT_VALUE:Us,DefaultValue:Ni,getConfigDeletionHandler:HP,registerNode:zK,setConfigDeletionHandler:HK}=Ln,{isRecoilValue:WK}=za,{getRecoilValueAsLoadable:qK,markRecoilValueModified:KK,setRecoilValue:DT,setRecoilValueLoadable:GK}=Br,{retainedByOptionWithDefault:QK}=Oo,Fl=t=>t instanceof zP?t.value:t;function YK(t){const{key:e,persistence_UNSTABLE:n}=t,r=QK(t.retainedBy_UNSTABLE);let i=0;function s(g){return ay(g.then(y=>(o=Vo(y),y)).catch(y=>{throw o=oy(y),y}))}let o=et(t.default)?s(t.default):BK(t.default)?t.default.state==="loading"?s(t.default.contents):t.default:Vo(Fl(t.default));o.contents;let a;const l=new Map;function u(g){return g}function c(g,y){const _=y.then(S=>{var k,R;return((R=((k=g.getState().nextTree)!==null&&k!==void 0?k:g.getState().currentTree).atomValues.get(e))===null||R===void 0?void 0:R.contents)===_&&DT(g,v,S),S}).catch(S=>{var k,R;throw((R=((k=g.getState().nextTree)!==null&&k!==void 0?k:g.getState().currentTree).atomValues.get(e))===null||R===void 0?void 0:R.contents)===_&&GK(g,v,oy(S)),S});return _}function d(g,y,_){var S;i++;const k=()=>{var J;i--,(J=l.get(g))===null||J===void 0||J.forEach($=>$()),l.delete(g)};if(g.getState().knownAtoms.add(e),o.state==="loading"){const J=()=>{var $;(($=g.getState().nextTree)!==null&&$!==void 0?$:g.getState().currentTree).atomValues.has(e)||KK(g,v)};o.contents.finally(J)}const R=(S=t.effects)!==null&&S!==void 0?S:t.effects_UNSTABLE;if(R!=null){let A=function(P){if($&&P.key===e){const O=J;return O instanceof Ni?h(g,y):et(O)?ay(O.then(ne=>ne instanceof Ni?o.toPromise():ne)):Vo(O)}return qK(g,P)},N=function(P){return A(P).toPromise()},B=function(P){var O;const ne=jK(g,(O=g.getState().nextTree)!==null&&O!==void 0?O:g.getState().currentTree,P.key);return $&&P.key===e&&!(J instanceof Ni)?{...ne,isSet:!0,loadable:A(P)}:ne};var z=A,de=N,ve=B;let J=Us,$=!0,W=!1,Z=null;const ee=P=>O=>{if($){const ne=A(v),X=ne.state==="hasValue"?ne.contents:Us;J=typeof O=="function"?O(X):O,et(J)&&(J=J.then(pe=>(Z={effect:P,value:pe},pe)))}else{if(et(O))throw Le("Setting atoms to async values is not implemented.");typeof O!="function"&&(Z={effect:P,value:Fl(O)}),DT(g,v,typeof O=="function"?ne=>{const X=Fl(O(ne));return Z={effect:P,value:X},X}:Fl(O))}},te=P=>()=>ee(P)(Us),C=P=>O=>{var ne;const{release:X}=g.subscribeToTransactions(pe=>{var we;let{currentTree:re,previousTree:De}=pe.getState();De||(De=re);const Ge=(we=re.atomValues.get(e))!==null&&we!==void 0?we:o;if(Ge.state==="hasValue"){var Me,je,Dt,Yt;const vt=Ge.contents,wt=(Me=De.atomValues.get(e))!==null&&Me!==void 0?Me:o,zr=wt.state==="hasValue"?wt.contents:Us;((je=Z)===null||je===void 0?void 0:je.effect)!==P||((Dt=Z)===null||Dt===void 0?void 0:Dt.value)!==vt?O(vt,zr,!re.atomValues.has(e)):((Yt=Z)===null||Yt===void 0?void 0:Yt.effect)===P&&(Z=null)}},e);l.set(g,[...(ne=l.get(g))!==null&&ne!==void 0?ne:[],X])};for(const P of R)try{const O=P({node:v,storeID:g.storeID,parentStoreID_UNSTABLE:g.parentStoreID,trigger:_,setSelf:ee(P),resetSelf:te(P),onSet:C(P),getPromise:N,getLoadable:A,getInfo_UNSTABLE:B});if(O!=null){var I;l.set(g,[...(I=l.get(g))!==null&&I!==void 0?I:[],O])}}catch(O){J=O,W=!0}if($=!1,!(J instanceof Ni)){var K;const P=W?oy(J):et(J)?ay(c(g,J)):Vo(Fl(J));P.contents,y.atomValues.set(e,P),(K=g.getState().nextTree)===null||K===void 0||K.atomValues.set(e,P)}}return k}function h(g,y){var _,S;return(_=(S=y.atomValues.get(e))!==null&&S!==void 0?S:a)!==null&&_!==void 0?_:o}function f(g,y){if(y.atomValues.has(e))return it(y.atomValues.get(e));if(y.nonvalidatedAtoms.has(e)){if(a!=null)return a;if(n==null)return o;const _=y.nonvalidatedAtoms.get(e),S=n.validator(_,Us);return a=S instanceof Ni?o:Vo(S),a}else return o}function m(){a=void 0}function p(g,y,_){if(y.atomValues.has(e)){const S=it(y.atomValues.get(e));if(S.state==="hasValue"&&_===S.contents)return new Map}else if(!y.nonvalidatedAtoms.has(e)&&_ instanceof Ni)return new Map;return a=void 0,new Map().set(e,Vo(_))}function w(){return HP(e)!==void 0&&i<=0}const v=zK({key:e,nodeType:"atom",peek:h,get:f,set:p,init:d,invalidate:m,shouldDeleteConfigOnRelease:w,dangerouslyAllowMutability:t.dangerouslyAllowMutability,persistence_UNSTABLE:t.persistence_UNSTABLE?{type:t.persistence_UNSTABLE.type,backButton:t.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return v}function C_(t){const{...e}=t,n="default"in t?t.default:new Promise(()=>{});return WK(n)?XK({...e,default:n}):YK({...e,default:n})}function XK(t){const e=C_({...t,default:Us,persistence_UNSTABLE:t.persistence_UNSTABLE===void 0?void 0:{...t.persistence_UNSTABLE,validator:r=>r instanceof Ni?r:it(t.persistence_UNSTABLE).validator(r,Us)},effects:t.effects,effects_UNSTABLE:t.effects_UNSTABLE}),n=qa({key:`${t.key}__withFallback`,get:({get:r})=>{const i=r(e);return i instanceof Ni?t.default:i},set:({set:r},i)=>r(e,i),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:t.dangerouslyAllowMutability});return HK(n.key,HP(t.key)),n}C_.value=t=>new zP(t);var WP=C_;class JK{constructor(e){var n;Ie(this,"_map",void 0),Ie(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=e==null?void 0:e.mapKey)!==null&&n!==void 0?n:r=>r}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,n){this._map.set(this._keyMapper(e),n)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}var ZK={MapCache:JK},eG=ZK.MapCache,tG=Object.freeze({__proto__:null,MapCache:eG});const{LRUCache:MT}=VP,{MapCache:nG}=tG,Xd={equality:"reference",eviction:"none",maxSize:1/0};function rG({equality:t=Xd.equality,eviction:e=Xd.eviction,maxSize:n=Xd.maxSize}=Xd){const r=iG(t);return sG(e,n,r)}function iG(t){switch(t){case"reference":return e=>e;case"value":return e=>Dm(e)}throw Le(`Unrecognized equality policy ${t}`)}function sG(t,e,n){switch(t){case"keep-all":return new nG({mapKey:n});case"lru":return new MT({mapKey:n,maxSize:it(e)});case"most-recent":return new MT({mapKey:n,maxSize:1})}throw Le(`Unrecognized eviction policy ${t}`)}var qP=rG;const{setConfigDeletionHandler:oG}=Ln;function aG(t){var e,n;const r=qP({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var s,o;const a=r.get(i);if(a!=null)return a;const{cachePolicyForParams_UNSTABLE:l,...u}=t,c="default"in t?t.default:new Promise(()=>{}),d=WP({...u,key:`${t.key}__${(s=Dm(i))!==null&&s!==void 0?s:"void"}`,default:typeof c=="function"?c(i):c,retainedBy_UNSTABLE:typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE,effects:typeof t.effects=="function"?t.effects(i):typeof t.effects_UNSTABLE=="function"?t.effects_UNSTABLE(i):(o=t.effects)!==null&&o!==void 0?o:t.effects_UNSTABLE});return r.set(i,d),oG(d.key,()=>{r.delete(i)}),d}}var lG=aG;const{setConfigDeletionHandler:uG}=Ln;let cG=0;function dG(t){var e,n;const r=qP({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var s;let o;try{o=r.get(i)}catch(h){throw Le(`Problem with cache lookup for selector ${t.key}: ${h.message}`)}if(o!=null)return o;const a=`${t.key}__selectorFamily/${(s=Dm(i,{allowFunctions:!0}))!==null&&s!==void 0?s:"void"}/${cG++}`,l=h=>t.get(i)(h),u=t.cachePolicy_UNSTABLE,c=typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE;let d;if(t.set!=null){const h=t.set;d=qa({key:a,get:l,set:(m,p)=>h(i)(m,p),cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c})}else d=qa({key:a,get:l,cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c});return r.set(i,d),uG(d.key,()=>{r.delete(i)}),d}}var xs=dG;const hG=xs({key:"__constant",get:t=>()=>t,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function fG(t){return hG(t)}var pG=fG;const mG=xs({key:"__error",get:t=>()=>{throw Le(t)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function gG(t){return mG(t)}var yG=gG;function vG(t){return t}var wG=vG;const{loadableWithError:KP,loadableWithPromise:GP,loadableWithValue:QP}=id;function Mm(t,e){const n=Array(e.length).fill(void 0),r=Array(e.length).fill(void 0);for(const[i,s]of e.entries())try{n[i]=t(s)}catch(o){r[i]=o}return[n,r]}function _G(t){return t!=null&&!et(t)}function $m(t){return Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(e=>t[e])}function y0(t,e){return Array.isArray(t)?e:Object.getOwnPropertyNames(t).reduce((n,r,i)=>({...n,[r]:e[i]}),{})}function ba(t,e,n){const r=n.map((i,s)=>i==null?QP(e[s]):et(i)?GP(i):KP(i));return y0(t,r)}function EG(t,e){return e.map((n,r)=>n===void 0?t[r]:n)}const bG=xs({key:"__waitForNone",get:t=>({get:e})=>{const n=$m(t),[r,i]=Mm(e,n);return ba(t,r,i)},dangerouslyAllowMutability:!0}),SG=xs({key:"__waitForAny",get:t=>({get:e})=>{const n=$m(t),[r,i]=Mm(e,n);return i.some(s=>!et(s))?ba(t,r,i):new Promise(s=>{for(const[o,a]of i.entries())et(a)&&a.then(l=>{r[o]=l,i[o]=void 0,s(ba(t,r,i))}).catch(l=>{i[o]=l,s(ba(t,r,i))})})},dangerouslyAllowMutability:!0}),TG=xs({key:"__waitForAll",get:t=>({get:e})=>{const n=$m(t),[r,i]=Mm(e,n);if(i.every(o=>o==null))return y0(t,r);const s=i.find(_G);if(s!=null)throw s;return Promise.all(i).then(o=>y0(t,EG(r,o)))},dangerouslyAllowMutability:!0}),xG=xs({key:"__waitForAllSettled",get:t=>({get:e})=>{const n=$m(t),[r,i]=Mm(e,n);return i.every(s=>!et(s))?ba(t,r,i):Promise.all(i.map((s,o)=>et(s)?s.then(a=>{r[o]=a,i[o]=void 0}).catch(a=>{r[o]=void 0,i[o]=a}):null)).then(()=>ba(t,r,i))},dangerouslyAllowMutability:!0}),RG=xs({key:"__noWait",get:t=>({get:e})=>{try{return qa.value(QP(e(t)))}catch(n){return qa.value(et(n)?GP(n):KP(n))}},dangerouslyAllowMutability:!0});var kG={waitForNone:bG,waitForAny:SG,waitForAll:TG,waitForAllSettled:xG,noWait:RG};const{RecoilLoadable:CG}=id,{DefaultValue:AG}=Ln,{RecoilRoot:IG,useRecoilStoreID:NG}=_i,{isRecoilValue:LG}=za,{retentionZone:PG}=Tm,{freshSnapshot:OG}=Im,{useRecoilState:DG,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:MG,useRecoilStateLoadable:$G,useRecoilValue:UG,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:VG,useRecoilValueLoadable:FG,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:BG,useResetRecoilState:jG,useSetRecoilState:zG}=Zq,{useGotoRecoilSnapshot:HG,useRecoilSnapshot:WG,useRecoilTransactionObserver:qG}=LP,{useRecoilCallback:KG}=MP,{noWait:GG,waitForAll:QG,waitForAllSettled:YG,waitForAny:XG,waitForNone:JG}=kG;var A_={DefaultValue:AG,isRecoilValue:LG,RecoilLoadable:CG,RecoilEnv:vl,RecoilRoot:IG,useRecoilStoreID:NG,useRecoilBridgeAcrossReactRoots_UNSTABLE:R7,atom:WP,selector:qa,atomFamily:lG,selectorFamily:xs,constSelector:pG,errorSelector:yG,readOnlySelector:wG,noWait:GG,waitForNone:JG,waitForAny:XG,waitForAll:QG,waitForAllSettled:YG,useRecoilValue:UG,useRecoilValueLoadable:FG,useRecoilState:DG,useRecoilStateLoadable:$G,useSetRecoilState:zG,useResetRecoilState:jG,useGetRecoilValueInfo_UNSTABLE:_7,useRecoilRefresher_UNSTABLE:tK,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:BG,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:VG,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:MG,useRecoilCallback:KG,useRecoilTransaction_UNSTABLE:oK,useGotoRecoilSnapshot:HG,useRecoilSnapshot:WG,useRecoilTransactionObserver_UNSTABLE:qG,snapshot_UNSTABLE:OG,useRetain:S_,retentionZone:PG},ZG=A_.RecoilRoot,I_=A_.atom,Mr=A_.useRecoilState;const N_=I_({key:"modalState",default:!1}),Um=I_({key:"postModal",default:!1}),L_=I_({key:"postIdState",default:"id"}),eQ=()=>{const[t,e]=E.useState({}),[n,r]=Mr(Um),[i,s]=E.useState("light");let o=Vr();function a(){oe.signOut(),o("/login")}return E.useEffect(()=>{localStorage.getItem("theme")==="dark"?(document.documentElement.classList.add("dark"),s("dark")):(document.documentElement.classList.remove("dark"),s(""))},[i]),E.useEffect(()=>{td(oe,l=>{l&&e(l)})},[oe]),b(ct,{children:H("aside",{className:"hidden sm:flex flex-col p-2 xl:items-start fixed top-0 h-full",children:[b("div",{className:"hoverEffect p-0 hover:bg-blue-100",children:b("img",{src:"https://help.twitter.com/content/dam/help-twitter/brand/logo.png",alt:"logo",width:50,height:50})}),H("div",{className:"mt-4 mb-2.5 xl:items-start",children:[b(Pg,{to:"/",children:b(Og,{text:"Home",Icon:RV})}),b(Pg,{to:"/explore",children:b(Og,{text:"Explore",Icon:BV})}),b(Pg,{to:"/users",children:b(Og,{text:"Messages",Icon:JC})})]}),b("button",{onClick:()=>r(l=>!l),className:"bg-blue-400 text-white rounded-full w-56 h-12 font-bold shadow-md hover:brightness-95 text-lg hidden xl:inline active:scale-95",children:"Tweet"}),H("div",{className:"hoverEffect py-0 text-gray-700 dark:text-white flex items-center justify-center xl:justify-start gap-x-3 mt-auto cursor-default hover:scale-100 relative",children:[H("div",{className:"group cursor-pointer py-3 duration-200 ease-in-out",children:[b("img",{className:"w-10 h-w-10 rounded-full ",src:t.photoURL==null?"https://upload.wikimedia.org/wikipedia/commons/2/2f/No-photo-m.png":t.photoURL,alt:"User"}),H("div",{className:"group-hover:inline hidden z-10 absolute top-0 -translate-y-full bg-white divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-black dark:divide-gray-50/20 border border-gray-50/20 duration-200 ease-in-out",children:[b("ul",{className:"py-2 text-sm text-gray-700 dark:text-gray-200 ",children:b("li",{children:b(Vt,{to:"/",className:"block px-4 py-2 text-black dark:text-white hoverEffect rounded-none w-full",children:"Home"})})}),b("div",{className:"py-1 cursor-pointer w-full",children:b("span",{onClick:a,className:"block px-4 py-2 text-sm  dark:text-gray-20 text-black dark:text-white hoverEffect rounded-none w-full",children:"Sign out"})})]})]}),H("div",{className:"leading-5 hidden xl:inline",children:[b("h4",{className:"font-bold dark:text-white",children:t.displayName}),H("p",{className:"text-gray-500",children:["@",t.displayName]})]}),b("div",{className:"hoverEffect hover:bg-gray-300 h-10 w-10 p-3 flex justify-center items-center ml-1",children:H("label",{className:"swap swap-rotate",children:[b("input",{type:"checkbox",className:"hidden",checked:i==="dark"}),b("svg",{onClick:()=>{localStorage.setItem("theme","dark"),s("dark")},className:"swap-on fill-current w-8 h-8 text-black dark:text-white ",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:b("path",{d:"M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"})}),b("svg",{onClick:()=>{localStorage.setItem("theme","light"),s("light")},className:"swap-off fill-current w-8 h-8 text-black dark:text-white",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:b("path",{d:"M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"})})]})})]})]})})};function YP(t,e){return function(){return t.apply(e,arguments)}}const{toString:XP}=Object.prototype,{getPrototypeOf:P_}=Object,O_=(t=>e=>{const n=XP.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ei=t=>(t=t.toLowerCase(),e=>O_(e)===t),Vm=t=>e=>typeof e===t,{isArray:_l}=Array,gc=Vm("undefined");function tQ(t){return t!==null&&!gc(t)&&t.constructor!==null&&!gc(t.constructor)&&ps(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const JP=Ei("ArrayBuffer");function nQ(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&JP(t.buffer),e}const rQ=Vm("string"),ps=Vm("function"),ZP=Vm("number"),D_=t=>t!==null&&typeof t=="object",iQ=t=>t===!0||t===!1,Nh=t=>{if(O_(t)!=="object")return!1;const e=P_(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},sQ=Ei("Date"),oQ=Ei("File"),aQ=Ei("Blob"),lQ=Ei("FileList"),uQ=t=>D_(t)&&ps(t.pipe),cQ=t=>{const e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||XP.call(t)===e||ps(t.toString)&&t.toString()===e)},dQ=Ei("URLSearchParams"),hQ=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function cd(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),_l(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function eO(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const tO=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),nO=t=>!gc(t)&&t!==tO;function v0(){const{caseless:t}=nO(this)&&this||{},e={},n=(r,i)=>{const s=t&&eO(e,i)||i;Nh(e[s])&&Nh(r)?e[s]=v0(e[s],r):Nh(r)?e[s]=v0({},r):_l(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&cd(arguments[r],n);return e}const fQ=(t,e,n,{allOwnKeys:r}={})=>(cd(e,(i,s)=>{n&&ps(i)?t[s]=YP(i,n):t[s]=i},{allOwnKeys:r}),t),pQ=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),mQ=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},gQ=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&P_(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},yQ=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},vQ=t=>{if(!t)return null;if(_l(t))return t;let e=t.length;if(!ZP(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},wQ=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&P_(Uint8Array)),_Q=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},EQ=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},bQ=Ei("HTMLFormElement"),SQ=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),$T=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),TQ=Ei("RegExp"),rO=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};cd(n,(i,s)=>{e(i,s,t)!==!1&&(r[s]=i)}),Object.defineProperties(t,r)},xQ=t=>{rO(t,(e,n)=>{if(ps(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(ps(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},RQ=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return _l(t)?r(t):r(String(t).split(e)),n},kQ=()=>{},CQ=(t,e)=>(t=+t,Number.isFinite(t)?t:e),ly="abcdefghijklmnopqrstuvwxyz",UT="0123456789",iO={DIGIT:UT,ALPHA:ly,ALPHA_DIGIT:ly+ly.toUpperCase()+UT},AQ=(t=16,e=iO.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function IQ(t){return!!(t&&ps(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const NQ=t=>{const e=new Array(10),n=(r,i)=>{if(D_(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=_l(r)?[]:{};return cd(r,(o,a)=>{const l=n(o,i+1);!gc(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},M={isArray:_l,isArrayBuffer:JP,isBuffer:tQ,isFormData:cQ,isArrayBufferView:nQ,isString:rQ,isNumber:ZP,isBoolean:iQ,isObject:D_,isPlainObject:Nh,isUndefined:gc,isDate:sQ,isFile:oQ,isBlob:aQ,isRegExp:TQ,isFunction:ps,isStream:uQ,isURLSearchParams:dQ,isTypedArray:wQ,isFileList:lQ,forEach:cd,merge:v0,extend:fQ,trim:hQ,stripBOM:pQ,inherits:mQ,toFlatObject:gQ,kindOf:O_,kindOfTest:Ei,endsWith:yQ,toArray:vQ,forEachEntry:_Q,matchAll:EQ,isHTMLForm:bQ,hasOwnProperty:$T,hasOwnProp:$T,reduceDescriptors:rO,freezeMethods:xQ,toObjectSet:RQ,toCamelCase:SQ,noop:kQ,toFiniteNumber:CQ,findKey:eO,global:tO,isContextDefined:nO,ALPHABET:iO,generateString:AQ,isSpecCompliantForm:IQ,toJSONObject:NQ};function Fe(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}M.inherits(Fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:M.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const sO=Fe.prototype,oO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{oO[t]={value:t}});Object.defineProperties(Fe,oO);Object.defineProperty(sO,"isAxiosError",{value:!0});Fe.from=(t,e,n,r,i,s)=>{const o=Object.create(sO);return M.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Fe.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const LQ=null;function w0(t){return M.isPlainObject(t)||M.isArray(t)}function aO(t){return M.endsWith(t,"[]")?t.slice(0,-2):t}function VT(t,e,n){return t?t.concat(e).map(function(i,s){return i=aO(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function PQ(t){return M.isArray(t)&&!t.some(w0)}const OQ=M.toFlatObject(M,{},null,function(e){return/^is[A-Z]/.test(e)});function Fm(t,e,n){if(!M.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=M.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,w){return!M.isUndefined(w[p])});const r=n.metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&M.isSpecCompliantForm(e);if(!M.isFunction(i))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(M.isDate(m))return m.toISOString();if(!l&&M.isBlob(m))throw new Fe("Blob is not supported. Use a Buffer instead.");return M.isArrayBuffer(m)||M.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function c(m,p,w){let v=m;if(m&&!w&&typeof m=="object"){if(M.endsWith(p,"{}"))p=r?p:p.slice(0,-2),m=JSON.stringify(m);else if(M.isArray(m)&&PQ(m)||(M.isFileList(m)||M.endsWith(p,"[]"))&&(v=M.toArray(m)))return p=aO(p),v.forEach(function(y,_){!(M.isUndefined(y)||y===null)&&e.append(o===!0?VT([p],_,s):o===null?p:p+"[]",u(y))}),!1}return w0(m)?!0:(e.append(VT(w,p,s),u(m)),!1)}const d=[],h=Object.assign(OQ,{defaultVisitor:c,convertValue:u,isVisitable:w0});function f(m,p){if(!M.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+p.join("."));d.push(m),M.forEach(m,function(v,g){(!(M.isUndefined(v)||v===null)&&i.call(e,v,M.isString(g)?g.trim():g,p,h))===!0&&f(v,p?p.concat(g):[g])}),d.pop()}}if(!M.isObject(t))throw new TypeError("data must be an object");return f(t),e}function FT(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function M_(t,e){this._pairs=[],t&&Fm(t,this,e)}const lO=M_.prototype;lO.append=function(e,n){this._pairs.push([e,n])};lO.toString=function(e){const n=e?function(r){return e.call(this,r,FT)}:FT;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function DQ(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function uO(t,e,n){if(!e)return t;const r=n&&n.encode||DQ,i=n&&n.serialize;let s;if(i?s=i(e,n):s=M.isURLSearchParams(e)?e.toString():new M_(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class MQ{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){M.forEach(this.handlers,function(r){r!==null&&e(r)})}}const BT=MQ,cO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$Q=typeof URLSearchParams<"u"?URLSearchParams:M_,UQ=typeof FormData<"u"?FormData:null,VQ=typeof Blob<"u"?Blob:null,FQ=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),BQ=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Rr={isBrowser:!0,classes:{URLSearchParams:$Q,FormData:UQ,Blob:VQ},isStandardBrowserEnv:FQ,isStandardBrowserWebWorkerEnv:BQ,protocols:["http","https","file","blob","url","data"]};function jQ(t,e){return Fm(t,new Rr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Rr.isNode&&M.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function zQ(t){return M.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function HQ(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function dO(t){function e(n,r,i,s){let o=n[s++];const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&M.isArray(i)?i.length:o,l?(M.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!M.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&M.isArray(i[o])&&(i[o]=HQ(i[o])),!a)}if(M.isFormData(t)&&M.isFunction(t.entries)){const n={};return M.forEachEntry(t,(r,i)=>{e(zQ(r),i,n,0)}),n}return null}const WQ={"Content-Type":void 0};function qQ(t,e,n){if(M.isString(t))try{return(e||JSON.parse)(t),M.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Bm={transitional:cO,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=M.isObject(e);if(s&&M.isHTMLForm(e)&&(e=new FormData(e)),M.isFormData(e))return i&&i?JSON.stringify(dO(e)):e;if(M.isArrayBuffer(e)||M.isBuffer(e)||M.isStream(e)||M.isFile(e)||M.isBlob(e))return e;if(M.isArrayBufferView(e))return e.buffer;if(M.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return jQ(e,this.formSerializer).toString();if((a=M.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Fm(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),qQ(e)):e}],transformResponse:[function(e){const n=this.transitional||Bm.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&M.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Fe.from(a,Fe.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Rr.classes.FormData,Blob:Rr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};M.forEach(["delete","get","head"],function(e){Bm.headers[e]={}});M.forEach(["post","put","patch"],function(e){Bm.headers[e]=M.merge(WQ)});const $_=Bm,KQ=M.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),GQ=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&KQ[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},jT=Symbol("internals");function Bl(t){return t&&String(t).trim().toLowerCase()}function Lh(t){return t===!1||t==null?t:M.isArray(t)?t.map(Lh):String(t)}function QQ(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}function YQ(t){return/^[-_a-zA-Z]+$/.test(t.trim())}function uy(t,e,n,r,i){if(M.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!M.isString(e)){if(M.isString(r))return e.indexOf(r)!==-1;if(M.isRegExp(r))return r.test(e)}}function XQ(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function JQ(t,e){const n=M.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class jm{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,u){const c=Bl(l);if(!c)throw new Error("header name must be a non-empty string");const d=M.findKey(i,c);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||l]=Lh(a))}const o=(a,l)=>M.forEach(a,(u,c)=>s(u,c,l));return M.isPlainObject(e)||e instanceof this.constructor?o(e,n):M.isString(e)&&(e=e.trim())&&!YQ(e)?o(GQ(e),n):e!=null&&s(n,e,r),this}get(e,n){if(e=Bl(e),e){const r=M.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return QQ(i);if(M.isFunction(n))return n.call(this,i,r);if(M.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Bl(e),e){const r=M.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||uy(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Bl(o),o){const a=M.findKey(r,o);a&&(!n||uy(r,r[a],a,n))&&(delete r[a],i=!0)}}return M.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||uy(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return M.forEach(this,(i,s)=>{const o=M.findKey(r,s);if(o){n[o]=Lh(i),delete n[s];return}const a=e?XQ(s):String(s).trim();a!==s&&delete n[s],n[a]=Lh(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return M.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&M.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[jT]=this[jT]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Bl(o);r[a]||(JQ(i,o),r[a]=!0)}return M.isArray(e)?e.forEach(s):s(e),this}}jm.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);M.freezeMethods(jm.prototype);M.freezeMethods(jm);const oi=jm;function cy(t,e){const n=this||$_,r=e||n,i=oi.from(r.headers);let s=r.data;return M.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function hO(t){return!!(t&&t.__CANCEL__)}function dd(t,e,n){Fe.call(this,t??"canceled",Fe.ERR_CANCELED,e,n),this.name="CanceledError"}M.inherits(dd,Fe,{__CANCEL__:!0});function ZQ(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Fe("Request failed with status code "+n.status,[Fe.ERR_BAD_REQUEST,Fe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const eY=Rr.isStandardBrowserEnv?function(){return{write:function(n,r,i,s,o,a){const l=[];l.push(n+"="+encodeURIComponent(r)),M.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),M.isString(s)&&l.push("path="+s),M.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function tY(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function nY(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function fO(t,e){return t&&!tY(e)?nY(t,e):e}const rY=Rr.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=M.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function iY(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function sY(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[s];o||(o=u),n[i]=l,r[i]=u;let d=s,h=0;for(;d!==i;)h+=n[d++],d=d%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const f=c&&u-c;return f?Math.round(h*1e3/f):void 0}}function zT(t,e){let n=0;const r=sY(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,l=r(a),u=s<=o;n=s;const c={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&u?(o-s)/l:void 0,event:i};c[e?"download":"upload"]=!0,t(c)}}const oY=typeof XMLHttpRequest<"u",aY=oY&&function(t){return new Promise(function(n,r){let i=t.data;const s=oi.from(t.headers).normalize(),o=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}M.isFormData(i)&&(Rr.isStandardBrowserEnv||Rr.isStandardBrowserWebWorkerEnv)&&s.setContentType(!1);let u=new XMLHttpRequest;if(t.auth){const f=t.auth.username||"",m=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(f+":"+m))}const c=fO(t.baseURL,t.url);u.open(t.method.toUpperCase(),uO(c,t.params,t.paramsSerializer),!0),u.timeout=t.timeout;function d(){if(!u)return;const f=oi.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),p={data:!o||o==="text"||o==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:f,config:t,request:u};ZQ(function(v){n(v),l()},function(v){r(v),l()},p),u=null}if("onloadend"in u?u.onloadend=d:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(d)},u.onabort=function(){u&&(r(new Fe("Request aborted",Fe.ECONNABORTED,t,u)),u=null)},u.onerror=function(){r(new Fe("Network Error",Fe.ERR_NETWORK,t,u)),u=null},u.ontimeout=function(){let m=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const p=t.transitional||cO;t.timeoutErrorMessage&&(m=t.timeoutErrorMessage),r(new Fe(m,p.clarifyTimeoutError?Fe.ETIMEDOUT:Fe.ECONNABORTED,t,u)),u=null},Rr.isStandardBrowserEnv){const f=(t.withCredentials||rY(c))&&t.xsrfCookieName&&eY.read(t.xsrfCookieName);f&&s.set(t.xsrfHeaderName,f)}i===void 0&&s.setContentType(null),"setRequestHeader"in u&&M.forEach(s.toJSON(),function(m,p){u.setRequestHeader(p,m)}),M.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),o&&o!=="json"&&(u.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&u.addEventListener("progress",zT(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",zT(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=f=>{u&&(r(!f||f.type?new dd(null,t,u):f),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const h=iY(c);if(h&&Rr.protocols.indexOf(h)===-1){r(new Fe("Unsupported protocol "+h+":",Fe.ERR_BAD_REQUEST,t));return}u.send(i||null)})},Ph={http:LQ,xhr:aY};M.forEach(Ph,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const lY={getAdapter:t=>{t=M.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let i=0;i<e&&(n=t[i],!(r=M.isString(n)?Ph[n.toLowerCase()]:n));i++);if(!r)throw r===!1?new Fe(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(M.hasOwnProp(Ph,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!M.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:Ph};function dy(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new dd(null,t)}function HT(t){return dy(t),t.headers=oi.from(t.headers),t.data=cy.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),lY.getAdapter(t.adapter||$_.adapter)(t).then(function(r){return dy(t),r.data=cy.call(t,t.transformResponse,r),r.headers=oi.from(r.headers),r},function(r){return hO(r)||(dy(t),r&&r.response&&(r.response.data=cy.call(t,t.transformResponse,r.response),r.response.headers=oi.from(r.response.headers))),Promise.reject(r)})}const WT=t=>t instanceof oi?t.toJSON():t;function Ka(t,e){e=e||{};const n={};function r(u,c,d){return M.isPlainObject(u)&&M.isPlainObject(c)?M.merge.call({caseless:d},u,c):M.isPlainObject(c)?M.merge({},c):M.isArray(c)?c.slice():c}function i(u,c,d){if(M.isUndefined(c)){if(!M.isUndefined(u))return r(void 0,u,d)}else return r(u,c,d)}function s(u,c){if(!M.isUndefined(c))return r(void 0,c)}function o(u,c){if(M.isUndefined(c)){if(!M.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,d){if(d in e)return r(u,c);if(d in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>i(WT(u),WT(c),!0)};return M.forEach(Object.keys(t).concat(Object.keys(e)),function(c){const d=l[c]||i,h=d(t[c],e[c],c);M.isUndefined(h)&&d!==a||(n[c]=h)}),n}const pO="1.3.4",U_={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{U_[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const qT={};U_.transitional=function(e,n,r){function i(s,o){return"[Axios v"+pO+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new Fe(i(o," has been removed"+(n?" in "+n:"")),Fe.ERR_DEPRECATED);return n&&!qT[o]&&(qT[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function uY(t,e,n){if(typeof t!="object")throw new Fe("options must be an object",Fe.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new Fe("option "+s+" must be "+l,Fe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Fe("Unknown option "+s,Fe.ERR_BAD_OPTION)}}const _0={assertOptions:uY,validators:U_},ki=_0.validators;class Df{constructor(e){this.defaults=e,this.interceptors={request:new BT,response:new BT}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ka(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&_0.assertOptions(r,{silentJSONParsing:ki.transitional(ki.boolean),forcedJSONParsing:ki.transitional(ki.boolean),clarifyTimeoutError:ki.transitional(ki.boolean)},!1),i!==void 0&&_0.assertOptions(i,{encode:ki.function,serialize:ki.function},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o;o=s&&M.merge(s.common,s[n.method]),o&&M.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),n.headers=oi.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(l=l&&p.synchronous,a.unshift(p.fulfilled,p.rejected))});const u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});let c,d=0,h;if(!l){const m=[HT.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,u),h=m.length,c=Promise.resolve(n);d<h;)c=c.then(m[d++],m[d++]);return c}h=a.length;let f=n;for(d=0;d<h;){const m=a[d++],p=a[d++];try{f=m(f)}catch(w){p.call(this,w);break}}try{c=HT.call(this,f)}catch(m){return Promise.reject(m)}for(d=0,h=u.length;d<h;)c=c.then(u[d++],u[d++]);return c}getUri(e){e=Ka(this.defaults,e);const n=fO(e.baseURL,e.url);return uO(n,e.params,e.paramsSerializer)}}M.forEach(["delete","get","head","options"],function(e){Df.prototype[e]=function(n,r){return this.request(Ka(r||{},{method:e,url:n,data:(r||{}).data}))}});M.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(Ka(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Df.prototype[e]=n(),Df.prototype[e+"Form"]=n(!0)});const Oh=Df;class V_{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new dd(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new V_(function(i){e=i}),cancel:e}}}const cY=V_;function dY(t){return function(n){return t.apply(null,n)}}function hY(t){return M.isObject(t)&&t.isAxiosError===!0}const E0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(E0).forEach(([t,e])=>{E0[e]=t});const fY=E0;function mO(t){const e=new Oh(t),n=YP(Oh.prototype.request,e);return M.extend(n,Oh.prototype,e,{allOwnKeys:!0}),M.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return mO(Ka(t,i))},n}const Ot=mO($_);Ot.Axios=Oh;Ot.CanceledError=dd;Ot.CancelToken=cY;Ot.isCancel=hO;Ot.VERSION=pO;Ot.toFormData=Fm;Ot.AxiosError=Fe;Ot.Cancel=Ot.CanceledError;Ot.all=function(e){return Promise.all(e)};Ot.spread=dY;Ot.isAxiosError=hY;Ot.mergeConfig=Ka;Ot.AxiosHeaders=oi;Ot.formToJSON=t=>dO(M.isHTMLForm(t)?new FormData(t):t);Ot.HttpStatusCode=fY;Ot.default=Ot;const F_=Ot,pY=()=>{const[t,e]=E.useState([]);return E.useEffect(()=>{async function n(){try{const{data:{articles:r}}=await F_.get("https://saurav.tech/NewsAPI/top-headlines/category/technology/us.json");e(r)}catch(r){console.log(r)}}n()},[]),b(ct,{children:H("div",{className:"text-gray-700 dark:text-white space-y-3 bg-gray-100 dark:bg-[#16181C] rounded-xl pt-2  ",children:[b("h4",{className:"font-bold text-xl px-4 mb-3",children:"Trending News"}),t.slice(0,3).map((n,r)=>b("a",{rel:"noreferrer",href:n.url,target:"_blank",children:H("div",{className:"flex items-center justify-between px-4 py-2 space-x-1 hover:bg-gray-50/5 transition duration-500 ease-out ",children:[H("div",{className:"space-y-0.5 overflow-hidden",children:[b("h6",{className:"text-sm font-bold ",children:n.title}),b("p",{className:"text-xs font-medium text-gray-500",children:n.source.name})]}),b("img",{className:"rounded-xl object-cover",width:"70",src:n.urlToImage,alt:n.title})]})},r*1e3)),b(Vt,{to:"/explore",children:b("button",{className:"text-blue-300 pl-4 pb-3 hover:text-blue-400",children:"Show more"})})]})})},mY=()=>{const[t,e]=E.useState([]);return E.useEffect(()=>{async function n(){try{const{data:{articles:r}}=await F_.get("https://saurav.tech/NewsAPI/top-headlines/category/technology/us.json");e(r)}catch(r){console.log(r)}}n()},[]),b(ct,{children:H("div",{className:" text-gray-700 dark:text-white space-y-3 bg-gray-100 dark:bg-[#16181C] rounded-xl pt-2 ",children:[b("h4",{className:"font-bold text-xl px-4 mb-3",children:"Who to follow"}),t.slice(0,2).map((n,r)=>b("a",{rel:"noreferrer",href:n.url,target:"_blank",children:H("div",{className:"flex items-center justify-between px-4 py-2 space-x-1 hover:bg-gray-50/5 transition duration-500 ease-out ",children:[H("div",{className:"space-y-0.5 overflow-hidden",children:[b("h6",{className:"text-sm font-bold ",children:n.title}),b("p",{className:"text-xs font-medium text-gray-500",children:n.source.name})]}),b("img",{className:"rounded-xl object-cover",width:"70",src:n.urlToImage,alt:n.title})]})},r*500)),b("button",{className:"text-blue-300 pl-4 pb-3 hover:text-blue-400",children:"Show more"})]})})},gY=()=>b(ct,{children:b("div",{className:"sticky top-3 bg-white dark:bg-black pt-2w z-50 space-y-3 flex flex-col justify-center items-start",children:H("div",{className:"flex items-center p-3 rounded-ful relative w-full",children:[b(rF,{className:"h-5 z-50 text-gray-700 dark:text-gray-500"}),b("input",{type:"text",placeholder:"Search Twitter",className:"absolute inset-0 rounded-full pl-11 border-gray-500 dark:border-0 focus: dark:text-white placeholder:text-gray-500 focus:shadow-md  bg-gray-100 dark:bg-[#16181C] focus:dark:bg-black focus:bg-white duration-150 ease-in-out w-full"})]})})}),yY=()=>b(ct,{children:H("aside",{className:"w-full hidden lg:inline ml-8 space-y-5 h-fit sticky top-0 overflow-hidden",children:[b(gY,{}),b(pY,{}),b(mY,{})]})}),gO=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),zm=E.createContext({}),Hm=E.createContext(null),Wm=typeof document<"u",Mf=Wm?E.useLayoutEffect:E.useEffect,yO=E.createContext({strict:!1});function vY(t,e,n,r){const{visualElement:i}=E.useContext(zm),s=E.useContext(yO),o=E.useContext(Hm),a=E.useContext(gO).reducedMotion,l=E.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;return E.useInsertionEffect(()=>{u&&u.update(n,o)}),Mf(()=>{u&&u.render()}),E.useEffect(()=>{u&&u.updateFeatures()}),(window.HandoffAppearAnimations?Mf:E.useEffect)(()=>{u&&u.animationState&&u.animationState.animateChanges()}),u}function sa(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function wY(t,e,n){return E.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):sa(n)&&(n.current=r))},[e])}function yc(t){return typeof t=="string"||Array.isArray(t)}function qm(t){return typeof t=="object"&&typeof t.start=="function"}const B_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],j_=["initial",...B_];function Km(t){return qm(t.animate)||j_.some(e=>yc(t[e]))}function vO(t){return Boolean(Km(t)||t.variants)}function _Y(t,e){if(Km(t)){const{initial:n,animate:r}=t;return{initial:n===!1||yc(n)?n:void 0,animate:yc(r)?r:void 0}}return t.inherit!==!1?e:{}}function EY(t){const{initial:e,animate:n}=_Y(t,E.useContext(zm));return E.useMemo(()=>({initial:e,animate:n}),[KT(e),KT(n)])}function KT(t){return Array.isArray(t)?t.join(" "):t}const GT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},vc={};for(const t in GT)vc[t]={isEnabled:e=>GT[t].some(n=>!!e[n])};function bY(t){for(const e in t)vc[e]={...vc[e],...t[e]}}function z_(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const Su={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let SY=1;function TY(){return z_(()=>{if(Su.hasEverUpdated)return SY++})}const H_=E.createContext({}),wO=E.createContext({}),xY=Symbol.for("motionComponentSymbol");function RY({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&bY(t);function s(a,l){let u;const c={...E.useContext(gO),...a,layoutId:kY(a)},{isStatic:d}=c,h=EY(a),f=d?void 0:TY(),m=r(a,d);if(!d&&Wm){h.visualElement=vY(i,m,c,e);const p=E.useContext(wO),w=E.useContext(yO).strict;h.visualElement&&(u=h.visualElement.loadFeatures(c,w,t,f,p))}return E.createElement(zm.Provider,{value:h},u&&h.visualElement?E.createElement(u,{visualElement:h.visualElement,...c}):null,n(i,a,f,wY(m,h.visualElement,l),m,d,h.visualElement))}const o=E.forwardRef(s);return o[xY]=i,o}function kY({layoutId:t}){const e=E.useContext(H_).id;return e&&t!==void 0?e+"-"+t:t}function CY(t){function e(r,i={}){return RY(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const AY=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function W_(t){return typeof t!="string"||t.includes("-")?!1:!!(AY.indexOf(t)>-1||/[A-Z]/.test(t))}const $f={};function IY(t){Object.assign($f,t)}const Gm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Do=new Set(Gm);function _O(t,{layout:e,layoutId:n}){return Do.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!$f[t]||t==="opacity")}const Nn=t=>Boolean(t&&t.getVelocity),NY={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},LY=Gm.length;function PY(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<LY;o++){const a=Gm[o];if(t[a]!==void 0){const l=NY[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const EO=t=>e=>typeof e=="string"&&e.startsWith(t),bO=EO("--"),b0=EO("var(--"),OY=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Eo=(t,e,n)=>Math.min(Math.max(n,t),e),Mo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Tu={...Mo,transform:t=>Eo(0,1,t)},Jd={...Mo,default:1},xu=t=>Math.round(t*1e5)/1e5,wc=/(-)?([\d]*\.?[\d])+/g,S0=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,DY=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function hd(t){return typeof t=="string"}const fd=t=>({test:e=>hd(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ci=fd("deg"),Pr=fd("%"),be=fd("px"),MY=fd("vh"),$Y=fd("vw"),QT={...Pr,parse:t=>Pr.parse(t)/100,transform:t=>Pr.transform(t*100)},YT={...Mo,transform:Math.round},SO={borderWidth:be,borderTopWidth:be,borderRightWidth:be,borderBottomWidth:be,borderLeftWidth:be,borderRadius:be,radius:be,borderTopLeftRadius:be,borderTopRightRadius:be,borderBottomRightRadius:be,borderBottomLeftRadius:be,width:be,maxWidth:be,height:be,maxHeight:be,size:be,top:be,right:be,bottom:be,left:be,padding:be,paddingTop:be,paddingRight:be,paddingBottom:be,paddingLeft:be,margin:be,marginTop:be,marginRight:be,marginBottom:be,marginLeft:be,rotate:Ci,rotateX:Ci,rotateY:Ci,rotateZ:Ci,scale:Jd,scaleX:Jd,scaleY:Jd,scaleZ:Jd,skew:Ci,skewX:Ci,skewY:Ci,distance:be,translateX:be,translateY:be,translateZ:be,x:be,y:be,z:be,perspective:be,transformPerspective:be,opacity:Tu,originX:QT,originY:QT,originZ:be,zIndex:YT,fillOpacity:Tu,strokeOpacity:Tu,numOctaves:YT};function q_(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,u=!1,c=!0;for(const d in e){const h=e[d];if(bO(d)){s[d]=h;continue}const f=SO[d],m=OY(h,f);if(Do.has(d)){if(l=!0,o[d]=m,!c)continue;h!==(f.default||0)&&(c=!1)}else d.startsWith("origin")?(u=!0,a[d]=m):i[d]=m}if(e.transform||(l||r?i.transform=PY(t.transform,n,c,r):i.transform&&(i.transform="none")),u){const{originX:d="50%",originY:h="50%",originZ:f=0}=a;i.transformOrigin=`${d} ${h} ${f}`}}const K_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function TO(t,e,n){for(const r in e)!Nn(e[r])&&!_O(r,n)&&(t[r]=e[r])}function UY({transformTemplate:t},e,n){return E.useMemo(()=>{const r=K_();return q_(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function VY(t,e,n){const r=t.style||{},i={};return TO(i,r,t),Object.assign(i,UY(t,e,n)),t.transformValues?t.transformValues(i):i}function FY(t,e,n){const r={},i=VY(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const BY=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Uf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||BY.has(t)}let xO=t=>!Uf(t);function jY(t){t&&(xO=e=>e.startsWith("on")?!Uf(e):t(e))}try{jY(require("@emotion/is-prop-valid").default)}catch{}function zY(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(xO(i)||n===!0&&Uf(i)||!e&&!Uf(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function XT(t,e,n){return typeof t=="string"?t:be.transform(e+n*t)}function HY(t,e,n){const r=XT(e,t.x,t.width),i=XT(n,t.y,t.height);return`${r} ${i}`}const WY={offset:"stroke-dashoffset",array:"stroke-dasharray"},qY={offset:"strokeDashoffset",array:"strokeDasharray"};function KY(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?WY:qY;t[s.offset]=be.transform(-r);const o=be.transform(e),a=be.transform(n);t[s.array]=`${o} ${a}`}function G_(t,{attrX:e,attrY:n,originX:r,originY:i,pathLength:s,pathSpacing:o=1,pathOffset:a=0,...l},u,c,d){if(q_(t,l,u,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f,dimensions:m}=t;h.transform&&(m&&(f.transform=h.transform),delete h.transform),m&&(r!==void 0||i!==void 0||f.transform)&&(f.transformOrigin=HY(m,r!==void 0?r:.5,i!==void 0?i:.5)),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),s!==void 0&&KY(h,s,o,a,!1)}const RO=()=>({...K_(),attrs:{}}),Q_=t=>typeof t=="string"&&t.toLowerCase()==="svg";function GY(t,e,n,r){const i=E.useMemo(()=>{const s=RO();return G_(s,e,{enableHardwareAcceleration:!1},Q_(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};TO(s,t.style,t),i.style={...s,...i.style}}return i}function QY(t=!1){return(n,r,i,s,{latestValues:o},a)=>{const u=(W_(n)?GY:FY)(r,o,a,n),d={...zY(r,typeof n=="string",t),...u,ref:s},{children:h}=r,f=E.useMemo(()=>Nn(h)?h.get():h,[h]);return i&&(d["data-projection-id"]=i),E.createElement(n,{...d,children:f})}}const Y_=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function kO(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const CO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function AO(t,e,n,r){kO(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(CO.has(i)?i:Y_(i),e.attrs[i])}function X_(t,e){const{style:n}=t,r={};for(const i in n)(Nn(n[i])||e.style&&Nn(e.style[i])||_O(i,t))&&(r[i]=n[i]);return r}function IO(t,e){const n=X_(t,e);for(const r in t)if(Nn(t[r])||Nn(e[r])){const i=r==="x"||r==="y"?"attr"+r.toUpperCase():r;n[i]=t[r]}return n}function J_(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}const Vf=t=>Array.isArray(t),YY=t=>Boolean(t&&typeof t=="object"&&t.mix&&t.toValue),XY=t=>Vf(t)?t[t.length-1]||0:t;function Dh(t){const e=Nn(t)?t.get():t;return YY(e)?e.toValue():e}function JY({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:ZY(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const NO=t=>(e,n)=>{const r=E.useContext(zm),i=E.useContext(Hm),s=()=>JY(t,e,r,i);return n?s():z_(s)};function ZY(t,e,n,r){const i={},s=r(t,{});for(const h in s)i[h]=Dh(s[h]);let{initial:o,animate:a}=t;const l=Km(t),u=vO(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const d=c?a:o;return d&&typeof d!="boolean"&&!qm(d)&&(Array.isArray(d)?d:[d]).forEach(f=>{const m=J_(t,f);if(!m)return;const{transitionEnd:p,transition:w,...v}=m;for(const g in v){let y=v[g];if(Array.isArray(y)){const _=c?y.length-1:0;y=y[_]}y!==null&&(i[g]=y)}for(const g in p)i[g]=p[g]}),i}const eX={useVisualState:NO({scrapeMotionValuesFromProps:IO,createRenderState:RO,onMount:(t,e,{renderState:n,latestValues:r})=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}G_(n,r,{enableHardwareAcceleration:!1},Q_(e.tagName),t.transformTemplate),AO(e,n)}})},tX={useVisualState:NO({scrapeMotionValuesFromProps:X_,createRenderState:K_})};function nX(t,{forwardMotionProps:e=!1},n,r){return{...W_(t)?eX:tX,preloadedFeatures:n,useRender:QY(e),createVisualElement:r,Component:t}}function ri(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const LO=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Qm(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const rX=t=>e=>LO(e)&&t(e,Qm(e));function ai(t,e,n,r){return ri(t,e,rX(n),r)}const iX=(t,e)=>n=>e(t(n)),is=(...t)=>t.reduce(iX);function PO(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const JT=PO("dragHorizontal"),ZT=PO("dragVertical");function OO(t){let e=!1;if(t==="y")e=ZT();else if(t==="x")e=JT();else{const n=JT(),r=ZT();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function DO(){const t=OO(!0);return t?(t(),!1):!0}class Rs{constructor(e){this.isMounted=!1,this.node=e}update(){}}function sX(t){let e=[],n=[],r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const d=c&&i,h=d?e:n;return u&&o.add(l),h.indexOf(l)===-1&&(h.push(l),d&&i&&(r=e.length)),l},cancel:l=>{const u=n.indexOf(l);u!==-1&&n.splice(u,1),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let u=0;u<r;u++){const c=e[u];c(l),o.has(c)&&(a.schedule(c),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const sn={delta:0,timestamp:0,isProcessing:!1},oX=40;let T0=!0,_c=!1;const pd=["read","update","preRender","render","postRender"],Ym=pd.reduce((t,e)=>(t[e]=sX(()=>_c=!0),t),{}),st=pd.reduce((t,e)=>{const n=Ym[e];return t[e]=(r,i=!1,s=!1)=>(_c||lX(),n.schedule(r,i,s)),t},{}),ms=pd.reduce((t,e)=>(t[e]=Ym[e].cancel,t),{}),hy=pd.reduce((t,e)=>(t[e]=()=>Ym[e].process(sn),t),{}),aX=t=>Ym[t].process(sn),MO=t=>{_c=!1,sn.delta=T0?1e3/60:Math.max(Math.min(t-sn.timestamp,oX),1),sn.timestamp=t,sn.isProcessing=!0,pd.forEach(aX),sn.isProcessing=!1,_c&&(T0=!1,requestAnimationFrame(MO))},lX=()=>{_c=!0,T0=!0,sn.isProcessing||requestAnimationFrame(MO)};function ex(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||DO())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&st.update(()=>a[r](s,o))};return ai(t.current,n,i,{passive:!t.getProps()[r]})}class uX extends Rs{mount(){this.unmount=is(ex(this.node,!0),ex(this.node,!1))}unmount(){}}class cX extends Rs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=is(ri(this.node.current,"focus",()=>this.onFocus()),ri(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const $O=(t,e)=>e?t===e?!0:$O(t,e.parentElement):!1,Ht=t=>t;function fy(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Qm(n))}class dX extends Rs{constructor(){super(...arguments),this.removeStartListeners=Ht,this.removeEndListeners=Ht,this.removeAccessibleListeners=Ht,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),s=ai(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c}=this.node.getProps();st.update(()=>{$O(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=ai(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=is(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||fy("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&st.update(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=ri(this.node.current,"keyup",o),fy("down",(a,l)=>{this.startPress(a,l)})},n=ri(this.node.current,"keydown",e),r=()=>{this.isPressing&&fy("cancel",(s,o)=>this.cancelPress(s,o))},i=ri(this.node.current,"blur",r);this.removeAccessibleListeners=is(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&st.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!DO()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&st.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=ai(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=ri(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=is(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const x0=new WeakMap,py=new WeakMap,hX=t=>{const e=x0.get(t.target);e&&e(t)},fX=t=>{t.forEach(hX)};function pX({root:t,...e}){const n=t||document;py.has(n)||py.set(n,{});const r=py.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(fX,{root:t,...e})),r[i]}function mX(t,e,n){const r=pX(e);return x0.set(t,n),r.observe(t),()=>{x0.delete(t),r.unobserve(t)}}const gX={some:0,all:1};class yX extends Rs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:gX[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),h=u?c:d;h&&h(l)};return mX(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(vX(e,n))&&this.startObserver()}unmount(){}}function vX({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const wX={inView:{Feature:yX},tap:{Feature:dX},focus:{Feature:cX},hover:{Feature:uX}};function UO(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function _X(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function EX(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Xm(t,e,n){const r=t.getProps();return J_(r,e,n!==void 0?n:r.custom,_X(t),EX(t))}const bX="framerAppearId",SX="data-"+Y_(bX);let TX=Ht,Ff=Ht;const ss=t=>t*1e3,bo=t=>t/1e3,xX={current:!1};function RX(t){return!t||Array.isArray(t)||typeof t=="string"&&VO[t]}const nu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,VO={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:nu([0,.65,.55,1]),circOut:nu([.55,0,1,.45]),backIn:nu([.31,.01,.66,-.59]),backOut:nu([.33,1.53,.69,.99])};function kX(t){if(t)return Array.isArray(t)?nu(t):VO[t]}function CX(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:n};return l&&(u.offset=l),t.animate(u,{delay:r,duration:i,easing:kX(a),fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const tx={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},my={},FO={};for(const t in tx)FO[t]=()=>(my[t]===void 0&&(my[t]=tx[t]()),my[t]);function AX(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const BO=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,IX=1e-7,NX=12;function LX(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=BO(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>IX&&++a<NX);return o}function md(t,e,n,r){if(t===e&&n===r)return Ht;const i=s=>LX(s,0,1,t,n);return s=>s===0||s===1?s:BO(i(s),e,r)}const PX=md(.42,0,1,1),OX=md(0,0,.58,1),jO=md(.42,0,.58,1),Z_=(t,e)=>n=>Boolean(hd(n)&&DY.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),zO=(t,e,n)=>r=>{if(!hd(r))return r;const[i,s,o,a]=r.match(wc);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},DX=t=>Eo(0,255,t),gy={...Mo,transform:t=>Math.round(DX(t))},Ys={test:Z_("rgb","red"),parse:zO("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+gy.transform(t)+", "+gy.transform(e)+", "+gy.transform(n)+", "+xu(Tu.transform(r))+")"};function MX(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const R0={test:Z_("#"),parse:MX,transform:Ys.transform},oa={test:Z_("hsl","hue"),parse:zO("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Pr.transform(xu(e))+", "+Pr.transform(xu(n))+", "+xu(Tu.transform(r))+")"},fn={test:t=>Ys.test(t)||R0.test(t)||oa.test(t),parse:t=>Ys.test(t)?Ys.parse(t):oa.test(t)?oa.parse(t):R0.parse(t),transform:t=>hd(t)?t:t.hasOwnProperty("red")?Ys.transform(t):oa.transform(t)},lt=(t,e,n)=>-n*t+n*e+t;function yy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function $X({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=yy(l,a,t+1/3),s=yy(l,a,t),o=yy(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const vy=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},UX=[R0,Ys,oa],VX=t=>UX.find(e=>e.test(t));function nx(t){const e=VX(t);let n=e.parse(t);return e===oa&&(n=$X(n)),n}const HO=(t,e)=>{const n=nx(t),r=nx(e),i={...n};return s=>(i.red=vy(n.red,r.red,s),i.green=vy(n.green,r.green,s),i.blue=vy(n.blue,r.blue,s),i.alpha=lt(n.alpha,r.alpha,s),Ys.transform(i))},WO="${c}",qO="${n}";function FX(t){var e,n;return isNaN(t)&&hd(t)&&(((e=t.match(wc))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(S0))===null||n===void 0?void 0:n.length)||0)>0}function Bf(t){typeof t=="number"&&(t=`${t}`);const e=[];let n=0,r=0;const i=t.match(S0);i&&(n=i.length,t=t.replace(S0,WO),e.push(...i.map(fn.parse)));const s=t.match(wc);return s&&(r=s.length,t=t.replace(wc,qO),e.push(...s.map(Mo.parse))),{values:e,numColors:n,numNumbers:r,tokenised:t}}function KO(t){return Bf(t).values}function GO(t){const{values:e,numColors:n,tokenised:r}=Bf(t),i=e.length;return s=>{let o=r;for(let a=0;a<i;a++)o=o.replace(a<n?WO:qO,a<n?fn.transform(s[a]):xu(s[a]));return o}}const BX=t=>typeof t=="number"?0:t;function jX(t){const e=KO(t);return GO(t)(e.map(BX))}const gs={test:FX,parse:KO,createTransformer:GO,getAnimatableNone:jX};function QO(t,e){return typeof t=="number"?n=>lt(t,e,n):fn.test(t)?HO(t,e):XO(t,e)}const YO=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>QO(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},zX=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=QO(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},XO=(t,e)=>{const n=gs.createTransformer(e),r=Bf(t),i=Bf(e);return r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?is(YO(r.values,i.values),n):o=>`${o>0?e:t}`},Ec=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},rx=(t,e)=>n=>lt(t,e,n);function HX(t){return typeof t=="number"?rx:typeof t=="string"?fn.test(t)?HO:XO:Array.isArray(t)?YO:typeof t=="object"?zX:rx}function WX(t,e,n){const r=[],i=n||HX(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]:e;a=is(l,a)}r.push(a)}return r}function JO(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Ff(s===e.length),Ff(!r||!Array.isArray(r)||r.length===s-1),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=WX(e,r,i),a=o.length,l=u=>{let c=0;if(a>1)for(;c<t.length-2&&!(u<t[c+1]);c++);const d=Ec(t[c],t[c+1],u);return o[c](d)};return n?u=>l(Eo(t[0],t[s-1],u)):l}function qX(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Ec(0,e,r);t.push(lt(n,1,i))}}function KX(t){const e=[0];return qX(e,t.length-1),e}function GX(t,e){return t.map(n=>n*e)}const ZO=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,eD=t=>e=>1-t(1-e),tD=t=>1-Math.sin(Math.acos(t)),eE=eD(tD),QX=ZO(eE),nD=md(.33,1.53,.69,.99),tE=eD(nD),YX=ZO(tE),XX=t=>(t*=2)<1?.5*tE(t):.5*(2-Math.pow(2,-10*(t-1))),JX={linear:Ht,easeIn:PX,easeInOut:jO,easeOut:OX,circIn:tD,circInOut:QX,circOut:eE,backIn:tE,backInOut:YX,backOut:nD,anticipate:XX},ix=t=>{if(Array.isArray(t)){Ff(t.length===4);const[e,n,r,i]=t;return md(e,n,r,i)}else if(typeof t=="string")return JX[t];return t},ZX=t=>Array.isArray(t)&&typeof t[0]!="number";function eJ(t,e){return t.map(()=>e||jO).splice(0,t.length-1)}function jf({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=ZX(r)?r.map(ix):ix(r),s={done:!1,value:e[0]},o=GX(n&&n.length===e.length?n:KX(e),t),a=JO(o,e,{ease:Array.isArray(i)?i:eJ(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function rD(t,e){return e?t*(1e3/e):0}const tJ=5;function iD(t,e,n){const r=Math.max(e-tJ,0);return rD(n-t(r),e-r)}const wy=.001,nJ=.01,sx=10,rJ=.05,iJ=1;function sJ({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;TX(t<=ss(sx));let o=1-e;o=Eo(rJ,iJ,o),t=Eo(nJ,sx,bo(t)),o<1?(i=u=>{const c=u*o,d=c*t,h=c-n,f=k0(u,o),m=Math.exp(-d);return wy-h/f*m},s=u=>{const d=u*o*t,h=d*n+n,f=Math.pow(o,2)*Math.pow(u,2)*t,m=Math.exp(-d),p=k0(Math.pow(u,2),o);return(-i(u)+wy>0?-1:1)*((h-f)*m)/p}):(i=u=>{const c=Math.exp(-u*t),d=(u-n)*t+1;return-wy+c*d},s=u=>{const c=Math.exp(-u*t),d=(n-u)*(t*t);return c*d});const a=5/t,l=aJ(i,s,a);if(t=ss(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const oJ=12;function aJ(t,e,n){let r=n;for(let i=1;i<oJ;i++)r=r-t(r)/e(r);return r}function k0(t,e){return t*Math.sqrt(1-e*e)}const lJ=["duration","bounce"],uJ=["stiffness","damping","mass"];function ox(t,e){return e.some(n=>t[n]!==void 0)}function cJ(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!ox(t,uJ)&&ox(t,lJ)){const n=sJ(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function sD({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,velocity:c,duration:d,isResolvedFromDuration:h}=cJ(r),f=c?-bo(c):0,m=l/(2*Math.sqrt(a*u)),p=s-i,w=bo(Math.sqrt(a/u)),v=Math.abs(p)<5;n||(n=v?.01:2),e||(e=v?.005:.5);let g;if(m<1){const y=k0(w,m);g=_=>{const S=Math.exp(-m*w*_);return s-S*((f+m*w*p)/y*Math.sin(y*_)+p*Math.cos(y*_))}}else if(m===1)g=y=>s-Math.exp(-w*y)*(p+(f+w*p)*y);else{const y=w*Math.sqrt(m*m-1);g=_=>{const S=Math.exp(-m*w*_),k=Math.min(y*_,300);return s-S*((f+m*w*p)*Math.sinh(k)+y*p*Math.cosh(k))/y}}return{calculatedDuration:h&&d||null,next:y=>{const _=g(y);if(h)o.done=y>=d;else{let S=f;y!==0&&(m<1?S=iD(g,y,_):S=0);const k=Math.abs(S)<=n,R=Math.abs(s-_)<=e;o.done=k&&R}return o.value=o.done?s:_,o}}}function ax({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const d=t[0],h={done:!1,value:d},f=I=>a!==void 0&&I<a||l!==void 0&&I>l,m=I=>a===void 0?l:l===void 0||Math.abs(a-I)<Math.abs(l-I)?a:l;let p=n*e;const w=d+p,v=o===void 0?w:o(w);v!==w&&(p=v-d);const g=I=>-p*Math.exp(-I/r),y=I=>v+g(I),_=I=>{const K=g(I),z=y(I);h.done=Math.abs(K)<=u,h.value=h.done?v:z};let S,k;const R=I=>{f(h.value)&&(S=I,k=sD({keyframes:[h.value,m(h.value)],velocity:iD(y,I,h.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return R(0),{calculatedDuration:null,next:I=>{let K=!1;return!k&&S===void 0&&(K=!0,_(I),R(I)),S!==void 0&&I>S?k.next(I-S):(!K&&_(I),h)}}}const dJ=t=>{const e=({timestamp:n})=>t(n);return{start:()=>st.update(e,!0),stop:()=>ms.update(e),now:()=>sn.isProcessing?sn.timestamp:performance.now()}},hJ={decay:ax,inertia:ax,tween:jf,keyframes:jf,spring:sD},fJ=2e4;function pJ(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<fJ;)e+=n,r=t.next(e);return e}function zf({autoplay:t=!0,delay:e=0,driver:n=dJ,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:d,...h}){let f=1,m=!1,p,w;const v=()=>{p&&p(),w=new Promise(te=>{p=te})};v();let g;const y=hJ[i]||jf;let _;y!==jf&&typeof r[0]!="number"&&(_=JO([0,100],r,{clamp:!1}),r=[0,100]);const S=y({...h,keyframes:r});let k;a==="mirror"&&(k=y({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let R="idle",I=null,K=null,z=null;S.calculatedDuration===null&&s&&(S.calculatedDuration=pJ(S));const{calculatedDuration:de}=S;let ve=1/0,J=1/0;de&&(ve=de+o,J=ve*(s+1)-o);let $=0;const W=te=>{if(K===null)return;I!==null?$=I:$=(te-K)*f,$=Math.max($-e,0),R==="finished"&&I===null&&($=J);let C=$,P=S;if(s){const pe=$/ve;let we=Math.floor(pe),re=pe%1;!re&&pe>=1&&(re=1),re===1&&we--,we=Math.min(we,s+1);const De=Boolean(we%2);De&&(a==="reverse"?(re=1-re,o&&(re-=o/ve)):a==="mirror"&&(P=k));let Ge=Eo(0,1,re);$>J&&(Ge=a==="reverse"&&De?1:0),C=Ge*ve}const O=P.next(C);_&&(O.value=_(O.value));let{done:ne}=O;de!==null&&(ne=$>=J);const X=I===null&&(R==="finished"||R==="running"&&ne||f<0&&$<=0);return d&&d(O.value),X&&N(),O},Z=()=>{g&&g.stop(),g=void 0},A=()=>{R="idle",Z(),v(),K=z=null},N=()=>{R="finished",c&&c(),Z(),v()},B=()=>{if(m)return;g||(g=n(W));const te=g.now();l&&l(),R="running",I!==null?K=te-I:K||(K=te),z=K,I=null,g.start()};t&&B();const ee={then(te,C){return w.then(te,C)},get time(){return bo($)},set time(te){te=ss(te),$=te,I!==null||!g||f===0?I=te:K=g.now()-te/f},get speed(){return f},set speed(te){te===f||!g||(f=te,ee.time=bo($))},get state(){return R},play:B,pause:()=>{R="paused",I=$},stop:()=>{m=!0,R!=="idle"&&(R="idle",u&&u(),A())},cancel:()=>{z!==null&&W(z),A()},complete:()=>{R="finished"},sample:te=>(K=0,W(te))};return ee}const mJ=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Zd=10,gJ=2e4,yJ=(t,e)=>e.type==="spring"||t==="backgroundColor"||!RX(e.ease);function vJ(t,e,{onUpdate:n,onComplete:r,...i}){if(!(FO.waapi()&&mJ.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l;const u=()=>{l=new Promise(p=>{a=p})};u();let{keyframes:c,duration:d=300,ease:h}=i;if(yJ(e,i)){const p=zf({...i,repeat:0,delay:0});let w={done:!1,value:c[0]};const v=[];let g=0;for(;!w.done&&g<gJ;)w=p.sample(g),v.push(w.value),g+=Zd;c=v,d=g-Zd,h="linear"}const f=CX(t.owner.current,e,c,{...i,duration:d,ease:h}),m=()=>{st.update(()=>f.cancel()),a(),u()};return f.onfinish=()=>{t.set(AX(c,i)),r&&r(),m()},{then(p,w){return l.then(p,w)},get time(){return bo(f.currentTime||0)},set time(p){f.currentTime=ss(p)},get speed(){return f.playbackRate},set speed(p){f.playbackRate=p},play:()=>{o||f.play()},pause:()=>f.pause(),stop:()=>{if(o=!0,f.playState==="idle")return;const{currentTime:p}=f;if(p){const w=zf({...i,autoplay:!1});t.setWithVelocity(w.sample(p-Zd).value,w.sample(p).value,Zd)}m()},complete:()=>f.finish(),cancel:m}}function wJ({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,play:Ht,pause:Ht,stop:Ht,then:s=>(s(),Promise.resolve()),cancel:Ht,complete:Ht});return e?zf({keyframes:[0,1],duration:e,onComplete:i}):i()}const _J={type:"spring",stiffness:500,damping:25,restSpeed:10},EJ=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),bJ={type:"keyframes",duration:.8},SJ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},TJ=(t,{keyframes:e})=>e.length>2?bJ:Do.has(t)?t.startsWith("scale")?EJ(e[1]):_J:SJ,C0=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&gs.test(e)&&!e.startsWith("url(")),xJ=new Set(["brightness","contrast","saturate","opacity"]);function RJ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(wc)||[];if(!r)return t;const i=n.replace(r,"");let s=xJ.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const kJ=/([a-z-]*)\(.*?\)/g,A0={...gs,getAnimatableNone:t=>{const e=t.match(kJ);return e?e.map(RJ).join(" "):t}},CJ={...SO,color:fn,backgroundColor:fn,outlineColor:fn,fill:fn,stroke:fn,borderColor:fn,borderTopColor:fn,borderRightColor:fn,borderBottomColor:fn,borderLeftColor:fn,filter:A0,WebkitFilter:A0},nE=t=>CJ[t];function rE(t,e){let n=nE(t);return n!==A0&&(n=gs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}function AJ({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function lx(t){return t===0||typeof t=="string"&&parseFloat(t)===0&&t.indexOf(" ")===-1}function ux(t){return typeof t=="number"?0:rE("",t)}function oD(t,e){return t[e]||t.default||t}function IJ(t,e,n,r){const i=C0(e,n);let s=r.from!==void 0?r.from:t.get();return s==="none"&&i&&typeof n=="string"?s=rE(e,n):lx(s)&&typeof n=="string"?s=ux(n):!Array.isArray(n)&&lx(n)&&typeof s=="string"&&(n=ux(s)),Array.isArray(n)?(n[0]===null&&(n[0]=s),n):[s,n]}const iE=(t,e,n,r={})=>i=>{const s=oD(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-ss(o);const l=IJ(e,t,n,s),u=l[0],c=l[l.length-1],d=C0(t,u),h=C0(t,c);let f={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:m=>{e.set(m),s.onUpdate&&s.onUpdate(m)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(!d||!h||xX.current||s.type===!1)return wJ(f);if(AJ(s)||(f={...f,...TJ(t,f)}),f.duration&&(f.duration=ss(f.duration)),f.repeatDelay&&(f.repeatDelay=ss(f.repeatDelay)),e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const m=vJ(e,t,f);if(m)return m}return zf(f)};function Hf(t){return Boolean(Nn(t)&&t.add)}const NJ=t=>/^\-?\d*\.?\d+$/.test(t),LJ=t=>/^0[^.\s]+$/.test(t);function sE(t,e){t.indexOf(e)===-1&&t.push(e)}function oE(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class aE{constructor(){this.subscriptions=[]}add(e){return sE(this.subscriptions,e),()=>oE(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const PJ=t=>!isNaN(parseFloat(t));class OJ{constructor(e,n={}){this.version="10.6.1",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=sn;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,st.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>st.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=PJ(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new aE);const r=this.events[e].add(n);return e==="change"?()=>{r(),st.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?rD(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ga(t,e){return new OJ(t,e)}const aD=t=>e=>e.test(t),DJ={test:t=>t==="auto",parse:t=>t},lD=[Mo,be,Pr,Ci,$Y,MY,DJ],jl=t=>lD.find(aD(t)),MJ=[...lD,fn,gs],$J=t=>MJ.find(aD(t));function UJ(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ga(n))}function VJ(t,e){const n=Xm(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=XY(s[o]);UJ(t,o,a)}}function FJ(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=e[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),c!=null&&(typeof c=="string"&&(NJ(c)||LJ(c))?c=parseFloat(c):!$J(c)&&gs.test(u)&&(c=rE(l,u)),t.addValue(l,Ga(c,{owner:t})),n[l]===void 0&&(n[l]=c),c!==null&&t.setBaseTarget(l,c))}}function BJ(t,e){return e?(e[t]||e.default||e).from:void 0}function jJ(t,e,n){const r={};for(const i in t){const s=BJ(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function zJ({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function uD(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const u=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const d in a){const h=t.getValue(d),f=a[d];if(!h||f===void 0||c&&zJ(c,d))continue;const m={delay:n,elapsed:0,...s};if(window.HandoffAppearAnimations&&!h.hasAnimated){const w=t.getProps()[SX];w&&(m.elapsed=window.HandoffAppearAnimations(w,d,h,st))}h.start(iE(d,h,f,t.shouldReduceMotion&&Do.has(d)?{type:!1}:m));const p=h.animation;Hf(l)&&(l.add(d),p.then(()=>l.remove(d))),u.push(p)}return o&&Promise.all(u).then(()=>{o&&VJ(t,o)}),u}function I0(t,e,n={}){const r=Xm(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(uD(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:d}=i;return HJ(t,e,u+l,c,d,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function HJ(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(WJ).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(I0(u,e,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function WJ(t,e){return t.sortNodePosition(e)}function qJ(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>I0(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=I0(t,e,n);else{const i=typeof e=="function"?Xm(t,e,n.custom):e;r=Promise.all(uD(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const KJ=[...B_].reverse(),GJ=B_.length;function QJ(t){return e=>Promise.all(e.map(({animation:n,options:r})=>qJ(t,n,r)))}function YJ(t){let e=QJ(t);const n=JJ();let r=!0;const i=(l,u)=>{const c=Xm(t,u);if(c){const{transition:d,transitionEnd:h,...f}=c;l={...l,...f,...h}}return l};function s(l){e=l(t)}function o(l,u){const c=t.getProps(),d=t.getVariantContext(!0)||{},h=[],f=new Set;let m={},p=1/0;for(let v=0;v<GJ;v++){const g=KJ[v],y=n[g],_=c[g]!==void 0?c[g]:d[g],S=yc(_),k=g===u?y.isActive:null;k===!1&&(p=v);let R=_===d[g]&&_!==c[g]&&S;if(R&&r&&t.manuallyAnimateOnMount&&(R=!1),y.protectedKeys={...m},!y.isActive&&k===null||!_&&!y.prevProp||qm(_)||typeof _=="boolean")continue;const I=XJ(y.prevProp,_);let K=I||g===u&&y.isActive&&!R&&S||v>p&&S;const z=Array.isArray(_)?_:[_];let de=z.reduce(i,{});k===!1&&(de={});const{prevResolvedValues:ve={}}=y,J={...ve,...de},$=W=>{K=!0,f.delete(W),y.needsAnimating[W]=!0};for(const W in J){const Z=de[W],A=ve[W];m.hasOwnProperty(W)||(Z!==A?Vf(Z)&&Vf(A)?!UO(Z,A)||I?$(W):y.protectedKeys[W]=!0:Z!==void 0?$(W):f.add(W):Z!==void 0&&f.has(W)?$(W):y.protectedKeys[W]=!0)}y.prevProp=_,y.prevResolvedValues=de,y.isActive&&(m={...m,...de}),r&&t.blockInitialAnimation&&(K=!1),K&&!R&&h.push(...z.map(W=>({animation:W,options:{type:g,...l}})))}if(f.size){const v={};f.forEach(g=>{const y=t.getBaseTarget(g);y!==void 0&&(v[g]=y)}),h.push({animation:v})}let w=Boolean(h.length);return r&&c.initial===!1&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(h):Promise.resolve()}function a(l,u,c){var d;if(n[l].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(l,u)}),n[l].isActive=u;const h=o(c,l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function XJ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!UO(e,t):!1}function Is(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function JJ(){return{animate:Is(!0),whileInView:Is(),whileHover:Is(),whileTap:Is(),whileDrag:Is(),whileFocus:Is(),exit:Is()}}class ZJ extends Rs{constructor(e){super(e),e.animationState||(e.animationState=YJ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),qm(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let eZ=0;class tZ extends Rs{constructor(){super(...arguments),this.id=eZ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const nZ={animation:{Feature:ZJ},exit:{Feature:tZ}},cx=(t,e)=>Math.abs(t-e);function rZ(t,e){const n=cx(t.x,e.x),r=cx(t.y,e.y);return Math.sqrt(n**2+r**2)}class cD{constructor(e,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=Ey(this.lastMoveEventInfo,this.history),c=this.startEvent!==null,d=rZ(u.offset,{x:0,y:0})>=3;if(!c&&!d)return;const{point:h}=u,{timestamp:f}=sn;this.history.push({...h,timestamp:f});const{onStart:m,onMove:p}=this.handlers;c||(m&&m(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,u)},this.handlePointerMove=(u,c)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=_y(c,this.transformPagePoint),st.update(this.updatePoint,!0)},this.handlePointerUp=(u,c)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:d,onSessionEnd:h}=this.handlers,f=Ey(u.type==="pointercancel"?this.lastMoveEventInfo:_y(c,this.transformPagePoint),this.history);this.startEvent&&d&&d(u,f),h&&h(u,f)},!LO(e))return;this.handlers=n,this.transformPagePoint=r;const i=Qm(e),s=_y(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=sn;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=n;l&&l(e,Ey(s,this.history)),this.removeListeners=is(ai(window,"pointermove",this.handlePointerMove),ai(window,"pointerup",this.handlePointerUp),ai(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ms.update(this.updatePoint)}}function _y(t,e){return e?{point:e(t.point)}:t}function dx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ey({point:t},e){return{point:t,delta:dx(t,dD(e)),offset:dx(t,iZ(e)),velocity:sZ(e,.1)}}function iZ(t){return t[0]}function dD(t){return t[t.length-1]}function sZ(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=dD(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ss(e)));)n--;if(!r)return{x:0,y:0};const s=bo(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Fn(t){return t.max-t.min}function N0(t,e=0,n=.01){return Math.abs(t-e)<=n}function hx(t,e,n,r=.5){t.origin=r,t.originPoint=lt(e.min,e.max,t.origin),t.scale=Fn(n)/Fn(e),(N0(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=lt(n.min,n.max,t.origin)-t.originPoint,(N0(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Ru(t,e,n,r){hx(t.x,e.x,n.x,r?r.originX:void 0),hx(t.y,e.y,n.y,r?r.originY:void 0)}function fx(t,e,n){t.min=n.min+e.min,t.max=t.min+Fn(e)}function oZ(t,e,n){fx(t.x,e.x,n.x),fx(t.y,e.y,n.y)}function px(t,e,n){t.min=e.min-n.min,t.max=t.min+Fn(e)}function ku(t,e,n){px(t.x,e.x,n.x),px(t.y,e.y,n.y)}function aZ(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?lt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?lt(n,t,r.max):Math.min(t,n)),t}function mx(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function lZ(t,{top:e,left:n,bottom:r,right:i}){return{x:mx(t.x,n,i),y:mx(t.y,e,r)}}function gx(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function uZ(t,e){return{x:gx(t.x,e.x),y:gx(t.y,e.y)}}function cZ(t,e){let n=.5;const r=Fn(t),i=Fn(e);return i>r?n=Ec(e.min,e.max-r,t.min):r>i&&(n=Ec(t.min,t.max-i,e.min)),Eo(0,1,n)}function dZ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const L0=.35;function hZ(t=L0){return t===!1?t=0:t===!0&&(t=L0),{x:yx(t,"left","right"),y:yx(t,"top","bottom")}}function yx(t,e,n){return{min:vx(t,e),max:vx(t,n)}}function vx(t,e){return typeof t=="number"?t:t[e]||0}const wx=()=>({translate:0,scale:1,origin:0,originPoint:0}),Cu=()=>({x:wx(),y:wx()}),_x=()=>({min:0,max:0}),Tt=()=>({x:_x(),y:_x()});function Sr(t){return[t("x"),t("y")]}function hD({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function fZ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function pZ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function by(t){return t===void 0||t===1}function P0({scale:t,scaleX:e,scaleY:n}){return!by(t)||!by(e)||!by(n)}function Os(t){return P0(t)||fD(t)||t.z||t.rotate||t.rotateX||t.rotateY}function fD(t){return Ex(t.x)||Ex(t.y)}function Ex(t){return t&&t!=="0%"}function Wf(t,e,n){const r=t-n,i=e*r;return n+i}function bx(t,e,n,r,i){return i!==void 0&&(t=Wf(t,i,r)),Wf(t,n,r)+e}function O0(t,e=0,n=1,r,i){t.min=bx(t.min,e,n,r,i),t.max=bx(t.max,e,n,r,i)}function pD(t,{x:e,y:n}){O0(t.x,e.translate,e.scale,e.originPoint),O0(t.y,n.translate,n.scale,n.originPoint)}function mZ(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&aa(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,pD(t,o)),r&&Os(s.latestValues)&&aa(t,s.latestValues))}e.x=Sx(e.x),e.y=Sx(e.y)}function Sx(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Li(t,e){t.min=t.min+e,t.max=t.max+e}function Tx(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=lt(t.min,t.max,s);O0(t,e[n],e[r],o,e.scale)}const gZ=["x","scaleX","originX"],yZ=["y","scaleY","originY"];function aa(t,e){Tx(t.x,e,gZ),Tx(t.y,e,yZ)}function mD(t,e){return hD(pZ(t.getBoundingClientRect(),e))}function vZ(t,e,n){const r=mD(t,n),{scroll:i}=e;return i&&(Li(r.x,i.offset.x),Li(r.y,i.offset.y)),r}const wZ=new WeakMap;class _Z{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=l=>{this.stopAnimation(),n&&this.snapToCursor(Qm(l,"page").point)},s=(l,u)=>{const{drag:c,dragPropagation:d,onDragStart:h}=this.getProps();if(c&&!d&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=OO(c),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Sr(m=>{let p=this.getAxisMotionValue(m).get()||0;if(Pr.test(p)){const{projection:w}=this.visualElement;if(w&&w.layout){const v=w.layout.layoutBox[m];v&&(p=Fn(v)*(parseFloat(p)/100))}}this.originPoint[m]=p}),h&&st.update(()=>h(l,u));const{animationState:f}=this.visualElement;f&&f.setActive("whileDrag",!0)},o=(l,u)=>{const{dragPropagation:c,dragDirectionLock:d,onDirectionLock:h,onDrag:f}=this.getProps();if(!c&&!this.openGlobalLock)return;const{offset:m}=u;if(d&&this.currentDirection===null){this.currentDirection=EZ(m),this.currentDirection!==null&&h&&h(this.currentDirection);return}this.updateAxis("x",u.point,m),this.updateAxis("y",u.point,m),this.visualElement.render(),f&&f(l,u)},a=(l,u)=>this.stop(l,u);this.panSession=new cD(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&st.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!eh(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=aZ(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&sa(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=lZ(r.layoutBox,e):this.constraints=!1,this.elastic=hZ(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Sr(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=dZ(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!sa(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=vZ(r,i.root,this.visualElement.getTransformPagePoint());let o=uZ(i.layout.layoutBox,s);if(n){const a=n(fZ(o));this.hasMutatedConstraints=!!a,a&&(o=hD(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Sr(c=>{if(!eh(c,n,this.currentDirection))return;let d=l&&l[c]||{};o&&(d={min:0,max:0});const h=i?200:1e6,f=i?40:1e7,m={type:"inertia",velocity:r?e[c]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(c,m)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(iE(e,r,0,n))}stopAnimation(){Sr(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Sr(n=>{const{drag:r}=this.getProps();if(!eh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-lt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!sa(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Sr(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=cZ({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Sr(o=>{if(!eh(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(lt(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;wZ.set(this.visualElement,this);const e=this.visualElement.current,n=ai(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();sa(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=ri(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Sr(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=L0,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function eh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function EZ(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class bZ extends Rs{constructor(e){super(e),this.removeGroupControls=Ht,this.removeListeners=Ht,this.controls=new _Z(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ht}unmount(){this.removeGroupControls(),this.removeListeners()}}const xx=t=>(e,n)=>{t&&st.update(()=>t(e,n))};class SZ extends Rs{constructor(){super(...arguments),this.removePointerDownListener=Ht}onPointerDown(e){this.session=new cD(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:xx(e),onStart:xx(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&st.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=ai(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function TZ(){const t=E.useContext(Hm);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=E.useId();return E.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}function Rx(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const zl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(be.test(t))t=parseFloat(t);else return t;const n=Rx(t,e.target.x),r=Rx(t,e.target.y);return`${n}% ${r}%`}},gD=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function xZ(t){const e=gD.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function D0(t,e,n=1){const[r,i]=xZ(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);return s?s.trim():b0(i)?D0(i,e,n+1):i}function RZ(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!b0(s))return;const o=D0(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!b0(s))continue;const o=D0(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const kx="_$css",kZ={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=t.includes("var("),s=[];i&&(t=t.replace(gD,f=>(s.push(f),kx)));const o=gs.parse(t);if(o.length>5)return r;const a=gs.createTransformer(t),l=typeof o[0]!="number"?1:0,u=n.x.scale*e.x,c=n.y.scale*e.y;o[0+l]/=u,o[1+l]/=c;const d=lt(u,c,.5);typeof o[2+l]=="number"&&(o[2+l]/=d),typeof o[3+l]=="number"&&(o[3+l]/=d);let h=a(o);if(i){let f=0;h=h.replace(kx,()=>{const m=s[f];return f++,m})}return h}};class CZ extends _e.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;IY(AZ),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Su.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||st.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function yD(t){const[e,n]=TZ(),r=E.useContext(H_);return _e.createElement(CZ,{...t,layoutGroup:r,switchLayoutGroup:E.useContext(wO),isPresent:e,safeToRemove:n})}const AZ={borderRadius:{...zl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:zl,borderTopRightRadius:zl,borderBottomLeftRadius:zl,borderBottomRightRadius:zl,boxShadow:kZ},vD=["TopLeft","TopRight","BottomLeft","BottomRight"],IZ=vD.length,Cx=t=>typeof t=="string"?parseFloat(t):t,Ax=t=>typeof t=="number"||be.test(t);function NZ(t,e,n,r,i,s){i?(t.opacity=lt(0,n.opacity!==void 0?n.opacity:1,LZ(r)),t.opacityExit=lt(e.opacity!==void 0?e.opacity:1,0,PZ(r))):s&&(t.opacity=lt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<IZ;o++){const a=`border${vD[o]}Radius`;let l=Ix(e,a),u=Ix(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Ax(l)===Ax(u)?(t[a]=Math.max(lt(Cx(l),Cx(u),r),0),(Pr.test(u)||Pr.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=lt(e.rotate||0,n.rotate||0,r))}function Ix(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const LZ=wD(0,.5,eE),PZ=wD(.5,.95,Ht);function wD(t,e,n){return r=>r<t?0:r>e?1:n(Ec(t,e,r))}function Nx(t,e){t.min=e.min,t.max=e.max}function Hn(t,e){Nx(t.x,e.x),Nx(t.y,e.y)}function Lx(t,e,n,r,i){return t-=e,t=Wf(t,1/n,r),i!==void 0&&(t=Wf(t,1/i,r)),t}function OZ(t,e=0,n=1,r=.5,i,s=t,o=t){if(Pr.test(e)&&(e=parseFloat(e),e=lt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=lt(s.min,s.max,r);t===s&&(a-=e),t.min=Lx(t.min,e,n,a,i),t.max=Lx(t.max,e,n,a,i)}function Px(t,e,[n,r,i],s,o){OZ(t,e[n],e[r],e[i],e.scale,s,o)}const DZ=["x","scaleX","originX"],MZ=["y","scaleY","originY"];function Ox(t,e,n,r){Px(t.x,e,DZ,n?n.x:void 0,r?r.x:void 0),Px(t.y,e,MZ,n?n.y:void 0,r?r.y:void 0)}function Dx(t){return t.translate===0&&t.scale===1}function _D(t){return Dx(t.x)&&Dx(t.y)}function M0(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function Mx(t){return Fn(t.x)/Fn(t.y)}class $Z{constructor(){this.members=[]}add(e){sE(this.members,e),e.scheduleRender()}remove(e){if(oE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $x(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:u,rotateY:c}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),c&&(r+=`rotateY(${c}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const UZ=(t,e)=>t.depth-e.depth;class VZ{constructor(){this.children=[],this.isDirty=!1}add(e){sE(this.children,e),this.isDirty=!0}remove(e){oE(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(UZ),this.isDirty=!1,this.children.forEach(e)}}function FZ(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(ms.read(r),t(s-e))};return st.read(r,!0),()=>ms.read(r)}function BZ(t){window.MotionDebug&&window.MotionDebug.record(t)}function jZ(t){return t instanceof SVGElement&&t.tagName!=="svg"}function zZ(t,e,n){const r=Nn(t)?t:Ga(t);return r.start(iE("",r,e,n)),r.animation}const Ux=["","X","Y","Z"],Vx=1e3;let HZ=0;const Ds={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function ED({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o,a={},l=e==null?void 0:e()){this.id=HZ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Ds.totalNodes=Ds.resolvedTargetDeltas=Ds.recalculatedProjection=0,this.nodes.forEach(KZ),this.nodes.forEach(XZ),this.nodes.forEach(JZ),this.nodes.forEach(GZ),BZ(Ds)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=o,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0,o&&this.root.registerPotentialNode(o,this);for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new VZ)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new aE),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}registerPotentialNode(o,a){this.potentialNodes.set(o,a)}mount(o,a=!1){if(this.instance)return;this.isSVG=jZ(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),a&&(u||l)&&(this.isLayoutDirty=!0),t){let d;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=FZ(h,250),Su.hasAnimatedSinceResize&&(Su.hasAnimatedSinceResize=!1,this.nodes.forEach(Bx))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||c.getDefaultTransition()||ree,{onLayoutAnimationStart:w,onLayoutAnimationComplete:v}=c.getProps(),g=!this.targetLayout||!M0(this.targetLayout,m)||f,y=!h&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,y);const _={...oD(p,"layout"),onPlay:w,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else!h&&this.animationProgress===0&&Bx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ms.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ZZ),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Fx);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(iee),this.potentialNodes.clear()),this.nodes.forEach(YZ),this.nodes.forEach(WZ),this.nodes.forEach(qZ),this.clearAllSnapshots(),hy.update(),hy.preRender(),hy.render())}clearAllSnapshots(){this.nodes.forEach(QZ),this.sharedNodes.forEach(eee)}scheduleUpdateProjection(){st.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){st.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!_D(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||Os(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),see(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Tt();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Li(a.x,l.offset.x),Li(a.y,l.offset.y)),a}removeElementScroll(o){const a=Tt();Hn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:d}=u;if(u!==this.root&&c&&d.layoutScroll){if(c.isRoot){Hn(a,o);const{scroll:h}=this.root;h&&(Li(a.x,-h.offset.x),Li(a.y,-h.offset.y))}Li(a.x,c.offset.x),Li(a.y,c.offset.y)}}return a}applyTransform(o,a=!1){const l=Tt();Hn(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&aa(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Os(c.latestValues)&&aa(l,c.latestValues)}return Os(this.latestValues)&&aa(l,this.latestValues),l}removeTransform(o){const a=Tt();Hn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Os(u.latestValues))continue;P0(u.latestValues)&&u.updateSnapshot();const c=Tt(),d=u.measurePageBox();Hn(c,d),Ox(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Os(this.latestValues)&&Ox(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=Boolean(this.resumingFrom)||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=sn.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout?(this.relativeParent=f,this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),ku(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Hn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Tt(),this.targetWithTransforms=Tt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.relativeParent.resolvedRelativeTargetAt!==sn.timestamp&&this.relativeParent.resolveTargetDelta(!0),oZ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Hn(this.target,this.layout.layoutBox),pD(this.target,this.targetDelta)):Hn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&Boolean(f.resumingFrom)===Boolean(this.resumingFrom)&&!f.options.layoutScroll&&f.target?(this.relativeParent=f,this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),ku(this.relativeTargetOrigin,this.target,f.target),Hn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ds.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||P0(this.parent.latestValues)||fD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=Boolean(this.resumingFrom)||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===sn.timestamp&&(u=!1),u)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;Hn(this.layoutCorrected,this.layout.layoutBox),mZ(this.layoutCorrected,this.treeScale,this.path,l);const{target:h}=a;if(!h)return;this.projectionDelta||(this.projectionDelta=Cu(),this.projectionDeltaWithTransform=Cu());const f=this.treeScale.x,m=this.treeScale.y,p=this.projectionTransform;Ru(this.projectionDelta,this.layoutCorrected,h,this.latestValues),this.projectionTransform=$x(this.projectionDelta,this.treeScale),(this.projectionTransform!==p||this.treeScale.x!==f||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h)),Ds.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=Cu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Tt(),f=l?l.source:void 0,m=this.layout?this.layout.source:void 0,p=f!==m,w=this.getStack(),v=!w||w.members.length<=1,g=Boolean(p&&!v&&this.options.crossfade===!0&&!this.path.some(nee));this.animationProgress=0;let y;this.mixTargetDelta=_=>{const S=_/1e3;jx(d.x,o.x,S),jx(d.y,o.y,S),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ku(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),tee(this.relativeTarget,this.relativeTargetOrigin,h,S),y&&M0(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=Tt()),Hn(y,this.relativeTarget)),p&&(this.animationValues=c,NZ(c,u,this.latestValues,S,g,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ms.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=st.update(()=>{Su.hasAnimatedSinceResize=!0,this.currentAnimation=zZ(0,Vx,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Vx),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&bD(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Tt();const d=Fn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const h=Fn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}Hn(a,l),aa(a,c),Ru(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new $Z),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let c=0;c<Ux.length;c++){const d="rotate"+Ux[c];l[d]&&(u[d]=l[d],o.setStaticValue(d,0))}o.render();for(const c in u)o.setStaticValue(c,u[c]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Dh(o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=Dh(o.pointerEvents)||""),this.hasProjected&&!Os(this.latestValues)&&(p.transform=c?c({},""):"none",this.hasProjected=!1),p}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=$x(this.projectionDeltaWithTransform,this.treeScale,h),c&&(u.transform=c(h,u.transform));const{x:f,y:m}=this.projectionDelta;u.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const p in $f){if(h[p]===void 0)continue;const{correct:w,applyTo:v}=$f[p],g=u.transform==="none"?h[p]:w(h[p],d);if(v){const y=v.length;for(let _=0;_<y;_++)u[v[_]]=g}else u[p]=g}return this.options.layoutId&&(u.pointerEvents=d===this?Dh(o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Fx),this.root.sharedNodes.clear()}}}function WZ(t){t.updateLayout()}function qZ(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Sr(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],f=Fn(h);h.min=r[d].min,h.max=h.min+f}):bD(s,n.layoutBox,r)&&Sr(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],f=Fn(r[d]);h.max=h.min+f});const a=Cu();Ru(a,r,n.layoutBox);const l=Cu();o?Ru(l,t.applyTransform(i,!0),n.measuredBox):Ru(l,r,n.layoutBox);const u=!_D(a);let c=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:f}=d;if(h&&f){const m=Tt();ku(m,n.layoutBox,h.layoutBox);const p=Tt();ku(p,r,f.layoutBox),M0(m,p)||(c=!0),d.options.layoutRoot&&(t.relativeTarget=p,t.relativeTargetOrigin=m,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function KZ(t){Ds.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=Boolean(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function GZ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function QZ(t){t.clearSnapshot()}function Fx(t){t.clearMeasurements()}function YZ(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Bx(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0}function XZ(t){t.resolveTargetDelta()}function JZ(t){t.calcProjection()}function ZZ(t){t.resetRotation()}function eee(t){t.removeLeadSnapshot()}function jx(t,e,n){t.translate=lt(e.translate,0,n),t.scale=lt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function zx(t,e,n,r){t.min=lt(e.min,n.min,r),t.max=lt(e.max,n.max,r)}function tee(t,e,n,r){zx(t.x,e.x,n.x,r),zx(t.y,e.y,n.y,r)}function nee(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const ree={duration:.45,ease:[.4,0,.1,1]};function iee(t,e){let n=t.root;for(let s=t.path.length-1;s>=0;s--)if(Boolean(t.path[s].instance)){n=t.path[s];break}const i=(n&&n!==t.root?n.instance:document).querySelector(`[data-projection-id="${e}"]`);i&&t.mount(i,!0)}function Hx(t){t.min=Math.round(t.min),t.max=Math.round(t.max)}function see(t){Hx(t.x),Hx(t.y)}function bD(t,e,n){return t==="position"||t==="preserve-aspect"&&!N0(Mx(e),Mx(n),.2)}const oee=ED({attachResizeListener:(t,e)=>ri(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Sy={current:void 0},SD=ED({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Sy.current){const t=new oee(0,{});t.mount(window),t.setOptions({layoutScroll:!0}),Sy.current=t}return Sy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>Boolean(window.getComputedStyle(t).position==="fixed")}),aee={pan:{Feature:SZ},drag:{Feature:bZ,ProjectionNode:SD,MeasureLayout:yD}},lee=new Set(["width","height","top","left","right","bottom","x","y"]),TD=t=>lee.has(t),uee=t=>Object.keys(t).some(TD),Wx=t=>t===Mo||t===be,qx=(t,e)=>parseFloat(t.split(", ")[e]),Kx=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return qx(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?qx(s[1],t):0}},cee=new Set(["x","y","z"]),dee=Gm.filter(t=>!cee.has(t));function hee(t){const e=[];return dee.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Gx={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Kx(4,13),y:Kx(5,14)},fee=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{a[u]=Gx[u](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(u=>{const c=e.getValue(u);c&&c.jump(a[u]),t[u]=Gx[u](l,s)}),t},pee=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(TD);let s=[],o=!1;const a=[];if(i.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let c=n[l],d=jl(c);const h=e[l];let f;if(Vf(h)){const m=h.length,p=h[0]===null?1:0;c=h[p],d=jl(c);for(let w=p;w<m;w++)f?Ff(jl(h[w])===f):f=jl(h[w])}else f=jl(h);if(d!==f)if(Wx(d)&&Wx(f)){const m=u.get();typeof m=="string"&&u.set(parseFloat(m)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&f===be&&(e[l]=h.map(parseFloat))}else d!=null&&d.transform&&(f!=null&&f.transform)&&(c===0||h===0)?c===0?u.set(f.transform(c)):e[l]=d.transform(h):(o||(s=hee(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],u.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=fee(e,t,a);return s.length&&s.forEach(([c,d])=>{t.getValue(c).set(d)}),t.render(),Wm&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function mee(t,e,n,r){return uee(e)?pee(t,e,n,r):{target:e,transitionEnd:r}}const gee=(t,e,n,r)=>{const i=RZ(t,e,r);return e=i.target,r=i.transitionEnd,mee(t,e,n,r)},$0={current:null},xD={current:!1};function yee(){if(xD.current=!0,!!Wm)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>$0.current=t.matches;t.addListener(e),e()}else $0.current=!1}function vee(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(Nn(s))t.addValue(i,s),Hf(r)&&r.add(i);else if(Nn(o))t.addValue(i,Ga(s,{owner:t})),Hf(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,Ga(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Qx=new WeakMap,RD=Object.keys(vc),wee=RD.length,Yx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],_ee=j_.length;class Eee{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>st.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=Km(n),this.isVariantNode=vO(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(n,{});for(const d in c){const h=c[d];a[d]!==void 0&&Nn(h)&&(h.set(a[d],!1),Hf(u)&&u.add(d))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,Qx.set(e,this),this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),xD.current||yee(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Qx.delete(this.current),this.projection&&this.projection.unmount(),ms.update(this.notifyUpdate),ms.render(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Do.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&st.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s,o){let a,l;for(let u=0;u<wee;u++){const c=RD[u],{isEnabled:d,Feature:h,ProjectionNode:f,MeasureLayout:m}=vc[c];f&&(a=f),d(n)&&(!this.features[c]&&h&&(this.features[c]=new h(this)),m&&(l=m))}if(!this.projection&&a){this.projection=new a(s,this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:c,drag:d,dragConstraints:h,layoutScroll:f,layoutRoot:m}=n;this.projection.setOptions({layoutId:u,layout:c,alwaysMeasureLayout:Boolean(d)||h&&sa(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:o,layoutScroll:f,layoutRoot:m})}return l}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update(this.props,this.prevProps):(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Yx.length;r++){const i=Yx[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=vee(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<_ee;r++){const i=j_[r],s=this.props[i];(yc(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ga(n,{owner:this}),this.addValue(e,r)),r}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=J_(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Nn(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new aE),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class kD extends Eee{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=jJ(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){FJ(this,r,o);const a=gee(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function bee(t){return window.getComputedStyle(t)}class See extends kD{readValueFromInstance(e,n){if(Do.has(n)){const r=nE(n);return r&&r.default||0}else{const r=bee(e),i=(bO(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return mD(e,n)}build(e,n,r,i){q_(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return X_(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Nn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){kO(e,n,r,i)}}class Tee extends kD{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Do.has(n)){const r=nE(n);return r&&r.default||0}return n=CO.has(n)?n:Y_(n),e.getAttribute(n)}measureInstanceViewportBox(){return Tt()}scrapeMotionValuesFromProps(e,n){return IO(e,n)}build(e,n,r,i){G_(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){AO(e,n,r,i)}mount(e){this.isSVGTag=Q_(e.tagName),super.mount(e)}}const xee=(t,e)=>W_(t)?new Tee(e,{enableHardwareAcceleration:!1}):new See(e,{enableHardwareAcceleration:!0}),Ree={layout:{ProjectionNode:SD,MeasureLayout:yD}},kee={...nZ,...wX,...aee,...Ree},qf=CY((t,e)=>nX(t,e,kee,xee));function CD(){const t=E.useRef(!1);return Mf(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function Cee(){const t=CD(),[e,n]=E.useState(0),r=E.useCallback(()=>{t.current&&n(e+1)},[e]);return[E.useCallback(()=>st.postRender(r),[r]),e]}class Aee extends E.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Iee({children:t,isPresent:e}){const n=E.useId(),r=E.useRef(null),i=E.useRef({width:0,height:0,top:0,left:0});return E.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),E.createElement(Aee,{isPresent:e,childRef:r,sizeRef:i},E.cloneElement(t,{ref:r}))}const Ty=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=z_(Nee),l=E.useId(),u=E.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c=>{a.set(c,!0);for(const d of a.values())if(!d)return;r&&r()},register:c=>(a.set(c,!1),()=>a.delete(c))}),s?void 0:[n]);return E.useMemo(()=>{a.forEach((c,d)=>a.set(d,!1))},[n]),E.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=E.createElement(Iee,{isPresent:n},t)),E.createElement(Hm.Provider,{value:u},t)};function Nee(){return new Map}function Lee(t){return E.useEffect(()=>()=>t(),[])}const zo=t=>t.key||"";function Pee(t,e){t.forEach(n=>{const r=zo(n);e.set(r,n)})}function Oee(t){const e=[];return E.Children.forEach(t,n=>{E.isValidElement(n)&&e.push(n)}),e}const Jm=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{let[a]=Cee();const l=E.useContext(H_).forceRender;l&&(a=l);const u=CD(),c=Oee(t);let d=c;const h=new Set,f=E.useRef(d),m=E.useRef(new Map).current,p=E.useRef(!0);if(Mf(()=>{p.current=!1,Pee(c,m),f.current=d}),Lee(()=>{p.current=!0,m.clear(),h.clear()}),p.current)return E.createElement(E.Fragment,null,d.map(y=>E.createElement(Ty,{key:zo(y),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},y)));d=[...d];const w=f.current.map(zo),v=c.map(zo),g=w.length;for(let y=0;y<g;y++){const _=w[y];v.indexOf(_)===-1&&h.add(_)}return o==="wait"&&h.size&&(d=[]),h.forEach(y=>{if(v.indexOf(y)!==-1)return;const _=m.get(y);if(!_)return;const S=w.indexOf(y),k=()=>{m.delete(y),h.delete(y);const R=f.current.findIndex(I=>I.key===y);if(f.current.splice(R,1),!h.size){if(f.current=c,u.current===!1)return;a(),r&&r()}};d.splice(S,0,E.createElement(Ty,{key:zo(_),isPresent:!1,onExitComplete:k,custom:e,presenceAffectsLayout:s,mode:o},_))}),d=d.map(y=>{const _=y.key;return h.has(_)?y:E.createElement(Ty,{key:zo(y),isPresent:!0,presenceAffectsLayout:s,mode:o},y)}),E.createElement(E.Fragment,null,h.size?d:d.map(y=>E.cloneElement(y)))},Dee=({post:t})=>{var d,h,f,m,p,w,v,g;const[e,n]=E.useState(!1),[r,i]=Mr(N_),[s,o]=Mr(L_);let a=Vr();E.useEffect(()=>{(t==null?void 0:t.data().Likes.findIndex(_=>{var S;return _.id===((S=oe==null?void 0:oe.currentUser)==null?void 0:S.uid)}))>-1?n(!0):n(!1)},[t]);async function l(){if(window.confirm("Are you sure you want to delete this post?")){let y=kn(Kt,"posts",t.id);await MN(y),t.data().image&&await NL(d_(h_,`posts/${t.id}`))}}async function u(){var _,S;const y=kn(Kt,"posts",t.id);try{if(e)await fs(y,{Likes:G1({id:(_=oe==null?void 0:oe.currentUser)==null?void 0:_.uid})});else{const k=await fs(y,{Likes:fm({id:(S=oe==null?void 0:oe.currentUser)==null?void 0:S.uid})})}}catch(k){console.log(k)}}function c(){a(`/post/${t.id}`)}return b(ct,{children:H(qf.article,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:`flex justify-between items-start px-3 py-1 cursor-pointer border-b\r
				border-b-gray-200 dark:border-blue-50/20 relative`,children:[H("div",{className:"group relative",children:[b(Vt,{to:`profile/${t.data().auther}`,children:b("img",{src:t.data().autherImg==null?"https://upload.wikimedia.org/wikipedia/commons/2/2f/No-photo-m.png":t.data().autherImg,alt:"post",width:50,className:"h-11 w-11 rounded-full mr-4 mt-3"})}),b("div",{children:b("div",{className:"group-hover:inline-block hidden absolute top-0 left-full  z-10  w-64 text-sm font-light text-gray-500 transition-opacity duration-300 bg-gray-100 border-gray-200 rounded-lg shadow-sm  dark:text-gray-400 dark:bg-gray-800 dark:border-gray-600 cursor-default",children:H("div",{className:"p-3",children:[H("div",{className:"flex items-center justify-between mb-2",children:[b("span",{children:b("img",{className:"w-10 h-10 rounded-full",src:t.data().autherImg==null?"https://upload.wikimedia.org/wikipedia/commons/2/2f/No-photo-m.png":t.data().autherImg,alt:t.data().autherName})}),t.data().auther!==oe.currentUser.uid&&b("div",{children:b(Vt,{to:`/chat/${t.data().auther}`,type:"button",className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-xs px-3 py-1.5 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800",children:"Message"})})]}),H("p",{className:"text-base font-semibold leading-none text-gray-900 dark:text-white",children:[t.data().autherName,"  ",H("span",{className:"text-sm text-gray-700",children:["@",t.data().autherName.replace(/\s/g,"").toLowerCase()]})]})]})})})]}),H("div",{className:"w-full ",children:[H("div",{onClick:c,children:[H("div",{className:"flex justify-between items-center ",children:[H("div",{className:"flex justify-start items-center gap-x-1 whitespace-nowrap",children:[b(Vt,{to:`profile/${t.data().auther}`,children:b("h4",{className:"font-bold text-[15px] sm:text-[16px] hover:underline capitalize",children:t.data().autherName})}),H("span",{className:"text-sm sm:text-[15px] text-gray-700 dark:text-gray-300  ",children:["@",t.data().autherName.replace(/\s/g,"").toLowerCase()]}),"  ",b("span",{className:"text-sm sm:text-[15px] hover:underline text-gray-700 dark:text-gray-300"})]}),b(WC,{className:"hoverEffect hover:bg-sky-100 hover:text-sky-500 h-10 w-10 p-2"})]}),b("p",{className:"text-gray-800 dark:text-white text-[15px] sm:text-[16px] font-semibold mb-2 ",children:t.data().text}),t.data().image&&b("img",{src:t.data().image,alt:"post image",loading:"lazy",className:"rounded-2xl mr-2 w-full max-h-[500px] object-cover"})]}),H("div",{className:"flex justify-between items-center text-gray-500 dark:text-white my-1",children:[H("div",{className:"flex items-center",children:[b(HC,{onClick:()=>{i(y=>!y),o(t.id)},className:"h-9 w-9 hoverEffect p-2 hover:text-blue-500 hover:bg-sky-100"}),((h=(d=t==null?void 0:t.data())==null?void 0:d.comments)==null?void 0:h.length)>0&&b("span",{className:"text-sm",children:(m=(f=t==null?void 0:t.data())==null?void 0:f.comments)==null?void 0:m.length})]}),b(XC,{className:"h-9 w-9 hoverEffect p-2 hover:text-green-500 hover:bg-green-100"}),H("div",{className:"flex items-center",children:[e?b(jC,{onClick:u,className:"h-9 w-9 hoverEffect p-2 text-red-600 hover:bg-red-100"}):b(QC,{onClick:u,className:"h-9 w-9 hoverEffect p-2 hover:text-pink-500 hover:bg-pink-100"}),((p=t==null?void 0:t.data())==null?void 0:p.Likes.length)>0&&b("span",{className:`${e&&"text-red-600"} text-sm`,children:(w=t==null?void 0:t.data())==null?void 0:w.Likes.length})]}),b(zC,{className:"h-9 w-9 hoverEffect p-2 hover:text-blue-500 hover:bg-sky-100"}),((v=t==null?void 0:t.data())==null?void 0:v.auther)===((g=oe==null?void 0:oe.currentUser)==null?void 0:g.uid)&&b(qw,{onClick:l,className:"h-9 w-9 hoverEffect p-2 hover:text-red-600 hover:bg-red-100"})]})]})]})})},Mee=()=>b(ct,{children:H("div",{className:"sticky top-0 z-10 flex justify-between items-center bg-white dark:bg-black border-b border-gray-200 dark:border-gray-50/20  px-3 py-3",children:[b("h2",{className:"text-lg sm:text-xl font-bold cursor-pointer",children:"Home"}),b("div",{className:"hoverEffect flex justify-center items-center p-0 w-9 h-9",children:b(Ww,{className:"h-5"})})]})});function AD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=AD(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Hi(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=AD(t))&&(r&&(r+=" "),r+=e);return r}const Au=t=>typeof t=="number"&&!isNaN(t),So=t=>typeof t=="string",Sn=t=>typeof t=="function",Mh=t=>So(t)||Sn(t)?t:null,xy=t=>E.isValidElement(t)||So(t)||Sn(t)||Au(t);function $ee(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function Zm(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(o){let{children:a,position:l,preventExitTransition:u,done:c,nodeRef:d,isIn:h}=o;const f=r?`${e}--${l}`:e,m=r?`${n}--${l}`:n,p=E.useRef(0);return E.useLayoutEffect(()=>{const w=d.current,v=f.split(" "),g=y=>{y.target===d.current&&(w.dispatchEvent(new Event("d")),w.removeEventListener("animationend",g),w.removeEventListener("animationcancel",g),p.current===0&&y.type!=="animationcancel"&&w.classList.remove(...v))};w.classList.add(...v),w.addEventListener("animationend",g),w.addEventListener("animationcancel",g)},[]),E.useEffect(()=>{const w=d.current,v=()=>{w.removeEventListener("animationend",v),i?$ee(w,c,s):c()};h||(u?v():(p.current=1,w.className+=` ${m}`,w.addEventListener("animationend",v)))},[h]),_e.createElement(_e.Fragment,null,a)}}function Xx(t,e){return{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}}const Wn={list:new Map,emitQueue:new Map,on(t,e){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(e),this},off(t,e){if(e){const n=this.list.get(t).filter(r=>r!==e);return this.list.set(t,n),this}return this.list.delete(t),this},cancelEmit(t){const e=this.emitQueue.get(t);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit(t){this.list.has(t)&&this.list.get(t).forEach(e=>{const n=setTimeout(()=>{e(...[].slice.call(arguments,1))},0);this.emitQueue.has(t)||this.emitQueue.set(t,[]),this.emitQueue.get(t).push(n)})}},th=t=>{let{theme:e,type:n,...r}=t;return _e.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},Ry={info:function(t){return _e.createElement(th,{...t},_e.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return _e.createElement(th,{...t},_e.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return _e.createElement(th,{...t},_e.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return _e.createElement(th,{...t},_e.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return _e.createElement("div",{className:"Toastify__spinner"})}};function Uee(t){const[,e]=E.useReducer(f=>f+1,0),[n,r]=E.useState([]),i=E.useRef(null),s=E.useRef(new Map).current,o=f=>n.indexOf(f)!==-1,a=E.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:o,getToast:f=>s.get(f)}).current;function l(f){let{containerId:m}=f;const{limit:p}=a.props;!p||m&&a.containerId!==m||(a.count-=a.queue.length,a.queue=[])}function u(f){r(m=>f==null?[]:m.filter(p=>p!==f))}function c(){const{toastContent:f,toastProps:m,staleId:p}=a.queue.shift();h(f,m,p)}function d(f,m){let{delay:p,staleId:w,...v}=m;if(!xy(f)||function(ve){return!i.current||a.props.enableMultiContainer&&ve.containerId!==a.props.containerId||s.has(ve.toastId)&&ve.updateId==null}(v))return;const{toastId:g,updateId:y,data:_}=v,{props:S}=a,k=()=>u(g),R=y==null;R&&a.count++;const I={...S,style:S.toastStyle,key:a.toastKey++,...v,toastId:g,updateId:y,data:_,closeToast:k,isIn:!1,className:Mh(v.className||S.toastClassName),bodyClassName:Mh(v.bodyClassName||S.bodyClassName),progressClassName:Mh(v.progressClassName||S.progressClassName),autoClose:!v.isLoading&&(K=v.autoClose,z=S.autoClose,K===!1||Au(K)&&K>0?K:z),deleteToast(){const ve=Xx(s.get(g),"removed");s.delete(g),Wn.emit(4,ve);const J=a.queue.length;if(a.count=g==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),J>0){const $=g==null?a.props.limit:1;if(J===1||$===1)a.displayedToast++,c();else{const W=$>J?J:$;a.displayedToast=W;for(let Z=0;Z<W;Z++)c()}}else e()}};var K,z;I.iconOut=function(ve){let{theme:J,type:$,isLoading:W,icon:Z}=ve,A=null;const N={theme:J,type:$};return Z===!1||(Sn(Z)?A=Z(N):E.isValidElement(Z)?A=E.cloneElement(Z,N):So(Z)||Au(Z)?A=Z:W?A=Ry.spinner():(B=>B in Ry)($)&&(A=Ry[$](N))),A}(I),Sn(v.onOpen)&&(I.onOpen=v.onOpen),Sn(v.onClose)&&(I.onClose=v.onClose),I.closeButton=S.closeButton,v.closeButton===!1||xy(v.closeButton)?I.closeButton=v.closeButton:v.closeButton===!0&&(I.closeButton=!xy(S.closeButton)||S.closeButton);let de=f;E.isValidElement(f)&&!So(f.type)?de=E.cloneElement(f,{closeToast:k,toastProps:I,data:_}):Sn(f)&&(de=f({closeToast:k,toastProps:I,data:_})),S.limit&&S.limit>0&&a.count>S.limit&&R?a.queue.push({toastContent:de,toastProps:I,staleId:w}):Au(p)?setTimeout(()=>{h(de,I,w)},p):h(de,I,w)}function h(f,m,p){const{toastId:w}=m;p&&s.delete(p);const v={content:f,props:m};s.set(w,v),r(g=>[...g,w].filter(y=>y!==p)),Wn.emit(4,Xx(v,v.props.updateId==null?"added":"updated"))}return E.useEffect(()=>(a.containerId=t.containerId,Wn.cancelEmit(3).on(0,d).on(1,f=>i.current&&u(f)).on(5,l).emit(2,a),()=>{s.clear(),Wn.emit(3,a)}),[]),E.useEffect(()=>{a.props=t,a.isToastActive=o,a.displayedToast=n.length}),{getToastToRender:function(f){const m=new Map,p=Array.from(s.values());return t.newestOnTop&&p.reverse(),p.forEach(w=>{const{position:v}=w.props;m.has(v)||m.set(v,[]),m.get(v).push(w)}),Array.from(m,w=>f(w[0],w[1]))},containerRef:i,isToastActive:o}}function Jx(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function Zx(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function Vee(t){const[e,n]=E.useState(!1),[r,i]=E.useState(!1),s=E.useRef(null),o=E.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=E.useRef(t),{autoClose:l,pauseOnHover:u,closeToast:c,onClick:d,closeOnClick:h}=t;function f(_){if(t.draggable){_.nativeEvent.type==="touchstart"&&_.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",v),document.addEventListener("mouseup",g),document.addEventListener("touchmove",v),document.addEventListener("touchend",g);const S=s.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=S.getBoundingClientRect(),S.style.transition="",o.x=Jx(_.nativeEvent),o.y=Zx(_.nativeEvent),t.draggableDirection==="x"?(o.start=o.x,o.removalDistance=S.offsetWidth*(t.draggablePercent/100)):(o.start=o.y,o.removalDistance=S.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent/100))}}function m(_){if(o.boundingRect){const{top:S,bottom:k,left:R,right:I}=o.boundingRect;_.nativeEvent.type!=="touchend"&&t.pauseOnHover&&o.x>=R&&o.x<=I&&o.y>=S&&o.y<=k?w():p()}}function p(){n(!0)}function w(){n(!1)}function v(_){const S=s.current;o.canDrag&&S&&(o.didMove=!0,e&&w(),o.x=Jx(_),o.y=Zx(_),o.delta=t.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),S.style.transform=`translate${t.draggableDirection}(${o.delta}px)`,S.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function g(){document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",g),document.removeEventListener("touchmove",v),document.removeEventListener("touchend",g);const _=s.current;if(o.canDrag&&o.didMove&&_){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),void t.closeToast();_.style.transition="transform 0.2s, opacity 0.2s",_.style.transform=`translate${t.draggableDirection}(0)`,_.style.opacity="1"}}E.useEffect(()=>{a.current=t}),E.useEffect(()=>(s.current&&s.current.addEventListener("d",p,{once:!0}),Sn(t.onOpen)&&t.onOpen(E.isValidElement(t.children)&&t.children.props),()=>{const _=a.current;Sn(_.onClose)&&_.onClose(E.isValidElement(_.children)&&_.children.props)}),[]),E.useEffect(()=>(t.pauseOnFocusLoss&&(document.hasFocus()||w(),window.addEventListener("focus",p),window.addEventListener("blur",w)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",p),window.removeEventListener("blur",w))}),[t.pauseOnFocusLoss]);const y={onMouseDown:f,onTouchStart:f,onMouseUp:m,onTouchEnd:m};return l&&u&&(y.onMouseEnter=w,y.onMouseLeave=p),h&&(y.onClick=_=>{d&&d(_),o.canCloseOnClick&&c()}),{playToast:p,pauseToast:w,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:y}}function ID(t){let{closeToast:e,theme:n,ariaLabel:r="close"}=t;return _e.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),e(i)},"aria-label":r},_e.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},_e.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Fee(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:l,progress:u,rtl:c,isIn:d,theme:h}=t;const f=s||l&&u===0,m={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused",opacity:f?0:1};l&&(m.transform=`scaleX(${u})`);const p=Hi("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":c}),w=Sn(o)?o({rtl:c,type:i,defaultClassName:p}):Hi(p,o);return _e.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:w,style:m,[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{d&&r()}})}const Bee=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i}=Vee(t),{closeButton:s,children:o,autoClose:a,onClick:l,type:u,hideProgressBar:c,closeToast:d,transition:h,position:f,className:m,style:p,bodyClassName:w,bodyStyle:v,progressClassName:g,progressStyle:y,updateId:_,role:S,progress:k,rtl:R,toastId:I,deleteToast:K,isIn:z,isLoading:de,iconOut:ve,closeOnClick:J,theme:$}=t,W=Hi("Toastify__toast",`Toastify__toast-theme--${$}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":R},{"Toastify__toast--close-on-click":J}),Z=Sn(m)?m({rtl:R,position:f,type:u,defaultClassName:W}):Hi(W,m),A=!!k||!a,N={closeToast:d,type:u,theme:$};let B=null;return s===!1||(B=Sn(s)?s(N):E.isValidElement(s)?E.cloneElement(s,N):ID(N)),_e.createElement(h,{isIn:z,done:K,position:f,preventExitTransition:n,nodeRef:r},_e.createElement("div",{id:I,onClick:l,className:Z,...i,style:p,ref:r},_e.createElement("div",{...z&&{role:S},className:Sn(w)?w({type:u}):Hi("Toastify__toast-body",w),style:v},ve!=null&&_e.createElement("div",{className:Hi("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!de})},ve),_e.createElement("div",null,o)),B,_e.createElement(Fee,{..._&&!A?{key:`pb-${_}`}:{},rtl:R,theme:$,delay:a,isRunning:e,isIn:z,closeToast:d,hide:c,type:u,style:y,className:g,controlledProgress:A,progress:k||0})))},eg=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},jee=Zm(eg("bounce",!0));Zm(eg("slide",!0));Zm(eg("zoom"));Zm(eg("flip"));const U0=E.forwardRef((t,e)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=Uee(t),{className:s,style:o,rtl:a,containerId:l}=t;function u(c){const d=Hi("Toastify__toast-container",`Toastify__toast-container--${c}`,{"Toastify__toast-container--rtl":a});return Sn(s)?s({position:c,rtl:a,defaultClassName:d}):Hi(d,Mh(s))}return E.useEffect(()=>{e&&(e.current=r.current)},[]),_e.createElement("div",{ref:r,className:"Toastify",id:l},n((c,d)=>{const h=d.length?{...o}:{...o,pointerEvents:"none"};return _e.createElement("div",{className:u(c),style:h,key:`container-${c}`},d.map((f,m)=>{let{content:p,props:w}=f;return _e.createElement(Bee,{...w,isIn:i(w.toastId),style:{...w.style,"--nth":m+1,"--len":d.length},key:`toast-${w.key}`},p)}))}))});U0.displayName="ToastContainer",U0.defaultProps={position:"top-right",transition:jee,autoClose:5e3,closeButton:ID,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let ky,Ms=new Map,ru=[],zee=1;function ND(){return""+zee++}function Hee(t){return t&&(So(t.toastId)||Au(t.toastId))?t.toastId:ND()}function Iu(t,e){return Ms.size>0?Wn.emit(0,t,e):ru.push({content:t,options:e}),e.toastId}function Kf(t,e){return{...e,type:e&&e.type||t,toastId:Hee(e)}}function nh(t){return(e,n)=>Iu(e,Kf(t,n))}function Ue(t,e){return Iu(t,Kf("default",e))}Ue.loading=(t,e)=>Iu(t,Kf("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Ue.promise=function(t,e,n){let r,{pending:i,error:s,success:o}=e;i&&(r=So(i)?Ue.loading(i,n):Ue.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null,delay:100},l=(c,d,h)=>{if(d==null)return void Ue.dismiss(r);const f={type:c,...a,...n,data:h},m=So(d)?{render:d}:d;return r?Ue.update(r,{...f,...m}):Ue(m.render,{...f,...m}),h},u=Sn(t)?t():t;return u.then(c=>l("success",o,c)).catch(c=>l("error",s,c)),u},Ue.success=nh("success"),Ue.info=nh("info"),Ue.error=nh("error"),Ue.warning=nh("warning"),Ue.warn=Ue.warning,Ue.dark=(t,e)=>Iu(t,Kf("default",{theme:"dark",...e})),Ue.dismiss=t=>{Ms.size>0?Wn.emit(1,t):ru=ru.filter(e=>t!=null&&e.options.toastId!==t)},Ue.clearWaitingQueue=function(t){return t===void 0&&(t={}),Wn.emit(5,t)},Ue.isActive=t=>{let e=!1;return Ms.forEach(n=>{n.isToastActive&&n.isToastActive(t)&&(e=!0)}),e},Ue.update=function(t,e){e===void 0&&(e={}),setTimeout(()=>{const n=function(r,i){let{containerId:s}=i;const o=Ms.get(s||ky);return o&&o.getToast(r)}(t,e);if(n){const{props:r,content:i}=n,s={...r,...e,toastId:e.toastId||t,updateId:ND()};s.toastId!==t&&(s.staleId=t);const o=s.render||i;delete s.render,Iu(o,s)}},0)},Ue.done=t=>{Ue.update(t,{progress:1})},Ue.onChange=t=>(Wn.on(4,t),()=>{Wn.off(4,t)}),Ue.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Ue.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Wn.on(2,t=>{ky=t.containerId||t,Ms.set(ky,t),ru.forEach(e=>{Wn.emit(0,e.content,e.options)}),ru=[]}).on(3,t=>{Ms.delete(t.containerId||t),Ms.size===0&&Wn.off(0).off(1).off(5)});const LD=()=>{const[t,e]=E.useState({}),[n,r]=E.useState(""),[i,s]=E.useState(null),[o,a]=E.useState(!1),[l,u]=Mr(Um);function c(f){const m=new FileReader;f.target.files[0]&&m.readAsDataURL(f.target.files[0]),m.onload=p=>{s(p.target.result)}}function d(){const f=new Date().getTime(),m=Math.floor(Math.random()*1e6);return`${f}-${m}`}async function h(){try{a(!0);const f=await j5($1(Kt,"posts"),{id:d(),auther:t.uid,autherName:t.displayName,autherImg:t.photoURL,text:n,Likes:[],comments:[],timestamp:K1()}),m=d_(h_,`posts/${f.id}`);i&&await n8(m,i,"data_url").then(async()=>{const p=await r8(m);await fs(kn(Kt,"posts",f.id),{image:p})}),u(!1),r(""),s(null),a(!1),Ue.success("post Added")}catch(f){console.log(f)}}return E.useEffect(()=>{td(oe,f=>{e(f||"")})},[oe]),b(ct,{children:H("div",{className:"flex border-b border-gray-200 dark:border-gray-50/20 p-3 gap-x-3",children:[b("img",{src:t.photoURL==null?"https://upload.wikimedia.org/wikipedia/commons/2/2f/No-photo-m.png":t.photoURL,alt:"user",className:"h-11 w-11 rounded-full cursor-pointer brightness-95"}),H("div",{className:"w-full divide-y divide-gray-200 dark:divide-gray-50/20",children:[b("div",{className:"",children:b("textarea",{value:n,onChange:f=>r(f.target.value),className:"w-full rounded-md border-none focus:ring-0 text-lg placeholder:text-gray-700 dark:placeholder:text-white tracking-wide min-h-[50px] text-gray-700 dark:text-white resize-none dark:bg-black",rows:2,placeholder:"What's happening?"})}),i&&H("div",{className:"relative overflow-hidden",children:[b(ZC,{onClick:()=>s(null),className:"h-7 text-white absolute top-2 left-2 cursor-pointer shadow-md"}),b("img",{src:i,alt:"postImage",className:`${o&&"animate-pulse"} w-full h-[400px] object-cover`})]}),!o&&H("div",{className:"flex justify-between items-center pt-2.5",children:[H("div",{className:"flex",children:[b("label",{htmlFor:"file",children:b(YC,{className:"hoverEffect text-sky-500 hover:bg-sky-100 h-10 w-10 p-2"})}),b("input",{onChange:c,type:"file",id:"file",className:"hidden"}),b(qC,{className:"hoverEffect text-sky-500 hover:bg-sky-100 h-10 w-10 p-2"})]}),b("button",{disabled:!n.trim(),onClick:h,className:"bg-blue-400 text-white px-4 py-1.5 rounded-full font-bold shadow-md hover:shadow-lg hover:brightness-95 active:scale-95 disabled:scale-100 disabled:opacity-50",children:"Tweet"})]})]})]})})},Wee=()=>{const[t,e]=E.useState([]);return E.useEffect(()=>{const n=AN($1(Kt,"posts"),IN("timestamp","desc"));return Yc(n,i=>e(i.docs))},[]),H("div",{className:"text-black dark:text-white pb-3 ",children:[b(Mee,{}),b(LD,{}),b(Jm,{children:t.map((n,r)=>b(Dee,{post:n},n.id))})]})},qee=()=>{const[t,e]=E.useState([]);return E.useEffect(()=>{async function n(){try{const{data:{articles:r}}=await F_.get("https://saurav.tech/NewsAPI/top-headlines/category/technology/us.json");e(r)}catch(r){console.log(r)}}n()},[]),H("div",{className:"overflow-hidden pb-3",children:[H("div",{className:"sticky top-0 z-50 flex justify-between items-center bg-white dark:bg-black border-b border-gray-200 dark:border-gray-50/20  px-3 py-3 text-black dark:text-white",children:[b("h2",{className:"text-lg sm:text-xl font-bold cursor-pointer ",children:"Explore"}),b("div",{className:"hoverEffect flex justify-center items-center p-0 w-9 h-9",children:b(Ww,{className:"h-5"})})]}),t.slice(0,20).map((n,r)=>b(Vt,{to:n.url,target:"_blank",children:H("article",{className:"flex justify-between items-start px-3 py-3 cursor-pointer border-b border-b-gray-200 dark:border-blue-50/20",children:[b("img",{src:n.urlToImage,alt:"userimg",width:50,className:"h-11 w-11 rounded-full mr-4 mt-3"}),H("div",{className:"w-full ",children:[H("div",{className:"flex justify-between items-center ",children:[H("div",{className:"flex justify-start items-center gap-x-1 whitespace-nowrap text-black dark:text-white",children:[b("h4",{className:"font-bold text-[15px] sm:text-[16px] hover:underline truncate ",children:n.author}),H("span",{className:"text-sm sm:text-[15px] text-gray-700 dark:text-gray-300 truncate",children:["@",n.author]}),"  ",b("span",{className:"text-sm sm:text-[15px] hover:underline text-gray-700 dark:text-gray-300",children:n.publishedAt})]}),b(WC,{className:"hoverEffect hover:bg-sky-100 hover:text-sky-500 h-10 w-10 p-2"})]}),b("p",{className:"text-gray-800 dark:text-white/90 text-[15px] sm:text-[16px] mb-2 mt-[-10px] py-2",children:n.title}),b("img",{src:n.urlToImage,alt:"post image",className:"rounded-2xl mr-2 w-full"})]})]})},r+1))]})},PD=()=>{let t=Vr();return b(ct,{children:H("button",{onClick:async()=>{try{const n=new Xr,i=(await r6(oe,n)).user,s=kn(Kt,"users",i.uid);(await B5(s)).exists()||await q1(s,{id:i.uid,name:i.displayName,email:i.email,avatar:i.photoURL,timestamp:K1()}),t("/"),Ue.success(`Welcome ${i.displayName}`)}catch(n){console.log(n)}},className:"w-full flex items-center justify-center bg-red-600 hover:bg-red-700 active:bg-red-800 transition duration-150 ease-in-out text-white text-sm font-medium shadow-md hover:shadow-lg uppercase px-7 py-3 rounded-md",children:[H("svg",{width:"19",height:"20",viewBox:"0 0 19 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-2xl bg-white rounded-full mr-2",children:[b("path",{d:"M18.9892 10.1871C18.9892 9.36767 18.9246 8.76973 18.7847 8.14966H9.68848V11.848H15.0277C14.9201 12.767 14.3388 14.1512 13.047 15.0812L13.0289 15.205L15.905 17.4969L16.1042 17.5173C17.9342 15.7789 18.9892 13.221 18.9892 10.1871Z",fill:"#4285F4"}),b("path",{d:"M9.68813 19.9314C12.3039 19.9314 14.4999 19.0455 16.1039 17.5174L13.0467 15.0813C12.2286 15.6682 11.1306 16.0779 9.68813 16.0779C7.12612 16.0779 4.95165 14.3395 4.17651 11.9366L4.06289 11.9465L1.07231 14.3273L1.0332 14.4391C2.62638 17.6946 5.89889 19.9314 9.68813 19.9314Z",fill:"#34A853"}),b("path",{d:"M4.17667 11.9366C3.97215 11.3165 3.85378 10.6521 3.85378 9.96562C3.85378 9.27905 3.97215 8.6147 4.16591 7.99463L4.1605 7.86257L1.13246 5.44363L1.03339 5.49211C0.37677 6.84302 0 8.36005 0 9.96562C0 11.5712 0.37677 13.0881 1.03339 14.4391L4.17667 11.9366Z",fill:"#FBBC05"}),b("path",{d:"M9.68807 3.85336C11.5073 3.85336 12.7344 4.66168 13.4342 5.33718L16.1684 2.59107C14.4892 0.985496 12.3039 0 9.68807 0C5.89885 0 2.62637 2.23672 1.0332 5.49214L4.16573 7.99466C4.95162 5.59183 7.12608 3.85336 9.68807 3.85336Z",fill:"#EB4335"})]}),"continue with google"]})})},Kee=()=>{const[t,e]=E.useState(!1),[n,r]=E.useState({email:"",password:""}),{email:i,password:s}=n;let o=Vr();function a(u){r(c=>({...c,[u.target.id]:u.target.value}))}async function l(u){u.preventDefault();try{const d=(await Az(oe,i,s)).user;d&&(o("/"),Ue.success(`Welcome ${d.displayName}`))}catch{Ue.error("Please enter a valid email and password")}}return b(ct,{children:H("section",{className:"min-h-screen flex flex-col justify-center items-center",children:[b("h1",{className:"text-3xl text-center mt-6 font-bold text-black dark:text-white",children:"Sign In"}),H("div",{className:"flex justify-center items-center flex-wrap px-6 py-12 max-w-6xl mx-auto",children:[b("div",{className:"md:w-[67%] lg:w-[50%] mb-12 md:mb-6 ",children:b("img",{src:"https://i.cbc.ca/1.6690705.1671451365!/fileImage/httpImage/1245718932.jpg",alt:"sign-in",title:"sign-in",className:"w-full rounded-2xl shadow-md"})}),H("div",{className:"w-full md:w-[67%] lg:w-[40%] lg:ml20 lg:ml-20",children:[H("form",{onSubmit:l,children:[b("input",{className:"w-full px-4 py-2 text-xl text-gray-700 bg-white border-gray-300 rounded mb-6",type:"text",placeholder:"Email address",id:"email",value:i,onChange:a}),H("div",{className:"relative mb-6",children:[b("input",{className:"w-full px-4 py-2 text-xl text-gray-700 bg-white border-gray-300 rounded",type:t?"text":"password",placeholder:"Password",id:"password",value:s,onChange:a}),t?b(KC,{className:"h-7 absolute right-3 top-3 cursor-pointer text-xl text-black",onClick:()=>{e(u=>!u)},title:"Hide Password"}):b(GC,{className:"h-7 absolute right-3 top-3 cursor-pointer text-xl",onClick:()=>{e(u=>!u)},title:"Show Password"})]}),b("div",{className:"flex justify-between  whitespace-nowrap text-sm sm:text-lg text-black dark:text-white",children:H("p",{className:"mb-6",children:["Don't have an account?",b(Vt,{to:"/sign-up",className:"text-red-600 hover:text-red-800 transition duration-200 ease-in-out ml-1",children:"Register"})]})}),b("button",{className:"w-full bg-blue-600 hover:bg-blue-700 active:bg-blue-800 transition duration-150 ease-in-out text-white text-sm font-medium shadow-md hover:shadow-lg uppercase px-7 py-3 rounded-md",children:"Sign in"}),b("div",{className:"flex items-center before:flex-1 my-4 before:border-t before:border-gray-300  before:dark:border-white after:flex-1 after:border-t after:border-gray-300 after:dark:border-white ",children:b("p",{className:"text-center font-semibold mx-4 text-black dark:text-white",children:"OR"})})]}),b(PD,{})]})]})]})})};const Gee=()=>{const[t,e]=E.useState(!1),[n,r]=E.useState(!0);return E.useEffect(()=>{td(oe,i=>{i&&e(!0),r(!1)})},[]),{loggedIn:t,checkingStatus:n}},Qee="/twitter-v2/assets/spinner-81ece58b.svg",lE=()=>b("div",{className:"bg-zinc-800 bg-opacity-50 flex items-center justify-center fixed left-0 right-0 top-0 bottom-0 z-50",children:b("div",{children:b("img",{src:Qee,alt:"loading...",className:"h-24"})})}),Fo=({children:t})=>{const{loggedIn:e,checkingStatus:n}=Gee();return n?b(lE,{}):e?t:b(tV,{to:"/login"})},Yee=()=>b(ct,{children:b("p",{className:"text-black dark:text-white",children:"Profile Page"})}),Xee=()=>{const[t,e]=E.useState([]);return E.useEffect(()=>{td(oe,n=>{if(n){const r=AN($1(Kt,"users"),$5("id","!=",n.uid),IN("id","desc"));return Yc(r,s=>e(s.docs))}})},[]),b(ct,{children:H("div",{className:"text-gray-700 dark:text-white py-3",children:[H("div",{className:"sticky top-0 z-50 flex justify-between items-center bg-white dark:bg-black border-b border-gray-200 dark:border-gray-50/20 pb-3",children:[b("h2",{className:"text-lg sm:text-xl font-bold cursor-pointer ml-3",children:"Users"}),b("div",{className:"hoverEffect flex justify-center items-center p-0 w-9 h-9 mr-3",children:b(Ww,{className:"h-5"})})]}),b("ul",{role:"list",className:" divide-y divide-gray-200 dark:divide-gray-700 w-full px-3",children:t.map(n=>b("li",{className:"py-3 sm:py-4",children:H("div",{className:"flex items-center space-x-3",children:[b("div",{className:"flex-shrink-0",children:b("img",{className:"w-8 h-8 rounded-full bg-gray-600 dark:bg-gray-200 overflow-hidden",src:n.data().avatar==null?"https://about.twitter.com/content/dam/about-twitter/en/brand-toolkit/brand-download-img-1.jpg.twimg.1920.jpg":n.data().avatar,alt:n.data().name})}),H("div",{className:"flex-1 justify-start min-w-0",children:[b("h2",{className:"text-base font-semibold text-gray-900 truncate dark:text-white",children:n.data().name}),b("p",{className:"text-sm text-gray-500 truncate dark:text-gray-400",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Recusandae, maxime."})]}),b(Vt,{to:`/chat/${n.data().id}`,children:b("span",{className:"inline-flex items-center px-4 py-2 text-sm font-medium text-center text-gray-900 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-gray-200 dark:bg-blue-400 dark:text-white dark:border-gray-400 hover:dark:bg-blue-500  cursor-pointer shadow-md",children:"Message"})})]})},n.data().name))})]})})},Jee=({scroll:t})=>{const[e,n]=E.useState("");let{id:r}=jw();function i(){const o=new Date().getTime(),a=Math.floor(Math.random()*1e6);return`${o}-${a}`}async function s(o){o.preventDefault();let l=(oe.currentUser.uid+r).split("").sort().join("");try{const u=kn(Kt,"chat",l),c=await fs(u,{message:fm({id:i(),auther:oe.currentUser.uid,name:oe.currentUser.displayName,avatar:oe.currentUser.photoURL,text:e})});n(""),Ue.success("message sent")}catch{Ue.error("Could not send the message, please try again later.")}}return E.useEffect(()=>{var o;(o=t==null?void 0:t.current)==null||o.scrollIntoView({behavior:"smooth"})},[e]),b(ct,{children:b("form",{className:"w-full sticky bottom-0 flex gap-x-2 bg-white dark:bg-black h-fit",onSubmit:s,children:H("div",{className:"flex items-center justify-between w-full p-3 border-t border-gray-300  bg",children:[b("input",{type:"text",placeholder:"Message",className:"block w-full py-2 pl-4 mx-3 bg-gray-100 rounded-full outline-none focus:text-gray-700",name:"message",required:!0,onChange:o=>n(o.target.value),value:e}),b("button",{type:"submit",children:b("svg",{className:"w-5 h-5 text-gray-500 dark:text-white origin-center transform rotate-90",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:b("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})})]})})})},Zee=({message:t})=>b(ct,{children:t.auther==oe.currentUser.uid?H(qf.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},className:"chat chat-end",children:[b("div",{className:"chat-image avatar",children:b("div",{className:"w-10 rounded-full",children:b("img",{src:t.avatar==null?"https://upload.wikimedia.org/wikipedia/commons/2/2f/No-photo-m.png":t.avatar,alt:"V"})})}),b("div",{className:"chat-header dark:text-white",children:t.name}),b("div",{className:"chat-bubble chat-bubble-primary",children:t.text})]}):H(qf.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},className:"chat chat-start",children:[b("div",{className:"chat-image avatar",children:b("div",{className:"w-10 rounded-full",children:b("img",{src:t.avatar,alt:"V"})})}),b("div",{className:"chat-header dark:text-white",children:t.name}),b("div",{className:"chat-bubble chat-bubble-warning dark:text-white",children:t.text})]})}),ete=()=>{const[t,e]=E.useState([]);let{id:n}=jw();const r=E.useRef();return E.useEffect(()=>{let s=(oe.currentUser.uid+n).split("").sort().join("");const o=kn(Kt,"chat",s);function a(){q1(o,{message:[]})}try{return Yc(o,u=>{u.data()==null?a():e(u.data().message)})}catch(l){Ue.error("Couldn't connect to database, Please try again later"),console.log(l)}},[n]),E.useEffect(()=>{var i;(i=r==null?void 0:r.current)==null||i.scrollIntoView({behavior:"smooth"})}),t?b(ct,{children:H("div",{className:"w-full h-screenoverflow-hidden",children:[b("div",{className:"flex items-center p-3 border-b border-gray-50/20 w-full sticky top-0 bg-white  dark:bg-black z-50 shadow",children:b("span",{className:"text-lg sm:text-xl font-bold cursor-pointer text-gray-600 dark:text-white",children:"Chat"})}),H("div",{className:"w-full p-6 overflow-y-auto h-[calc(100vh-120px)]",children:[b(Jm,{children:t&&t.map((i,s)=>b(Zee,{message:i},s))}),b("div",{ref:r})]}),b(Jee,{scroll:r})]})}):b(lE,{})};var tte=function(){function t(e,n){n===void 0&&(n=[]),this._eventType=e,this._eventFunctions=n}return t.prototype.init=function(){var e=this;this._eventFunctions.forEach(function(n){typeof window<"u"&&window.addEventListener(e._eventType,n)})},t}(),Gf=globalThis&&globalThis.__assign||function(){return Gf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Gf.apply(this,arguments)},Qf={alwaysOpen:!1,activeClasses:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactiveClasses:"text-gray-500 dark:text-gray-400",onOpen:function(){},onClose:function(){},onToggle:function(){}},OD=function(){function t(e,n){e===void 0&&(e=[]),n===void 0&&(n=Qf),this._items=e,this._options=Gf(Gf({},Qf),n),this._init()}return t.prototype._init=function(){var e=this;this._items.length&&this._items.map(function(n){n.active&&e.open(n.id),n.triggerEl.addEventListener("click",function(){e.toggle(n.id)})})},t.prototype.getItem=function(e){return this._items.filter(function(n){return n.id===e})[0]},t.prototype.open=function(e){var n,r,i=this,s=this.getItem(e);this._options.alwaysOpen||this._items.map(function(o){var a,l;o!==s&&((a=o.triggerEl.classList).remove.apply(a,i._options.activeClasses.split(" ")),(l=o.triggerEl.classList).add.apply(l,i._options.inactiveClasses.split(" ")),o.targetEl.classList.add("hidden"),o.triggerEl.setAttribute("aria-expanded","false"),o.active=!1,o.iconEl&&o.iconEl.classList.remove("rotate-180"))}),(n=s.triggerEl.classList).add.apply(n,this._options.activeClasses.split(" ")),(r=s.triggerEl.classList).remove.apply(r,this._options.inactiveClasses.split(" ")),s.triggerEl.setAttribute("aria-expanded","true"),s.targetEl.classList.remove("hidden"),s.active=!0,s.iconEl&&s.iconEl.classList.add("rotate-180"),this._options.onOpen(this,s)},t.prototype.toggle=function(e){var n=this.getItem(e);n.active?this.close(e):this.open(e),this._options.onToggle(this,n)},t.prototype.close=function(e){var n,r,i=this.getItem(e);(n=i.triggerEl.classList).remove.apply(n,this._options.activeClasses.split(" ")),(r=i.triggerEl.classList).add.apply(r,this._options.inactiveClasses.split(" ")),i.targetEl.classList.add("hidden"),i.triggerEl.setAttribute("aria-expanded","false"),i.active=!1,i.iconEl&&i.iconEl.classList.remove("rotate-180"),this._options.onClose(this,i)},t}();typeof window<"u"&&(window.Accordion=OD);function nte(){document.querySelectorAll("[data-accordion]").forEach(function(t){var e=t.getAttribute("data-accordion"),n=t.getAttribute("data-active-classes"),r=t.getAttribute("data-inactive-classes"),i=[];t.querySelectorAll("[data-accordion-target]").forEach(function(s){var o={id:s.getAttribute("data-accordion-target"),triggerEl:s,targetEl:document.querySelector(s.getAttribute("data-accordion-target")),iconEl:s.querySelector("[data-accordion-icon]"),active:s.getAttribute("aria-expanded")==="true"};i.push(o)}),new OD(i,{alwaysOpen:e==="open",activeClasses:n||Qf.activeClasses,inactiveClasses:r||Qf.inactiveClasses})})}var Yf=globalThis&&globalThis.__assign||function(){return Yf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Yf.apply(this,arguments)},eR={onCollapse:function(){},onExpand:function(){},onToggle:function(){}},DD=function(){function t(e,n,r){e===void 0&&(e=null),n===void 0&&(n=null),r===void 0&&(r=eR),this._targetEl=e,this._triggerEl=n,this._options=Yf(Yf({},eR),r),this._visible=!1,this._init()}return t.prototype._init=function(){var e=this;this._triggerEl&&(this._triggerEl.hasAttribute("aria-expanded")?this._visible=this._triggerEl.getAttribute("aria-expanded")==="true":this._visible=!this._targetEl.classList.contains("hidden"),this._triggerEl.addEventListener("click",function(){e.toggle()}))},t.prototype.collapse=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onCollapse(this)},t.prototype.expand=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onExpand(this)},t.prototype.toggle=function(){this._visible?this.collapse():this.expand(),this._options.onToggle(this)},t}();typeof window<"u"&&(window.Collapse=DD);function rte(){document.querySelectorAll("[data-collapse-toggle]").forEach(function(t){var e=t.getAttribute("data-collapse-toggle"),n=document.getElementById(e);n?new DD(n,t):console.error('The target element with id "'.concat(e,'" does not exist. Please check the data-collapse-toggle attribute.'))})}var Vs=globalThis&&globalThis.__assign||function(){return Vs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Vs.apply(this,arguments)},$h={defaultPosition:0,indicators:{items:[],activeClasses:"bg-white dark:bg-gray-800",inactiveClasses:"bg-white/50 dark:bg-gray-800/50 hover:bg-white dark:hover:bg-gray-800"},interval:3e3,onNext:function(){},onPrev:function(){},onChange:function(){}},MD=function(){function t(e,n){e===void 0&&(e=[]),n===void 0&&(n=$h),this._items=e,this._options=Vs(Vs(Vs({},$h),n),{indicators:Vs(Vs({},$h.indicators),n.indicators)}),this._activeItem=this.getItem(this._options.defaultPosition),this._indicators=this._options.indicators.items,this._intervalDuration=this._options.interval,this._intervalInstance=null,this._init()}return t.prototype._init=function(){var e=this;this._items.map(function(n){n.el.classList.add("absolute","inset-0","transition-transform","transform")}),this._getActiveItem()?this.slideTo(this._getActiveItem().position):this.slideTo(0),this._indicators.map(function(n,r){n.el.addEventListener("click",function(){e.slideTo(r)})})},t.prototype.getItem=function(e){return this._items[e]},t.prototype.slideTo=function(e){var n=this._items[e],r={left:n.position===0?this._items[this._items.length-1]:this._items[n.position-1],middle:n,right:n.position===this._items.length-1?this._items[0]:this._items[n.position+1]};this._rotate(r),this._setActiveItem(n),this._intervalInstance&&(this.pause(),this.cycle()),this._options.onChange(this)},t.prototype.next=function(){var e=this._getActiveItem(),n=null;e.position===this._items.length-1?n=this._items[0]:n=this._items[e.position+1],this.slideTo(n.position),this._options.onNext(this)},t.prototype.prev=function(){var e=this._getActiveItem(),n=null;e.position===0?n=this._items[this._items.length-1]:n=this._items[e.position-1],this.slideTo(n.position),this._options.onPrev(this)},t.prototype._rotate=function(e){this._items.map(function(n){n.el.classList.add("hidden")}),e.left.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),e.left.el.classList.add("-translate-x-full","z-10"),e.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),e.middle.el.classList.add("translate-x-0","z-20"),e.right.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),e.right.el.classList.add("translate-x-full","z-10")},t.prototype.cycle=function(){var e=this;typeof window<"u"&&(this._intervalInstance=window.setInterval(function(){e.next()},this._intervalDuration))},t.prototype.pause=function(){clearInterval(this._intervalInstance)},t.prototype._getActiveItem=function(){return this._activeItem},t.prototype._setActiveItem=function(e){var n,r,i=this;this._activeItem=e;var s=e.position;this._indicators.length&&(this._indicators.map(function(o){var a,l;o.el.setAttribute("aria-current","false"),(a=o.el.classList).remove.apply(a,i._options.indicators.activeClasses.split(" ")),(l=o.el.classList).add.apply(l,i._options.indicators.inactiveClasses.split(" "))}),(n=this._indicators[s].el.classList).add.apply(n,this._options.indicators.activeClasses.split(" ")),(r=this._indicators[s].el.classList).remove.apply(r,this._options.indicators.inactiveClasses.split(" ")),this._indicators[s].el.setAttribute("aria-current","true"))},t}();typeof window<"u"&&(window.Carousel=MD);function ite(){document.querySelectorAll("[data-carousel]").forEach(function(t){var e=t.getAttribute("data-carousel-interval"),n=t.getAttribute("data-carousel")==="slide",r=[],i=0;t.querySelectorAll("[data-carousel-item]").length&&Array.from(t.querySelectorAll("[data-carousel-item]")).map(function(u,c){r.push({position:c,el:u}),u.getAttribute("data-carousel-item")==="active"&&(i=c)});var s=[];t.querySelectorAll("[data-carousel-slide-to]").length&&Array.from(t.querySelectorAll("[data-carousel-slide-to]")).map(function(u){s.push({position:parseInt(u.getAttribute("data-carousel-slide-to")),el:u})});var o=new MD(r,{defaultPosition:i,indicators:{items:s},interval:e||$h.interval});n&&o.cycle();var a=t.querySelector("[data-carousel-next]"),l=t.querySelector("[data-carousel-prev]");a&&a.addEventListener("click",function(){o.next()}),l&&l.addEventListener("click",function(){o.prev()})})}var Xf=globalThis&&globalThis.__assign||function(){return Xf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Xf.apply(this,arguments)},tR={transition:"transition-opacity",duration:300,timing:"ease-out",onHide:function(){}},$D=function(){function t(e,n,r){e===void 0&&(e=null),n===void 0&&(n=null),r===void 0&&(r=tR),this._targetEl=e,this._triggerEl=n,this._options=Xf(Xf({},tR),r),this._init()}return t.prototype._init=function(){var e=this;this._triggerEl&&this._triggerEl.addEventListener("click",function(){e.hide()})},t.prototype.hide=function(){var e=this;this._targetEl.classList.add(this._options.transition,"duration-".concat(this._options.duration),this._options.timing,"opacity-0"),setTimeout(function(){e._targetEl.classList.add("hidden")},this._options.duration),this._options.onHide(this,this._targetEl)},t}();typeof window<"u"&&(window.Dismiss=$D);function ste(){document.querySelectorAll("[data-dismiss-target]").forEach(function(t){var e=t.getAttribute("data-dismiss-target"),n=document.querySelector(e);n?new $D(n,t):console.error('The dismiss element with id "'.concat(e,'" does not exist. Please check the data-dismiss-target attribute.'))})}var An="top",rr="bottom",ir="right",In="left",uE="auto",gd=[An,rr,ir,In],Qa="start",bc="end",ote="clippingParents",UD="viewport",Hl="popper",ate="reference",nR=gd.reduce(function(t,e){return t.concat([e+"-"+Qa,e+"-"+bc])},[]),VD=[].concat(gd,[uE]).reduce(function(t,e){return t.concat([e,e+"-"+Qa,e+"-"+bc])},[]),lte="beforeRead",ute="read",cte="afterRead",dte="beforeMain",hte="main",fte="afterMain",pte="beforeWrite",mte="write",gte="afterWrite",yte=[lte,ute,cte,dte,hte,fte,pte,mte,gte];function $r(t){return t?(t.nodeName||"").toLowerCase():null}function sr(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function To(t){var e=sr(t).Element;return t instanceof e||t instanceof Element}function Zn(t){var e=sr(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function cE(t){if(typeof ShadowRoot>"u")return!1;var e=sr(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function vte(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!Zn(s)||!$r(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function wte(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,u){return l[u]="",l},{});!Zn(i)||!$r(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const _te={name:"applyStyles",enabled:!0,phase:"write",fn:vte,effect:wte,requires:["computeStyles"]};function Or(t){return t.split("-")[0]}var ro=Math.max,Jf=Math.min,Ya=Math.round;function V0(){var t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function FD(){return!/^((?!chrome|android).)*safari/i.test(V0())}function Xa(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&Zn(t)&&(i=t.offsetWidth>0&&Ya(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Ya(r.height)/t.offsetHeight||1);var o=To(t)?sr(t):window,a=o.visualViewport,l=!FD()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/i,c=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,h=r.height/s;return{width:d,height:h,top:c,right:u+d,bottom:c+h,left:u,x:u,y:c}}function dE(t){var e=Xa(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function BD(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&cE(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function vi(t){return sr(t).getComputedStyle(t)}function Ete(t){return["table","td","th"].indexOf($r(t))>=0}function ks(t){return((To(t)?t.ownerDocument:t.document)||window.document).documentElement}function tg(t){return $r(t)==="html"?t:t.assignedSlot||t.parentNode||(cE(t)?t.host:null)||ks(t)}function rR(t){return!Zn(t)||vi(t).position==="fixed"?null:t.offsetParent}function bte(t){var e=/firefox/i.test(V0()),n=/Trident/i.test(V0());if(n&&Zn(t)){var r=vi(t);if(r.position==="fixed")return null}var i=tg(t);for(cE(i)&&(i=i.host);Zn(i)&&["html","body"].indexOf($r(i))<0;){var s=vi(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function yd(t){for(var e=sr(t),n=rR(t);n&&Ete(n)&&vi(n).position==="static";)n=rR(n);return n&&($r(n)==="html"||$r(n)==="body"&&vi(n).position==="static")?e:n||bte(t)||e}function hE(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Nu(t,e,n){return ro(t,Jf(e,n))}function Ste(t,e,n){var r=Nu(t,e,n);return r>n?n:r}function jD(){return{top:0,right:0,bottom:0,left:0}}function zD(t){return Object.assign({},jD(),t)}function HD(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var Tte=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,zD(typeof e!="number"?e:HD(e,gd))};function xte(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Or(n.placement),l=hE(a),u=[In,ir].indexOf(a)>=0,c=u?"height":"width";if(!(!s||!o)){var d=Tte(i.padding,n),h=dE(s),f=l==="y"?An:In,m=l==="y"?rr:ir,p=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],w=o[l]-n.rects.reference[l],v=yd(s),g=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,y=p/2-w/2,_=d[f],S=g-h[c]-d[m],k=g/2-h[c]/2+y,R=Nu(_,k,S),I=l;n.modifiersData[r]=(e={},e[I]=R,e.centerOffset=R-k,e)}}function Rte(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||BD(e.elements.popper,i)&&(e.elements.arrow=i))}const kte={name:"arrow",enabled:!0,phase:"main",fn:xte,effect:Rte,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ja(t){return t.split("-")[1]}var Cte={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ate(t){var e=t.x,n=t.y,r=window,i=r.devicePixelRatio||1;return{x:Ya(e*i)/i||0,y:Ya(n*i)/i||0}}function iR(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,d=t.isFixed,h=o.x,f=h===void 0?0:h,m=o.y,p=m===void 0?0:m,w=typeof c=="function"?c({x:f,y:p}):{x:f,y:p};f=w.x,p=w.y;var v=o.hasOwnProperty("x"),g=o.hasOwnProperty("y"),y=In,_=An,S=window;if(u){var k=yd(n),R="clientHeight",I="clientWidth";if(k===sr(n)&&(k=ks(n),vi(k).position!=="static"&&a==="absolute"&&(R="scrollHeight",I="scrollWidth")),k=k,i===An||(i===In||i===ir)&&s===bc){_=rr;var K=d&&k===S&&S.visualViewport?S.visualViewport.height:k[R];p-=K-r.height,p*=l?1:-1}if(i===In||(i===An||i===rr)&&s===bc){y=ir;var z=d&&k===S&&S.visualViewport?S.visualViewport.width:k[I];f-=z-r.width,f*=l?1:-1}}var de=Object.assign({position:a},u&&Cte),ve=c===!0?Ate({x:f,y:p}):{x:f,y:p};if(f=ve.x,p=ve.y,l){var J;return Object.assign({},de,(J={},J[_]=g?"0":"",J[y]=v?"0":"",J.transform=(S.devicePixelRatio||1)<=1?"translate("+f+"px, "+p+"px)":"translate3d("+f+"px, "+p+"px, 0)",J))}return Object.assign({},de,(e={},e[_]=g?p+"px":"",e[y]=v?f+"px":"",e.transform="",e))}function Ite(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:Or(e.placement),variation:Ja(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,iR(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,iR(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Nte={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Ite,data:{}};var rh={passive:!0};function Lte(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=sr(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(c){c.addEventListener("scroll",n.update,rh)}),a&&l.addEventListener("resize",n.update,rh),function(){s&&u.forEach(function(c){c.removeEventListener("scroll",n.update,rh)}),a&&l.removeEventListener("resize",n.update,rh)}}const Pte={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Lte,data:{}};var Ote={left:"right",right:"left",bottom:"top",top:"bottom"};function Uh(t){return t.replace(/left|right|bottom|top/g,function(e){return Ote[e]})}var Dte={start:"end",end:"start"};function sR(t){return t.replace(/start|end/g,function(e){return Dte[e]})}function fE(t){var e=sr(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function pE(t){return Xa(ks(t)).left+fE(t).scrollLeft}function Mte(t,e){var n=sr(t),r=ks(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var u=FD();(u||!u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+pE(t),y:l}}function $te(t){var e,n=ks(t),r=fE(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=ro(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=ro(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+pE(t),l=-r.scrollTop;return vi(i||n).direction==="rtl"&&(a+=ro(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function mE(t){var e=vi(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function WD(t){return["html","body","#document"].indexOf($r(t))>=0?t.ownerDocument.body:Zn(t)&&mE(t)?t:WD(tg(t))}function Lu(t,e){var n;e===void 0&&(e=[]);var r=WD(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=sr(r),o=i?[s].concat(s.visualViewport||[],mE(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(Lu(tg(o)))}function F0(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Ute(t,e){var n=Xa(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function oR(t,e,n){return e===UD?F0(Mte(t,n)):To(e)?Ute(e,n):F0($te(ks(t)))}function Vte(t){var e=Lu(tg(t)),n=["absolute","fixed"].indexOf(vi(t).position)>=0,r=n&&Zn(t)?yd(t):t;return To(r)?e.filter(function(i){return To(i)&&BD(i,r)&&$r(i)!=="body"}):[]}function Fte(t,e,n,r){var i=e==="clippingParents"?Vte(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,u){var c=oR(t,u,r);return l.top=ro(c.top,l.top),l.right=Jf(c.right,l.right),l.bottom=Jf(c.bottom,l.bottom),l.left=ro(c.left,l.left),l},oR(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function qD(t){var e=t.reference,n=t.element,r=t.placement,i=r?Or(r):null,s=r?Ja(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case An:l={x:o,y:e.y-n.height};break;case rr:l={x:o,y:e.y+e.height};break;case ir:l={x:e.x+e.width,y:a};break;case In:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?hE(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(s){case Qa:l[u]=l[u]-(e[c]/2-n[c]/2);break;case bc:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}function Sc(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?ote:a,u=n.rootBoundary,c=u===void 0?UD:u,d=n.elementContext,h=d===void 0?Hl:d,f=n.altBoundary,m=f===void 0?!1:f,p=n.padding,w=p===void 0?0:p,v=zD(typeof w!="number"?w:HD(w,gd)),g=h===Hl?ate:Hl,y=t.rects.popper,_=t.elements[m?g:h],S=Fte(To(_)?_:_.contextElement||ks(t.elements.popper),l,c,o),k=Xa(t.elements.reference),R=qD({reference:k,element:y,strategy:"absolute",placement:i}),I=F0(Object.assign({},y,R)),K=h===Hl?I:k,z={top:S.top-K.top+v.top,bottom:K.bottom-S.bottom+v.bottom,left:S.left-K.left+v.left,right:K.right-S.right+v.right},de=t.modifiersData.offset;if(h===Hl&&de){var ve=de[i];Object.keys(z).forEach(function(J){var $=[ir,rr].indexOf(J)>=0?1:-1,W=[An,rr].indexOf(J)>=0?"y":"x";z[J]+=ve[W]*$})}return z}function Bte(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?VD:l,c=Ja(r),d=c?a?nR:nR.filter(function(m){return Ja(m)===c}):gd,h=d.filter(function(m){return u.indexOf(m)>=0});h.length===0&&(h=d);var f=h.reduce(function(m,p){return m[p]=Sc(t,{placement:p,boundary:i,rootBoundary:s,padding:o})[Or(p)],m},{});return Object.keys(f).sort(function(m,p){return f[m]-f[p]})}function jte(t){if(Or(t)===uE)return[];var e=Uh(t);return[sR(t),e,sR(e)]}function zte(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,m=f===void 0?!0:f,p=n.allowedAutoPlacements,w=e.options.placement,v=Or(w),g=v===w,y=l||(g||!m?[Uh(w)]:jte(w)),_=[w].concat(y).reduce(function(O,ne){return O.concat(Or(ne)===uE?Bte(e,{placement:ne,boundary:c,rootBoundary:d,padding:u,flipVariations:m,allowedAutoPlacements:p}):ne)},[]),S=e.rects.reference,k=e.rects.popper,R=new Map,I=!0,K=_[0],z=0;z<_.length;z++){var de=_[z],ve=Or(de),J=Ja(de)===Qa,$=[An,rr].indexOf(ve)>=0,W=$?"width":"height",Z=Sc(e,{placement:de,boundary:c,rootBoundary:d,altBoundary:h,padding:u}),A=$?J?ir:In:J?rr:An;S[W]>k[W]&&(A=Uh(A));var N=Uh(A),B=[];if(s&&B.push(Z[ve]<=0),a&&B.push(Z[A]<=0,Z[N]<=0),B.every(function(O){return O})){K=de,I=!1;break}R.set(de,B)}if(I)for(var ee=m?3:1,te=function(ne){var X=_.find(function(pe){var we=R.get(pe);if(we)return we.slice(0,ne).every(function(re){return re})});if(X)return K=X,"break"},C=ee;C>0;C--){var P=te(C);if(P==="break")break}e.placement!==K&&(e.modifiersData[r]._skip=!0,e.placement=K,e.reset=!0)}}const Hte={name:"flip",enabled:!0,phase:"main",fn:zte,requiresIfExists:["offset"],data:{_skip:!1}};function aR(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function lR(t){return[An,ir,rr,In].some(function(e){return t[e]>=0})}function Wte(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Sc(e,{elementContext:"reference"}),a=Sc(e,{altBoundary:!0}),l=aR(o,r),u=aR(a,i,s),c=lR(l),d=lR(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const qte={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Wte};function Kte(t,e,n){var r=Or(t),i=[In,An].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[In,ir].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function Gte(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=VD.reduce(function(c,d){return c[d]=Kte(d,e.rects,s),c},{}),a=o[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}const Qte={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Gte};function Yte(t){var e=t.state,n=t.name;e.modifiersData[n]=qD({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Xte={name:"popperOffsets",enabled:!0,phase:"read",fn:Yte,data:{}};function Jte(t){return t==="x"?"y":"x"}function Zte(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,h=n.tether,f=h===void 0?!0:h,m=n.tetherOffset,p=m===void 0?0:m,w=Sc(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),v=Or(e.placement),g=Ja(e.placement),y=!g,_=hE(v),S=Jte(_),k=e.modifiersData.popperOffsets,R=e.rects.reference,I=e.rects.popper,K=typeof p=="function"?p(Object.assign({},e.rects,{placement:e.placement})):p,z=typeof K=="number"?{mainAxis:K,altAxis:K}:Object.assign({mainAxis:0,altAxis:0},K),de=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ve={x:0,y:0};if(k){if(s){var J,$=_==="y"?An:In,W=_==="y"?rr:ir,Z=_==="y"?"height":"width",A=k[_],N=A+w[$],B=A-w[W],ee=f?-I[Z]/2:0,te=g===Qa?R[Z]:I[Z],C=g===Qa?-I[Z]:-R[Z],P=e.elements.arrow,O=f&&P?dE(P):{width:0,height:0},ne=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:jD(),X=ne[$],pe=ne[W],we=Nu(0,R[Z],O[Z]),re=y?R[Z]/2-ee-we-X-z.mainAxis:te-we-X-z.mainAxis,De=y?-R[Z]/2+ee+we+pe+z.mainAxis:C+we+pe+z.mainAxis,Ge=e.elements.arrow&&yd(e.elements.arrow),Me=Ge?_==="y"?Ge.clientTop||0:Ge.clientLeft||0:0,je=(J=de==null?void 0:de[_])!=null?J:0,Dt=A+re-je-Me,Yt=A+De-je,vt=Nu(f?Jf(N,Dt):N,A,f?ro(B,Yt):B);k[_]=vt,ve[_]=vt-A}if(a){var wt,zr=_==="x"?An:In,Sl=_==="x"?rr:ir,Bt=k[S],zn=S==="y"?"height":"width",bi=Bt+w[zr],Si=Bt-w[Sl],Hr=[An,In].indexOf(v)!==-1,Ti=(wt=de==null?void 0:de[S])!=null?wt:0,Cs=Hr?bi:Bt-R[zn]-I[zn]-Ti+z.altAxis,$o=Hr?Bt+R[zn]+I[zn]-Ti-z.altAxis:Si,L=f&&Hr?Ste(Cs,Bt,$o):Nu(f?Cs:bi,Bt,f?$o:Si);k[S]=L,ve[S]=L-Bt}e.modifiersData[r]=ve}}const ene={name:"preventOverflow",enabled:!0,phase:"main",fn:Zte,requiresIfExists:["offset"]};function tne(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function nne(t){return t===sr(t)||!Zn(t)?fE(t):tne(t)}function rne(t){var e=t.getBoundingClientRect(),n=Ya(e.width)/t.offsetWidth||1,r=Ya(e.height)/t.offsetHeight||1;return n!==1||r!==1}function ine(t,e,n){n===void 0&&(n=!1);var r=Zn(e),i=Zn(e)&&rne(e),s=ks(e),o=Xa(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(($r(e)!=="body"||mE(s))&&(a=nne(e)),Zn(e)?(l=Xa(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=pE(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function sne(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function one(t){var e=sne(t);return yte.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function ane(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function lne(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var uR={placement:"bottom",modifiers:[],strategy:"absolute"};function cR(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function une(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?uR:i;return function(a,l,u){u===void 0&&(u=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},uR,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,f={state:c,setOptions:function(v){var g=typeof v=="function"?v(c.options):v;p(),c.options=Object.assign({},s,c.options,g),c.scrollParents={reference:To(a)?Lu(a):a.contextElement?Lu(a.contextElement):[],popper:Lu(l)};var y=one(lne([].concat(r,c.options.modifiers)));return c.orderedModifiers=y.filter(function(_){return _.enabled}),m(),f.update()},forceUpdate:function(){if(!h){var v=c.elements,g=v.reference,y=v.popper;if(cR(g,y)){c.rects={reference:ine(g,yd(y),c.options.strategy==="fixed"),popper:dE(y)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(z){return c.modifiersData[z.name]=Object.assign({},z.data)});for(var _=0;_<c.orderedModifiers.length;_++){if(c.reset===!0){c.reset=!1,_=-1;continue}var S=c.orderedModifiers[_],k=S.fn,R=S.options,I=R===void 0?{}:R,K=S.name;typeof k=="function"&&(c=k({state:c,options:I,name:K,instance:f})||c)}}}},update:ane(function(){return new Promise(function(w){f.forceUpdate(),w(c)})}),destroy:function(){p(),h=!0}};if(!cR(a,l))return f;f.setOptions(u).then(function(w){!h&&u.onFirstUpdate&&u.onFirstUpdate(w)});function m(){c.orderedModifiers.forEach(function(w){var v=w.name,g=w.options,y=g===void 0?{}:g,_=w.effect;if(typeof _=="function"){var S=_({state:c,name:v,instance:f,options:y}),k=function(){};d.push(S||k)}})}function p(){d.forEach(function(w){return w()}),d=[]}return f}}var cne=[Pte,Xte,Nte,_te,Qte,Hte,ene,kte,qte],gE=une({defaultModifiers:cne}),Pi=globalThis&&globalThis.__assign||function(){return Pi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Pi.apply(this,arguments)},ih=globalThis&&globalThis.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},Fs={placement:"bottom",triggerType:"click",offsetSkidding:0,offsetDistance:10,delay:300,onShow:function(){},onHide:function(){},onToggle:function(){}},KD=function(){function t(e,n,r){e===void 0&&(e=null),n===void 0&&(n=null),r===void 0&&(r=Fs),this._targetEl=e,this._triggerEl=n,this._options=Pi(Pi({},Fs),r),this._popperInstance=this._createPopperInstance(),this._visible=!1,this._init()}return t.prototype._init=function(){this._triggerEl&&this._setupEventListeners()},t.prototype._setupEventListeners=function(){var e=this,n=this._getTriggerEvents();this._options.triggerType==="click"&&n.showEvents.forEach(function(r){e._triggerEl.addEventListener(r,function(){e.toggle()})}),this._options.triggerType==="hover"&&(n.showEvents.forEach(function(r){e._triggerEl.addEventListener(r,function(){r==="click"?e.toggle():setTimeout(function(){e.show()},e._options.delay)}),e._targetEl.addEventListener(r,function(){e.show()})}),n.hideEvents.forEach(function(r){e._triggerEl.addEventListener(r,function(){setTimeout(function(){e._targetEl.matches(":hover")||e.hide()},e._options.delay)}),e._targetEl.addEventListener(r,function(){setTimeout(function(){e._triggerEl.matches(":hover")||e.hide()},e._options.delay)})}))},t.prototype._createPopperInstance=function(){return gE(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[this._options.offsetSkidding,this._options.offsetDistance]}}]})},t.prototype._setupClickOutsideListener=function(){var e=this;this._clickOutsideEventListener=function(n){e._handleClickOutside(n,e._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._handleClickOutside=function(e,n){var r=e.target;r!==n&&!n.contains(r)&&!this._triggerEl.contains(r)&&this.isVisible()&&this.hide()},t.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","click"],hideEvents:["mouseleave"]};case"click":return{showEvents:["click"],hideEvents:[]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["click"],hideEvents:[]}}},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},t.prototype.isVisible=function(){return this._visible},t.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._targetEl.classList.add("block"),this._popperInstance.setOptions(function(e){return Pi(Pi({},e),{modifiers:ih(ih([],e.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},t.prototype.hide=function(){this._targetEl.classList.remove("block"),this._targetEl.classList.add("hidden"),this._popperInstance.setOptions(function(e){return Pi(Pi({},e),{modifiers:ih(ih([],e.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._visible=!1,this._removeClickOutsideListener(),this._options.onHide(this)},t}();typeof window<"u"&&(window.Dropdown=KD);function dne(){document.querySelectorAll("[data-dropdown-toggle]").forEach(function(t){var e=t.getAttribute("data-dropdown-toggle"),n=document.getElementById(e);if(n){var r=t.getAttribute("data-dropdown-placement"),i=t.getAttribute("data-dropdown-offset-skidding"),s=t.getAttribute("data-dropdown-offset-distance"),o=t.getAttribute("data-dropdown-trigger"),a=t.getAttribute("data-dropdown-delay");new KD(n,t,{placement:r||Fs.placement,triggerType:o||Fs.triggerType,offsetSkidding:i?parseInt(i):Fs.offsetSkidding,offsetDistance:s?parseInt(s):Fs.offsetDistance,delay:a?parseInt(a):Fs.delay})}else console.error('The dropdown element with id "'.concat(e,'" does not exist. Please check the data-dropdown-toggle attribute.'))})}var Zf=globalThis&&globalThis.__assign||function(){return Zf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Zf.apply(this,arguments)},la={placement:"center",backdropClasses:"bg-gray-900 bg-opacity-50 dark:bg-opacity-80 fixed inset-0 z-40",backdrop:"dynamic",closable:!0,onHide:function(){},onShow:function(){},onToggle:function(){}},B0=function(){function t(e,n){e===void 0&&(e=null),n===void 0&&(n=la),this._targetEl=e,this._options=Zf(Zf({},la),n),this._isHidden=!0,this._backdropEl=null,this._init()}return t.prototype._init=function(){var e=this;this._targetEl&&this._getPlacementClasses().map(function(n){e._targetEl.classList.add(n)})},t.prototype._createBackdrop=function(){var e;if(this._isHidden){var n=document.createElement("div");n.setAttribute("modal-backdrop",""),(e=n.classList).add.apply(e,this._options.backdropClasses.split(" ")),document.querySelector("body").append(n),this._backdropEl=n}},t.prototype._destroyBackdropEl=function(){this._isHidden||document.querySelector("[modal-backdrop]").remove()},t.prototype._setupModalCloseEventListeners=function(){var e=this;this._options.backdrop==="dynamic"&&(this._clickOutsideEventListener=function(n){e._handleOutsideClick(n.target)},this._targetEl.addEventListener("click",this._clickOutsideEventListener,!0)),this._keydownEventListener=function(n){n.key==="Escape"&&e.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},t.prototype._removeModalCloseEventListeners=function(){this._options.backdrop==="dynamic"&&this._targetEl.removeEventListener("click",this._clickOutsideEventListener,!0),document.body.removeEventListener("keydown",this._keydownEventListener,!0)},t.prototype._handleOutsideClick=function(e){(e===this._targetEl||e===this._backdropEl&&this.isVisible())&&this.hide()},t.prototype._getPlacementClasses=function(){switch(this._options.placement){case"top-left":return["justify-start","items-start"];case"top-center":return["justify-center","items-start"];case"top-right":return["justify-end","items-start"];case"center-left":return["justify-start","items-center"];case"center":return["justify-center","items-center"];case"center-right":return["justify-end","items-center"];case"bottom-left":return["justify-start","items-end"];case"bottom-center":return["justify-center","items-end"];case"bottom-right":return["justify-end","items-end"];default:return["justify-center","items-center"]}},t.prototype.toggle=function(){this._isHidden?this.show():this.hide(),this._options.onToggle(this)},t.prototype.show=function(){this.isHidden&&(this._targetEl.classList.add("flex"),this._targetEl.classList.remove("hidden"),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._createBackdrop(),this._isHidden=!1,document.body.classList.add("overflow-hidden"),this._options.closable&&this._setupModalCloseEventListeners(),this._options.onShow(this))},t.prototype.hide=function(){this.isVisible&&(this._targetEl.classList.add("hidden"),this._targetEl.classList.remove("flex"),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._destroyBackdropEl(),this._isHidden=!0,document.body.classList.remove("overflow-hidden"),this._options.closable&&this._removeModalCloseEventListeners(),this._options.onHide(this))},t.prototype.isVisible=function(){return!this._isHidden},t.prototype.isHidden=function(){return this._isHidden},t}();typeof window<"u"&&(window.Modal=B0);var sh=function(t,e){return e.some(function(n){return n.id===t})?e.find(function(n){return n.id===t}):null};function hne(){var t=[];document.querySelectorAll("[data-modal-target]").forEach(function(e){var n=e.getAttribute("data-modal-target"),r=document.getElementById(n);if(r){var i=r.getAttribute("data-modal-placement"),s=r.getAttribute("data-modal-backdrop");sh(n,t)||t.push({id:n,object:new B0(r,{placement:i||la.placement,backdrop:s||la.backdrop})})}else console.error("Modal with id ".concat(n," does not exist. Are you sure that the data-modal-target attribute points to the correct modal id?."))}),document.querySelectorAll("[data-modal-toggle]").forEach(function(e){var n=e.getAttribute("data-modal-toggle"),r=document.getElementById(n);if(r){var i=r.getAttribute("data-modal-placement"),s=r.getAttribute("data-modal-backdrop"),o=sh(n,t);o||(o={id:n,object:new B0(r,{placement:i||la.placement,backdrop:s||la.backdrop})},t.push(o)),e.addEventListener("click",function(){o.object.toggle()})}else console.error("Modal with id ".concat(n," does not exist. Are you sure that the data-modal-toggle attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-show]").forEach(function(e){var n=e.getAttribute("data-modal-show"),r=document.getElementById(n);if(r){var i=sh(n,t);i?e.addEventListener("click",function(){i.object.isHidden&&i.object.show()}):console.error("Modal with id ".concat(n," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(n," does not exist. Are you sure that the data-modal-show attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-hide]").forEach(function(e){var n=e.getAttribute("data-modal-hide"),r=document.getElementById(n);if(r){var i=sh(n,t);i?e.addEventListener("click",function(){i.object.isVisible&&i.object.hide()}):console.error("Modal with id ".concat(n," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(n," does not exist. Are you sure that the data-modal-hide attribute points to the correct modal id?"))})}var ep=globalThis&&globalThis.__assign||function(){return ep=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ep.apply(this,arguments)},Bs={placement:"left",bodyScrolling:!1,backdrop:!0,edge:!1,edgeOffset:"bottom-[60px]",backdropClasses:"bg-gray-900 bg-opacity-50 dark:bg-opacity-80 fixed inset-0 z-30",onShow:function(){},onHide:function(){},onToggle:function(){}},GD=function(){function t(e,n){e===void 0&&(e=null),n===void 0&&(n=Bs),this._targetEl=e,this._options=ep(ep({},Bs),n),this._visible=!1,this._init()}return t.prototype._init=function(){var e=this;this._targetEl&&(this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.classList.add("transition-transform")),this._getPlacementClasses(this._options.placement).base.map(function(n){e._targetEl.classList.add(n)}),document.addEventListener("keydown",function(n){n.key==="Escape"&&e.isVisible()&&e.hide()})},t.prototype.hide=function(){var e=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(n){e._targetEl.classList.remove(n)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(n){e._targetEl.classList.add(n)})):(this._getPlacementClasses(this._options.placement).active.map(function(n){e._targetEl.classList.remove(n)}),this._getPlacementClasses(this._options.placement).inactive.map(function(n){e._targetEl.classList.add(n)})),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._options.bodyScrolling||document.body.classList.remove("overflow-hidden"),this._options.backdrop&&this._destroyBackdropEl(),this._visible=!1,this._options.onHide(this)},t.prototype.show=function(){var e=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(n){e._targetEl.classList.add(n)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(n){e._targetEl.classList.remove(n)})):(this._getPlacementClasses(this._options.placement).active.map(function(n){e._targetEl.classList.add(n)}),this._getPlacementClasses(this._options.placement).inactive.map(function(n){e._targetEl.classList.remove(n)})),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._options.bodyScrolling||document.body.classList.add("overflow-hidden"),this._options.backdrop&&this._createBackdrop(),this._visible=!0,this._options.onShow(this)},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},t.prototype._createBackdrop=function(){var e,n=this;if(!this._visible){var r=document.createElement("div");r.setAttribute("drawer-backdrop",""),(e=r.classList).add.apply(e,this._options.backdropClasses.split(" ")),document.querySelector("body").append(r),r.addEventListener("click",function(){n.hide()})}},t.prototype._destroyBackdropEl=function(){this._visible&&document.querySelector("[drawer-backdrop]").remove()},t.prototype._getPlacementClasses=function(e){switch(e){case"top":return{base:["top-0","left-0","right-0"],active:["transform-none"],inactive:["-translate-y-full"]};case"right":return{base:["right-0","top-0"],active:["transform-none"],inactive:["translate-x-full"]};case"bottom":return{base:["bottom-0","left-0","right-0"],active:["transform-none"],inactive:["translate-y-full"]};case"left":return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]};case"bottom-edge":return{base:["left-0","top-0"],active:["transform-none"],inactive:["translate-y-full",this._options.edgeOffset]};default:return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]}}},t.prototype.isHidden=function(){return!this._visible},t.prototype.isVisible=function(){return this._visible},t}();typeof window<"u"&&(window.Drawer=GD);var oh=function(t,e){if(e.some(function(n){return n.id===t}))return e.find(function(n){return n.id===t})};function fne(){var t=[];document.querySelectorAll("[data-drawer-target]").forEach(function(e){var n=e.getAttribute("data-drawer-target"),r=document.getElementById(n);if(r){var i=e.getAttribute("data-drawer-placement"),s=e.getAttribute("data-drawer-body-scrolling"),o=e.getAttribute("data-drawer-backdrop"),a=e.getAttribute("data-drawer-edge"),l=e.getAttribute("data-drawer-edge-offset");oh(n,t)||t.push({id:n,object:new GD(r,{placement:i||Bs.placement,bodyScrolling:s?s==="true":Bs.bodyScrolling,backdrop:o?o==="true":Bs.backdrop,edge:a?a==="true":Bs.edge,edgeOffset:l||Bs.edgeOffset})})}else console.error("Drawer with id ".concat(n," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-toggle]").forEach(function(e){var n=e.getAttribute("data-drawer-toggle"),r=document.getElementById(n);if(r){var i=oh(n,t);i?e.addEventListener("click",function(){i.object.toggle()}):console.error("Drawer with id ".concat(n," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(n," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-dismiss], [data-drawer-hide]").forEach(function(e){var n=e.getAttribute("data-drawer-dismiss")?e.getAttribute("data-drawer-dismiss"):e.getAttribute("data-drawer-hide"),r=document.getElementById(n);if(r){var i=oh(n,t);i?e.addEventListener("click",function(){i.object.hide()}):console.error("Drawer with id ".concat(n," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(n," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id"))}),document.querySelectorAll("[data-drawer-show]").forEach(function(e){var n=e.getAttribute("data-drawer-show"),r=document.getElementById(n);if(r){var i=oh(n,t);i?e.addEventListener("click",function(){i.object.show()}):console.error("Drawer with id ".concat(n," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(n," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))})}var tp=globalThis&&globalThis.__assign||function(){return tp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},tp.apply(this,arguments)},dR={defaultTabId:null,activeClasses:"text-blue-600 hover:text-blue-600 dark:text-blue-500 dark:hover:text-blue-500 border-blue-600 dark:border-blue-500",inactiveClasses:"dark:border-transparent text-gray-500 hover:text-gray-600 dark:text-gray-400 border-gray-100 hover:border-gray-300 dark:border-gray-700 dark:hover:text-gray-300",onShow:function(){}},QD=function(){function t(e,n){e===void 0&&(e=[]),n===void 0&&(n=dR),this._items=e,this._activeTab=n?this.getTab(n.defaultTabId):null,this._options=tp(tp({},dR),n),this._init()}return t.prototype._init=function(){var e=this;this._items.length&&(this._activeTab||this._setActiveTab(this._items[0]),this.show(this._activeTab.id,!0),this._items.map(function(n){n.triggerEl.addEventListener("click",function(){e.show(n.id)})}))},t.prototype.getActiveTab=function(){return this._activeTab},t.prototype._setActiveTab=function(e){this._activeTab=e},t.prototype.getTab=function(e){return this._items.filter(function(n){return n.id===e})[0]},t.prototype.show=function(e,n){var r,i,s=this;n===void 0&&(n=!1);var o=this.getTab(e);o===this._activeTab&&!n||(this._items.map(function(a){var l,u;a!==o&&((l=a.triggerEl.classList).remove.apply(l,s._options.activeClasses.split(" ")),(u=a.triggerEl.classList).add.apply(u,s._options.inactiveClasses.split(" ")),a.targetEl.classList.add("hidden"),a.triggerEl.setAttribute("aria-selected","false"))}),(r=o.triggerEl.classList).add.apply(r,this._options.activeClasses.split(" ")),(i=o.triggerEl.classList).remove.apply(i,this._options.inactiveClasses.split(" ")),o.triggerEl.setAttribute("aria-selected","true"),o.targetEl.classList.remove("hidden"),this._setActiveTab(o),this._options.onShow(this,o))},t}();typeof window<"u"&&(window.Tabs=QD);function pne(){document.querySelectorAll("[data-tabs-toggle]").forEach(function(t){var e=[],n=null;t.querySelectorAll('[role="tab"]').forEach(function(r){var i=r.getAttribute("aria-selected")==="true",s={id:r.getAttribute("data-tabs-target"),triggerEl:r,targetEl:document.querySelector(r.getAttribute("data-tabs-target"))};e.push(s),i&&(n=s.id)}),new QD(e,{defaultTabId:n})})}var Oi=globalThis&&globalThis.__assign||function(){return Oi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Oi.apply(this,arguments)},ah=globalThis&&globalThis.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},np={placement:"top",triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},YD=function(){function t(e,n,r){e===void 0&&(e=null),n===void 0&&(n=null),r===void 0&&(r=np),this._targetEl=e,this._triggerEl=n,this._options=Oi(Oi({},np),r),this._popperInstance=this._createPopperInstance(),this._visible=!1,this._init()}return t.prototype._init=function(){this._triggerEl&&this._setupEventListeners()},t.prototype._setupEventListeners=function(){var e=this,n=this._getTriggerEvents();n.showEvents.forEach(function(r){e._triggerEl.addEventListener(r,function(){e.show()})}),n.hideEvents.forEach(function(r){e._triggerEl.addEventListener(r,function(){e.hide()})})},t.prototype._createPopperInstance=function(){return gE(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,8]}}]})},t.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},t.prototype._setupKeydownListener=function(){var e=this;this._keydownEventListener=function(n){n.key==="Escape"&&e.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},t.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},t.prototype._setupClickOutsideListener=function(){var e=this;this._clickOutsideEventListener=function(n){e._handleClickOutside(n,e._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._handleClickOutside=function(e,n){var r=e.target;r!==n&&!n.contains(r)&&!this._triggerEl.contains(r)&&this.isVisible()&&this.hide()},t.prototype.isVisible=function(){return this._visible},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},t.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(e){return Oi(Oi({},e),{modifiers:ah(ah([],e.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},t.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(e){return Oi(Oi({},e),{modifiers:ah(ah([],e.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},t}();typeof window<"u"&&(window.Tooltip=YD);function mne(){document.querySelectorAll("[data-tooltip-target]").forEach(function(t){var e=t.getAttribute("data-tooltip-target"),n=document.getElementById(e);if(n){var r=t.getAttribute("data-tooltip-trigger"),i=t.getAttribute("data-tooltip-placement");new YD(n,t,{placement:i||np.placement,triggerType:r||np.triggerType})}else console.error('The tooltip element with id "'.concat(e,'" does not exist. Please check the data-tooltip-target attribute.'))})}var Di=globalThis&&globalThis.__assign||function(){return Di=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Di.apply(this,arguments)},lh=globalThis&&globalThis.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},Pu={placement:"top",offset:10,triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},XD=function(){function t(e,n,r){e===void 0&&(e=null),n===void 0&&(n=null),r===void 0&&(r=Pu),this._targetEl=e,this._triggerEl=n,this._options=Di(Di({},Pu),r),this._popperInstance=this._createPopperInstance(),this._visible=!1,this._init()}return t.prototype._init=function(){this._triggerEl&&this._setupEventListeners()},t.prototype._setupEventListeners=function(){var e=this,n=this._getTriggerEvents();n.showEvents.forEach(function(r){e._triggerEl.addEventListener(r,function(){e.show()}),e._targetEl.addEventListener(r,function(){e.show()})}),n.hideEvents.forEach(function(r){e._triggerEl.addEventListener(r,function(){setTimeout(function(){e._targetEl.matches(":hover")||e.hide()},100)}),e._targetEl.addEventListener(r,function(){setTimeout(function(){e._triggerEl.matches(":hover")||e.hide()},100)})})},t.prototype._createPopperInstance=function(){return gE(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,this._options.offset]}}]})},t.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},t.prototype._setupKeydownListener=function(){var e=this;this._keydownEventListener=function(n){n.key==="Escape"&&e.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},t.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},t.prototype._setupClickOutsideListener=function(){var e=this;this._clickOutsideEventListener=function(n){e._handleClickOutside(n,e._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._handleClickOutside=function(e,n){var r=e.target;r!==n&&!n.contains(r)&&!this._triggerEl.contains(r)&&this.isVisible()&&this.hide()},t.prototype.isVisible=function(){return this._visible},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},t.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(e){return Di(Di({},e),{modifiers:lh(lh([],e.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},t.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(e){return Di(Di({},e),{modifiers:lh(lh([],e.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},t}();typeof window<"u"&&(window.Popover=XD);function gne(){document.querySelectorAll("[data-popover-target]").forEach(function(t){var e=t.getAttribute("data-popover-target"),n=document.getElementById(e);if(n){var r=t.getAttribute("data-popover-trigger"),i=t.getAttribute("data-popover-placement"),s=t.getAttribute("data-popover-offset");new XD(n,t,{placement:i||Pu.placement,offset:s?parseInt(s):Pu.offset,triggerType:r||Pu.triggerType})}else console.error('The popover element with id "'.concat(e,'" does not exist. Please check the data-popover-target attribute.'))})}var rp=globalThis&&globalThis.__assign||function(){return rp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},rp.apply(this,arguments)},j0={triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},JD=function(){function t(e,n,r,i){e===void 0&&(e=null),n===void 0&&(n=null),r===void 0&&(r=null),i===void 0&&(i=j0),this._parentEl=e,this._triggerEl=n,this._targetEl=r,this._options=rp(rp({},j0),i),this._visible=!1,this._init()}return t.prototype._init=function(){var e=this;if(this._triggerEl){var n=this._getTriggerEventTypes(this._options.triggerType);n.showEvents.forEach(function(r){e._triggerEl.addEventListener(r,function(){e.show()}),e._targetEl.addEventListener(r,function(){e.show()})}),n.hideEvents.forEach(function(r){e._parentEl.addEventListener(r,function(){e._parentEl.matches(":hover")||e.hide()})})}},t.prototype.hide=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onHide(this)},t.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onShow(this)},t.prototype.toggle=function(){this._visible?this.hide():this.show()},t.prototype.isHidden=function(){return!this._visible},t.prototype.isVisible=function(){return this._visible},t.prototype._getTriggerEventTypes=function(e){switch(e){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},t}();typeof window<"u"&&(window.Dial=JD);function yne(){document.querySelectorAll("[data-dial-init]").forEach(function(t){var e=t.querySelector("[data-dial-toggle]");if(e){var n=e.getAttribute("data-dial-toggle"),r=document.getElementById(n);if(r){var i=e.getAttribute("data-dial-trigger");new JD(t,e,r,{triggerType:i||j0.triggerType})}else console.error("Dial with id ".concat(n," does not exist. Are you sure that the data-dial-toggle attribute points to the correct modal id?"))}else console.error("Dial with id ".concat(t.id," does not have a trigger element. Are you sure that the data-dial-toggle attribute exists?"))})}var vne=new tte("load",[nte,rte,ite,ste,dne,hne,fne,pne,mne,gne,yne]);vne.init();const wne=()=>{const[t,e]=E.useState({}),[n,r]=Mr(Um);let i=Vr();E.useEffect(()=>{td(oe,o=>{o&&e(o)})},[t]);function s(){oe.signOut(),i("/login")}return b(ct,{children:b("div",{className:"fixed bottom-0 z-50 w-full h-16 -translate-x-1/2 bg-white border-t border-gray-200 left-1/2 dark:bg-black dark:border-gray-600 sm:hidden",children:H("div",{className:"grid h-full max-w-lg grid-cols-5 mx-auto",children:[b(Vt,{to:"/",title:"Homep",className:"inline-flex flex-col items-center justify-center px-5 hover:bg-gray-50 dark:hover:bg-gray-800 group",children:b("svg",{className:"w-6 h-6 mb-1 text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:b("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})})}),b(Vt,{to:"/users",title:"Users",className:"inline-flex flex-col items-center justify-center px-5 hover:bg-gray-50 dark:hover:bg-gray-800 group",children:b(JC,{className:"w-6 h-6 mb-1 text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-500"})}),b("div",{onClick:()=>r(o=>!o),title:"New Post",className:"flex items-center justify-center",children:b("button",{className:"inline-flex items-center justify-center w-10 h-10 font-medium bg-blue-600 rounded-full hover:bg-blue-700 group focus:ring-4 focus:ring-blue-300 focus:outline-none dark:focus:ring-blue-800",children:b("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:b("path",{clipRule:"evenodd",fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"})})})}),b(Vt,{to:"/explore",title:"Explore",className:"inline-flex flex-col items-center justify-center px-5 hover:bg-gray-50 dark:hover:bg-gray-800 group",children:b(JV,{className:"w-6 h-6 mb-1 text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-500"})}),b("div",{title:"Logout",onClick:s,className:"inline-flex flex-col items-center justify-center px-5 hover:bg-gray-50 dark:hover:bg-gray-800 group cursor-pointer",children:b(QV,{className:"w-6 h-6 mb-1 text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-500"})})]})})})};var ip={},_ne={get exports(){return ip},set exports(t){ip=t}},xo={},sp={},Ene={get exports(){return sp},set exports(t){sp=t}},bne="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Sne=bne,Tne=Sne;function ZD(){}function eM(){}eM.resetWarningCache=ZD;var xne=function(){function t(r,i,s,o,a,l){if(l!==Tne){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:eM,resetWarningCache:ZD};return n.PropTypes=n,n};Ene.exports=xne();var op={},Rne={get exports(){return op},set exports(t){op=t}},vr={},Tc={},kne={get exports(){return Tc},set exports(t){Tc=t}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",r="contents",i=/input|select|textarea|button|object|iframe/;function s(d,h){return h.getPropertyValue("overflow")!=="visible"||d.scrollWidth<=0&&d.scrollHeight<=0}function o(d){var h=d.offsetWidth<=0&&d.offsetHeight<=0;if(h&&!d.innerHTML)return!0;try{var f=window.getComputedStyle(d),m=f.getPropertyValue("display");return h?m!==r&&s(d,f):m===n}catch{return console.warn("Failed to inspect element style"),!1}}function a(d){for(var h=d,f=d.getRootNode&&d.getRootNode();h&&h!==document.body;){if(f&&h===f&&(h=f.host.parentNode),o(h))return!1;h=h.parentNode}return!0}function l(d,h){var f=d.nodeName.toLowerCase(),m=i.test(f)&&!d.disabled||f==="a"&&d.href||h;return m&&a(d)}function u(d){var h=d.getAttribute("tabindex");h===null&&(h=void 0);var f=isNaN(h);return(f||h>=0)&&l(d,!f)}function c(d){var h=[].slice.call(d.querySelectorAll("*"),0).reduce(function(f,m){return f.concat(m.shadowRoot?c(m.shadowRoot):[m])},[]);return h.filter(u)}t.exports=e.default})(kne,Tc);Object.defineProperty(vr,"__esModule",{value:!0});vr.resetState=Nne;vr.log=Lne;vr.handleBlur=xc;vr.handleFocus=Rc;vr.markForFocusLater=Pne;vr.returnFocus=One;vr.popWithoutFocus=Dne;vr.setupScopedFocus=Mne;vr.teardownScopedFocus=$ne;var Cne=Tc,Ane=Ine(Cne);function Ine(t){return t&&t.__esModule?t:{default:t}}var Za=[],ua=null,z0=!1;function Nne(){Za=[]}function Lne(){}function xc(){z0=!0}function Rc(){if(z0){if(z0=!1,!ua)return;setTimeout(function(){if(!ua.contains(document.activeElement)){var t=(0,Ane.default)(ua)[0]||ua;t.focus()}},0)}}function Pne(){Za.push(document.activeElement)}function One(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=null;try{Za.length!==0&&(e=Za.pop(),e.focus({preventScroll:t}));return}catch{console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}}function Dne(){Za.length>0&&Za.pop()}function Mne(t){ua=t,window.addEventListener?(window.addEventListener("blur",xc,!1),document.addEventListener("focus",Rc,!0)):(window.attachEvent("onBlur",xc),document.attachEvent("onFocus",Rc))}function $ne(){ua=null,window.addEventListener?(window.removeEventListener("blur",xc),document.removeEventListener("focus",Rc)):(window.detachEvent("onBlur",xc),document.detachEvent("onFocus",Rc))}var ap={},Une={get exports(){return ap},set exports(t){ap=t}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=Tc,r=i(n);function i(a){return a&&a.__esModule?a:{default:a}}function s(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return a.activeElement.shadowRoot?s(a.activeElement.shadowRoot):a.activeElement}function o(a,l){var u=(0,r.default)(a);if(!u.length){l.preventDefault();return}var c=void 0,d=l.shiftKey,h=u[0],f=u[u.length-1],m=s();if(a===m){if(!d)return;c=f}if(f===m&&!d&&(c=h),h===m&&d&&(c=f),c){l.preventDefault(),c.focus();return}var p=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),w=p!=null&&p[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(w){var v=u.indexOf(m);if(v>-1&&(v+=d?-1:1),c=u[v],typeof c>"u"){l.preventDefault(),c=d?f:h,c.focus();return}l.preventDefault(),c.focus()}}t.exports=e.default})(Une,ap);var wr={},Vne=function(){},Fne=Vne,mr={},H0={},Bne={get exports(){return H0},set exports(t){H0=t}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=n:window.ExecutionEnvironment=n})()})(Bne);Object.defineProperty(mr,"__esModule",{value:!0});mr.canUseDOM=mr.SafeNodeList=mr.SafeHTMLCollection=void 0;var jne=H0,zne=Hne(jne);function Hne(t){return t&&t.__esModule?t:{default:t}}var ng=zne.default,Wne=ng.canUseDOM?window.HTMLElement:{};mr.SafeHTMLCollection=ng.canUseDOM?window.HTMLCollection:{};mr.SafeNodeList=ng.canUseDOM?window.NodeList:{};mr.canUseDOM=ng.canUseDOM;mr.default=Wne;Object.defineProperty(wr,"__esModule",{value:!0});wr.resetState=Yne;wr.log=Xne;wr.assertNodeList=tM;wr.setElement=Jne;wr.validateElement=yE;wr.hide=Zne;wr.show=ere;wr.documentNotReadyOrSSRTesting=tre;var qne=Fne,Kne=Qne(qne),Gne=mr;function Qne(t){return t&&t.__esModule?t:{default:t}}var qn=null;function Yne(){qn&&(qn.removeAttribute?qn.removeAttribute("aria-hidden"):qn.length!=null?qn.forEach(function(t){return t.removeAttribute("aria-hidden")}):document.querySelectorAll(qn).forEach(function(t){return t.removeAttribute("aria-hidden")})),qn=null}function Xne(){}function tM(t,e){if(!t||!t.length)throw new Error("react-modal: No elements were found for selector "+e+".")}function Jne(t){var e=t;if(typeof e=="string"&&Gne.canUseDOM){var n=document.querySelectorAll(e);tM(n,e),e=n}return qn=e||qn,qn}function yE(t){var e=t||qn;return e?Array.isArray(e)||e instanceof HTMLCollection||e instanceof NodeList?e:[e]:((0,Kne.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function Zne(t){var e=!0,n=!1,r=void 0;try{for(var i=yE(t)[Symbol.iterator](),s;!(e=(s=i.next()).done);e=!0){var o=s.value;o.setAttribute("aria-hidden","true")}}catch(a){n=!0,r=a}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}}function ere(t){var e=!0,n=!1,r=void 0;try{for(var i=yE(t)[Symbol.iterator](),s;!(e=(s=i.next()).done);e=!0){var o=s.value;o.removeAttribute("aria-hidden")}}catch(a){n=!0,r=a}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}}function tre(){qn=null}var El={};Object.defineProperty(El,"__esModule",{value:!0});El.resetState=nre;El.log=rre;var Ou={},Du={};function hR(t,e){t.classList.remove(e)}function nre(){var t=document.getElementsByTagName("html")[0];for(var e in Ou)hR(t,Ou[e]);var n=document.body;for(var r in Du)hR(n,Du[r]);Ou={},Du={}}function rre(){}var ire=function(e,n){return e[n]||(e[n]=0),e[n]+=1,n},sre=function(e,n){return e[n]&&(e[n]-=1),n},ore=function(e,n,r){r.forEach(function(i){ire(n,i),e.add(i)})},are=function(e,n,r){r.forEach(function(i){sre(n,i),n[i]===0&&e.remove(i)})};El.add=function(e,n){return ore(e.classList,e.nodeName.toLowerCase()=="html"?Ou:Du,n.split(" "))};El.remove=function(e,n){return are(e.classList,e.nodeName.toLowerCase()=="html"?Ou:Du,n.split(" "))};var bl={};Object.defineProperty(bl,"__esModule",{value:!0});bl.log=ure;bl.resetState=cre;function lre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var nM=function t(){var e=this;lre(this,t),this.register=function(n){e.openInstances.indexOf(n)===-1&&(e.openInstances.push(n),e.emit("register"))},this.deregister=function(n){var r=e.openInstances.indexOf(n);r!==-1&&(e.openInstances.splice(r,1),e.emit("deregister"))},this.subscribe=function(n){e.subscribers.push(n)},this.emit=function(n){e.subscribers.forEach(function(r){return r(n,e.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},lp=new nM;function ure(){console.log("portalOpenInstances ----------"),console.log(lp.openInstances.length),lp.openInstances.forEach(function(t){return console.log(t)}),console.log("end portalOpenInstances ----------")}function cre(){lp=new nM}bl.default=lp;var vE={};Object.defineProperty(vE,"__esModule",{value:!0});vE.resetState=pre;vE.log=mre;var dre=bl,hre=fre(dre);function fre(t){return t&&t.__esModule?t:{default:t}}var Zt=void 0,ur=void 0,io=[];function pre(){for(var t=[Zt,ur],e=0;e<t.length;e++){var n=t[e];n&&n.parentNode&&n.parentNode.removeChild(n)}Zt=ur=null,io=[]}function mre(){console.log("bodyTrap ----------"),console.log(io.length);for(var t=[Zt,ur],e=0;e<t.length;e++){var n=t[e],r=n||{};console.log(r.nodeName,r.className,r.id)}console.log("edn bodyTrap ----------")}function fR(){io.length!==0&&io[io.length-1].focusContent()}function gre(t,e){!Zt&&!ur&&(Zt=document.createElement("div"),Zt.setAttribute("data-react-modal-body-trap",""),Zt.style.position="absolute",Zt.style.opacity="0",Zt.setAttribute("tabindex","0"),Zt.addEventListener("focus",fR),ur=Zt.cloneNode(),ur.addEventListener("focus",fR)),io=e,io.length>0?(document.body.firstChild!==Zt&&document.body.insertBefore(Zt,document.body.firstChild),document.body.lastChild!==ur&&document.body.appendChild(ur)):(Zt.parentElement&&Zt.parentElement.removeChild(Zt),ur.parentElement&&ur.parentElement.removeChild(ur))}hre.default.subscribe(gre);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function($){for(var W=1;W<arguments.length;W++){var Z=arguments[W];for(var A in Z)Object.prototype.hasOwnProperty.call(Z,A)&&($[A]=Z[A])}return $},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},i=function(){function $(W,Z){for(var A=0;A<Z.length;A++){var N=Z[A];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(W,N.key,N)}}return function(W,Z,A){return Z&&$(W.prototype,Z),A&&$(W,A),W}}(),s=E,o=sp,a=S(o),l=vr,u=_(l),c=ap,d=S(c),h=wr,f=_(h),m=El,p=_(m),w=mr,v=S(w),g=bl,y=S(g);function _($){if($&&$.__esModule)return $;var W={};if($!=null)for(var Z in $)Object.prototype.hasOwnProperty.call($,Z)&&(W[Z]=$[Z]);return W.default=$,W}function S($){return $&&$.__esModule?$:{default:$}}function k($,W){if(!($ instanceof W))throw new TypeError("Cannot call a class as a function")}function R($,W){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W&&(typeof W=="object"||typeof W=="function")?W:$}function I($,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof W);$.prototype=Object.create(W&&W.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf($,W):$.__proto__=W)}var K={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},z=function(W){return W.code==="Tab"||W.keyCode===9},de=function(W){return W.code==="Escape"||W.keyCode===27},ve=0,J=function($){I(W,$);function W(Z){k(this,W);var A=R(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,Z));return A.setOverlayRef=function(N){A.overlay=N,A.props.overlayRef&&A.props.overlayRef(N)},A.setContentRef=function(N){A.content=N,A.props.contentRef&&A.props.contentRef(N)},A.afterClose=function(){var N=A.props,B=N.appElement,ee=N.ariaHideApp,te=N.htmlOpenClassName,C=N.bodyOpenClassName,P=N.parentSelector,O=P&&P().ownerDocument||document;C&&p.remove(O.body,C),te&&p.remove(O.getElementsByTagName("html")[0],te),ee&&ve>0&&(ve-=1,ve===0&&f.show(B)),A.props.shouldFocusAfterRender&&(A.props.shouldReturnFocusAfterClose?(u.returnFocus(A.props.preventScroll),u.teardownScopedFocus()):u.popWithoutFocus()),A.props.onAfterClose&&A.props.onAfterClose(),y.default.deregister(A)},A.open=function(){A.beforeOpen(),A.state.afterOpen&&A.state.beforeClose?(clearTimeout(A.closeTimer),A.setState({beforeClose:!1})):(A.props.shouldFocusAfterRender&&(u.setupScopedFocus(A.node),u.markForFocusLater()),A.setState({isOpen:!0},function(){A.openAnimationFrame=requestAnimationFrame(function(){A.setState({afterOpen:!0}),A.props.isOpen&&A.props.onAfterOpen&&A.props.onAfterOpen({overlayEl:A.overlay,contentEl:A.content})})}))},A.close=function(){A.props.closeTimeoutMS>0?A.closeWithTimeout():A.closeWithoutTimeout()},A.focusContent=function(){return A.content&&!A.contentHasFocus()&&A.content.focus({preventScroll:!0})},A.closeWithTimeout=function(){var N=Date.now()+A.props.closeTimeoutMS;A.setState({beforeClose:!0,closesAt:N},function(){A.closeTimer=setTimeout(A.closeWithoutTimeout,A.state.closesAt-Date.now())})},A.closeWithoutTimeout=function(){A.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},A.afterClose)},A.handleKeyDown=function(N){z(N)&&(0,d.default)(A.content,N),A.props.shouldCloseOnEsc&&de(N)&&(N.stopPropagation(),A.requestClose(N))},A.handleOverlayOnClick=function(N){A.shouldClose===null&&(A.shouldClose=!0),A.shouldClose&&A.props.shouldCloseOnOverlayClick&&(A.ownerHandlesClose()?A.requestClose(N):A.focusContent()),A.shouldClose=null},A.handleContentOnMouseUp=function(){A.shouldClose=!1},A.handleOverlayOnMouseDown=function(N){!A.props.shouldCloseOnOverlayClick&&N.target==A.overlay&&N.preventDefault()},A.handleContentOnClick=function(){A.shouldClose=!1},A.handleContentOnMouseDown=function(){A.shouldClose=!1},A.requestClose=function(N){return A.ownerHandlesClose()&&A.props.onRequestClose(N)},A.ownerHandlesClose=function(){return A.props.onRequestClose},A.shouldBeClosed=function(){return!A.state.isOpen&&!A.state.beforeClose},A.contentHasFocus=function(){return document.activeElement===A.content||A.content.contains(document.activeElement)},A.buildClassName=function(N,B){var ee=(typeof B>"u"?"undefined":r(B))==="object"?B:{base:K[N],afterOpen:K[N]+"--after-open",beforeClose:K[N]+"--before-close"},te=ee.base;return A.state.afterOpen&&(te=te+" "+ee.afterOpen),A.state.beforeClose&&(te=te+" "+ee.beforeClose),typeof B=="string"&&B?te+" "+B:te},A.attributesFromObject=function(N,B){return Object.keys(B).reduce(function(ee,te){return ee[N+"-"+te]=B[te],ee},{})},A.state={afterOpen:!1,beforeClose:!1},A.shouldClose=null,A.moveFromContentToOverlay=null,A}return i(W,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(A,N){this.props.isOpen&&!A.isOpen?this.open():!this.props.isOpen&&A.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!N.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var A=this.props,N=A.appElement,B=A.ariaHideApp,ee=A.htmlOpenClassName,te=A.bodyOpenClassName,C=A.parentSelector,P=C&&C().ownerDocument||document;te&&p.add(P.body,te),ee&&p.add(P.getElementsByTagName("html")[0],ee),B&&(ve+=1,f.hide(N)),y.default.register(this)}},{key:"render",value:function(){var A=this.props,N=A.id,B=A.className,ee=A.overlayClassName,te=A.defaultStyles,C=A.children,P=B?{}:te.content,O=ee?{}:te.overlay;if(this.shouldBeClosed())return null;var ne={ref:this.setOverlayRef,className:this.buildClassName("overlay",ee),style:n({},O,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},X=n({id:N,ref:this.setContentRef,style:n({},P,this.props.style.content),className:this.buildClassName("content",B),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),pe=this.props.contentElement(X,C);return this.props.overlayElement(ne,pe)}}]),W}(s.Component);J.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},J.propTypes={isOpen:a.default.bool.isRequired,defaultStyles:a.default.shape({content:a.default.object,overlay:a.default.object}),style:a.default.shape({content:a.default.object,overlay:a.default.object}),className:a.default.oneOfType([a.default.string,a.default.object]),overlayClassName:a.default.oneOfType([a.default.string,a.default.object]),parentSelector:a.default.func,bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,ariaHideApp:a.default.bool,appElement:a.default.oneOfType([a.default.instanceOf(v.default),a.default.instanceOf(w.SafeHTMLCollection),a.default.instanceOf(w.SafeNodeList),a.default.arrayOf(a.default.instanceOf(v.default))]),onAfterOpen:a.default.func,onAfterClose:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,role:a.default.string,contentLabel:a.default.string,aria:a.default.object,data:a.default.object,children:a.default.node,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func,testId:a.default.string},e.default=J,t.exports=e.default})(Rne,op);function rM(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function iM(t){function e(n){var r=this.constructor.getDerivedStateFromProps(t,n);return r??null}this.setState(e.bind(this))}function sM(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}rM.__suppressDeprecationWarning=!0;iM.__suppressDeprecationWarning=!0;sM.__suppressDeprecationWarning=!0;function yre(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,r=null,i=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var s=t.displayName||t.name,o=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+s+" uses "+o+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=rM,e.componentWillReceiveProps=iM),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=sM;var a=e.componentDidUpdate;e.componentDidUpdate=function(u,c,d){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:d;a.call(this,u,c,h)}}return t}const vre=Object.freeze(Object.defineProperty({__proto__:null,polyfill:yre},Symbol.toStringTag,{value:"Module"})),wre=dM(vre);Object.defineProperty(xo,"__esModule",{value:!0});xo.bodyOpenClassName=xo.portalClassName=void 0;var pR=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_re=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),oM=E,up=vd(oM),Ere=$u,cp=vd(Ere),bre=sp,Re=vd(bre),Sre=op,mR=vd(Sre),Tre=wr,xre=kre(Tre),Wi=mr,gR=vd(Wi),Rre=wre;function kre(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function vd(t){return t&&t.__esModule?t:{default:t}}function Cre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yR(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Are(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ire=xo.portalClassName="ReactModalPortal",Nre=xo.bodyOpenClassName="ReactModal__Body--open",$s=Wi.canUseDOM&&cp.default.createPortal!==void 0,vR=function(e){return document.createElement(e)},wR=function(){return $s?cp.default.createPortal:cp.default.unstable_renderSubtreeIntoContainer};function uh(t){return t()}var wd=function(t){Are(e,t);function e(){var n,r,i,s;Cre(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=yR(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.removePortal=function(){!$s&&cp.default.unmountComponentAtNode(i.node);var u=uh(i.props.parentSelector);u&&u.contains(i.node)?u.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(u){i.portal=u},i.renderPortal=function(u){var c=wR(),d=c(i,up.default.createElement(mR.default,pR({defaultStyles:e.defaultStyles},u)),i.node);i.portalRef(d)},r),yR(i,s)}return _re(e,[{key:"componentDidMount",value:function(){if(Wi.canUseDOM){$s||(this.node=vR("div")),this.node.className=this.props.portalClassName;var r=uh(this.props.parentSelector);r.appendChild(this.node),!$s&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(r){var i=uh(r.parentSelector),s=uh(this.props.parentSelector);return{prevParent:i,nextParent:s}}},{key:"componentDidUpdate",value:function(r,i,s){if(Wi.canUseDOM){var o=this.props,a=o.isOpen,l=o.portalClassName;r.portalClassName!==l&&(this.node.className=l);var u=s.prevParent,c=s.nextParent;c!==u&&(u.removeChild(this.node),c.appendChild(this.node)),!(!r.isOpen&&!a)&&!$s&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!Wi.canUseDOM||!this.node||!this.portal)){var r=this.portal.state,i=Date.now(),s=r.isOpen&&this.props.closeTimeoutMS&&(r.closesAt||i+this.props.closeTimeoutMS);s?(r.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,s-i)):this.removePortal()}}},{key:"render",value:function(){if(!Wi.canUseDOM||!$s)return null;!this.node&&$s&&(this.node=vR("div"));var r=wR();return r(up.default.createElement(mR.default,pR({ref:this.portalRef,defaultStyles:e.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(r){xre.setElement(r)}}]),e}(oM.Component);wd.propTypes={isOpen:Re.default.bool.isRequired,style:Re.default.shape({content:Re.default.object,overlay:Re.default.object}),portalClassName:Re.default.string,bodyOpenClassName:Re.default.string,htmlOpenClassName:Re.default.string,className:Re.default.oneOfType([Re.default.string,Re.default.shape({base:Re.default.string.isRequired,afterOpen:Re.default.string.isRequired,beforeClose:Re.default.string.isRequired})]),overlayClassName:Re.default.oneOfType([Re.default.string,Re.default.shape({base:Re.default.string.isRequired,afterOpen:Re.default.string.isRequired,beforeClose:Re.default.string.isRequired})]),appElement:Re.default.oneOfType([Re.default.instanceOf(gR.default),Re.default.instanceOf(Wi.SafeHTMLCollection),Re.default.instanceOf(Wi.SafeNodeList),Re.default.arrayOf(Re.default.instanceOf(gR.default))]),onAfterOpen:Re.default.func,onRequestClose:Re.default.func,closeTimeoutMS:Re.default.number,ariaHideApp:Re.default.bool,shouldFocusAfterRender:Re.default.bool,shouldCloseOnOverlayClick:Re.default.bool,shouldReturnFocusAfterClose:Re.default.bool,preventScroll:Re.default.bool,parentSelector:Re.default.func,aria:Re.default.object,data:Re.default.object,role:Re.default.string,contentLabel:Re.default.string,shouldCloseOnEsc:Re.default.bool,overlayRef:Re.default.func,contentRef:Re.default.func,id:Re.default.string,overlayElement:Re.default.func,contentElement:Re.default.func};wd.defaultProps={isOpen:!1,portalClassName:Ire,bodyOpenClassName:Nre,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,n){return up.default.createElement("div",e,n)},contentElement:function(e,n){return up.default.createElement("div",e,n)}};wd.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,Rre.polyfill)(wd);xo.default=wd;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=xo,r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}e.default=r.default,t.exports=e.default})(_ne,ip);const aM=W0(ip),Lre=()=>{var c,d,h;const[t,e]=Mr(N_),[n]=Mr(L_),[r,i]=E.useState({}),[s,o]=E.useState("");let a=Vr();E.useEffect(()=>{const f=kn(Kt,"posts",n);return Yc(f,p=>{i(p.data())})},[n,Kt]);function l(){const f=new Date().getTime(),m=Math.floor(Math.random()*1e6);return`${f}-${m}`}async function u(){var f,m,p;try{const w=kn(Kt,"posts",n),v=await fs(w,{comments:fm({id:l(),autherId:(f=oe==null?void 0:oe.currentUser)==null?void 0:f.uid,comment:s,name:(m=oe==null?void 0:oe.currentUser)==null?void 0:m.displayName,userImg:(p=oe==null?void 0:oe.currentUser)==null?void 0:p.photoURL})});e(!1),o(""),a(`post/${n}`),Ue.success("Comment Added")}catch{Ue.error("Could not add the comment, please try again later.")}}return b("div",{className:"text-black dark:text-white",children:t&&b(aM,{isOpen:t,contentLabel:"Comments",ariaHideApp:!1,onRequestClose:()=>e(!1),className:"max-w-xl w-[90%] absolute top-24 left-[50%] translate-x-[-50%] bg-white dark:bg-black border-2 border-gray-200 outline-none rounded-xl shadow-md text-black dark:text-white",children:H("div",{className:"p-1",children:[b("div",{className:"border-b border-gray-200 py-2 px-1.5",children:b("div",{onClick:()=>e(f=>!f),className:"hoverEffect p-0 h-9 w-9 flex items-center justify-center",children:b(ZC,{className:"h-[22px] text-gray-700"})})}),H("div",{className:"p-2 flex justify-start items-center relative",children:[b("span",{className:"w-0.5 h-full -z-10 absolute left-7 top-11 bg-gray-300"}),b("img",{src:(r==null?void 0:r.autherImg)==null?"https://about.twitter.com/content/dam/about-twitter/en/brand-toolkit/brand-download-img-1.jpg.twimg.1920.jpg":r==null?void 0:r.autherImg,alt:"userimg",width:50,className:"h-11 w-11 rounded-full mr-4"}),b("h4",{className:"font-bold text-[15px] sm:text-[16px] hover:underline capitalize mr-1",children:r==null?void 0:r.autherName}),H("span",{className:"text-sm sm:text-[15px] text-gray-700 dark:text-gray-300 mr-1",children:["@",r==null?void 0:r.autherName.replace(/\s/g,"").toLowerCase()]}),"  ",b("span",{className:"text-sm sm:text-[15px] hover:underline text-gray-700 dark:text-gray-300 ml-1",children:(c=r==null?void 0:r.timestamp)==null?void 0:c.seconds})]}),b("p",{className:"text-gray-500 dark:text-white text-[15px] sm:text-[17px] ml-20 mb-2",children:r==null?void 0:r.text}),H("div",{className:"flex  py-3 px-2 gap-x-3",children:[b("img",{src:((d=oe==null?void 0:oe.currentUser)==null?void 0:d.photoURL)==null?"https://about.twitter.com/content/dam/about-twitter/en/brand-toolkit/brand-download-img-1.jpg.twimg.1920.jpg":(h=oe==null?void 0:oe.currentUser)==null?void 0:h.photoURL,alt:"user",className:"h-11 w-11 rounded-full cursor-pointer brightness-95"}),H("div",{className:"w-full divide-y divide-gray-200 dark:divide-gray-50/20",children:[b("div",{className:"",children:b("textarea",{value:s,onChange:f=>o(f.target.value),className:"w-full rounded-md border-none focus:ring-0 text-lg placeholder:text-gray-700 dark:placeholder:text-white tracking-wide min-h-[50px] text-gray-700 dark:text-white resize-none dark:bg-black",rows:2,placeholder:"Tweet your reply"})}),H("div",{className:"flex justify-between items-center pt-2.5",children:[H("div",{className:"flex",children:[b("label",{htmlFor:"file",children:b(YC,{className:"hoverEffect text-sky-500 hover:bg-sky-100 h-10 w-10 p-2"})}),b("input",{type:"file",id:"file",className:"hidden"}),b(qC,{className:"hoverEffect text-sky-500 hover:bg-sky-100 h-10 w-10 p-2"})]}),b("button",{onClick:u,className:"bg-blue-400 text-white px-4 py-1.5 rounded-full font-bold shadow-md hover:shadow-lg hover:brightness-95 active:scale-95 disabled:scale-100 disabled:opacity-50",children:"Reply"})]})]})]})]})})})},Pre=({comment:t,auther:e,firebaseID:n})=>{var i;async function r(s){const o=kn(Kt,"posts",n);try{window.confirm("Are you sure you want to delete your comment")&&await fs(o,{comments:G1(s)})}catch(a){console.log(a)}}return b(ct,{children:b(qf.article,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"w-full h-screenoverflow-hidden py3",children:H("div",{className:`flex justify-between items-start px-3 py-1 cursor-pointer border-b\r
				border-b-gray-200 dark:border-blue-50/20 relative`,children:[b("div",{className:"group relative",children:b(Vt,{to:"/",children:b("img",{src:(t==null?void 0:t.userImg)==null?"https://about.twitter.com/content/dam/about-twitter/en/brand-toolkit/brand-download-img-1.jpg.twimg.1920.jpg":t==null?void 0:t.userImg,alt:"userimg",width:50,className:"h-11 w-11 rounded-full mr-4 mt-3"})})}),H("div",{className:"w-full ",children:[b("div",{className:"flex justify-between items-center ",children:H("div",{className:"flex justify-start items-center gap-x-1 whitespace-nowrap",children:[b(Vt,{to:"/",children:b("h4",{className:"font-bold text-[15px] sm:text-[16px] hover:underline capitalize text-black dark:text-white",children:t==null?void 0:t.name})}),H("span",{className:"text-sm sm:text-[15px] text-gray-700 dark:text-gray-300  ",children:["@",t==null?void 0:t.name]})]})}),b("p",{className:"text-gray-800 dark:text-white text-[15px] sm:text-[16px] font-semibold mb-2 mt-[-10px] py-3",children:t==null?void 0:t.comment}),b("div",{className:"flex justify-between items-center text-gray-500 dark:text-white my-1",children:(t==null?void 0:t.autherId)===((i=oe==null?void 0:oe.currentUser)==null?void 0:i.uid)&&b(qw,{onClick:()=>{r(t)},className:"h-9 w-9 hoverEffect p-2 hover:text-red-600 hover:bg-red-100"})})]})]})})})},Ore=()=>{var p,w,v,g;const[t,e]=E.useState(!0),[n,r]=E.useState(!1),[i,s]=E.useState(null),[o,a]=Mr(N_),[l,u]=Mr(L_),[c,d]=E.useState({});let{id:h}=jw();Vr(),E.useEffect(()=>{let y=kn(Kt,"posts",h);return Yc(y,S=>{s(S.id),d(S.data()),e(!1)})},[]),E.useEffect(()=>{(c==null?void 0:c.Likes)!==void 0&&(c.Likes.findIndex(_=>{var S;return _.id===((S=oe==null?void 0:oe.currentUser)==null?void 0:S.uid)})>-1?r(!0):r(!1))},[c]);async function f(){if(window.confirm("Are you sure you want to delete this post?")){let y=kn(Kt,"posts",i);await MN(y),c!=null&&c.image&&await NL(d_(h_,`posts/${i}`))}}async function m(){var _,S;const y=kn(Kt,"posts",i);try{if(n)await fs(y,{Likes:G1({id:(_=oe==null?void 0:oe.currentUser)==null?void 0:_.uid})});else{const k=await fs(y,{Likes:fm({id:(S=oe==null?void 0:oe.currentUser)==null?void 0:S.uid})})}}catch(k){console.log(k)}}return t?b(lE,{}):c?b(ct,{children:H("div",{className:"mb-3",children:[H("article",{className:"w-full h-screenoverflow-hidden py3",children:[b("div",{className:"flex items-center p-3 border-b border-gray-50/20 w-full sticky top-0 bg-white  dark:bg-black z-50 shadow mb-3",children:b("span",{className:"text-lg sm:text-xl font-bold cursor-pointer text-gray-600 dark:text-white",children:"Post"})}),H("div",{className:`flex justify-between items-start px-3 py-1 cursor-pointer border-b\r
				border-b-gray-200 dark:border-blue-50/20 relative`,children:[b("div",{className:"group relative",children:b(Vt,{to:"/",children:b("img",{src:(c==null?void 0:c.autherImg)==null?"https://upload.wikimedia.org/wikipedia/commons/2/2f/No-photo-m.png":c==null?void 0:c.autherImg,alt:"user",width:50,className:"h-11 w-11 rounded-full mr-4 mt-3"})})}),H("div",{className:"w-full ",children:[b("div",{className:"flex justify-between items-center ",children:H("div",{className:"flex justify-start items-center gap-x-1 whitespace-nowrap",children:[b(Vt,{to:"/",children:b("h4",{className:"font-bold text-[15px] sm:text-[16px] hover:underline capitalize text-black dark:text-white",children:c==null?void 0:c.autherName})}),H("span",{className:"text-sm sm:text-[15px] text-gray-700 dark:text-gray-300  ",children:["@",c==null?void 0:c.autherName]}),"  ",b("span",{className:"text-sm sm:text-[15px] hover:underline text-gray-700 dark:text-gray-300",children:(p=c==null?void 0:c.timestamp)==null?void 0:p.seconds})]})}),b("p",{className:"text-gray-800 dark:text-white text-[15px] sm:text-[16px] font-semibold mb-2 mt-[-10px] py-3",children:c==null?void 0:c.text}),(c==null?void 0:c.image)&&b("img",{src:c==null?void 0:c.image,alt:"post image",loading:"lazy",className:"rounded-2xl mr-2 w-full max-h-[500px] object-cover"}),H("div",{className:"flex justify-between items-center text-gray-500 dark:text-white my-1",children:[H("div",{className:"flex items-center",children:[b(HC,{onClick:()=>{a(y=>!y),u(i)},className:"h-9 w-9 hoverEffect p-2 hover:text-blue-500 hover:bg-sky-100"}),((w=c==null?void 0:c.comments)==null?void 0:w.length)>0&&b("span",{className:"text-sm",children:(v=c==null?void 0:c.comments)==null?void 0:v.length})]}),b(XC,{className:"h-9 w-9 hoverEffect p-2 hover:text-green-500 hover:bg-green-100"}),H("div",{className:"flex items-center",children:[n?b(jC,{onClick:m,className:"h-9 w-9 hoverEffect p-2 text-red-600 hover:bg-red-100"}):b(QC,{onClick:m,className:"h-9 w-9 hoverEffect p-2 hover:text-pink-500 hover:bg-pink-100"}),(c==null?void 0:c.Likes.length)>0&&b("span",{className:`${n&&"text-red-600"} text-sm`,children:c==null?void 0:c.Likes.length})]}),b(zC,{className:"h-9 w-9 hoverEffect p-2 hover:text-blue-500 hover:bg-sky-100"}),(c==null?void 0:c.auther)===((g=oe==null?void 0:oe.currentUser)==null?void 0:g.uid)&&b(qw,{onClick:f,className:"h-9 w-9 hoverEffect p-2 hover:text-red-600 hover:bg-red-100"})]})]})]})]}),b(Jm,{children:c==null?void 0:c.comments.map(y=>b(Pre,{comment:y,auther:c==null?void 0:c.auther,firebaseID:i},y==null?void 0:y.id))})]})}):b(ct,{children:H("div",{children:[b("div",{className:"flex items-center p-3 border-b border-gray-50/20 w-full sticky top-0 bg-white  dark:bg-black z-50 shadow mb-3",children:b("span",{className:"text-lg sm:text-xl font-bold cursor-pointer text-gray-600 dark:text-white",children:"Post"})}),H("div",{className:"text-black dark:text-white text-center flex flex-col justify-center items-center",children:[b("p",{className:"mb-5 text-3xl font-semibold",children:"No Post Found"}),H(Vt,{to:"/",className:"hoverEffect bg-blue-500 hover:bg-blue-600 dark:hover:bg-blue-600 flex justify-center xl:justify-start items-center text-white dark:text-white text-lg gap-x-3 w-fit px-5 ",children:[b(qV,{className:"h-7"}),b("span",{className:"hidden xl:inline",children:"Home"})]})]})]})})},Dre=()=>{const[t,e]=Mr(Um);return b("div",{className:"text-black dark:text-white",children:t&&b(aM,{isOpen:t,contentLabel:"Comments",ariaHideApp:!1,onRequestClose:()=>e(!1),className:"max-w-xl w-[90%] min-h-[500px] absolute top-24 left-[50%] translate-x-[-50%] bg-white dark:bg-black border-2 border-gray-200 outline-none rounded-xl shadow-md text-black dark:text-white ",children:b(LD,{})})})},Mre=()=>{const[t,e]=E.useState(!1),[n,r]=E.useState({name:"",email:"",password:""}),{name:i,email:s,password:o}=n;let a=Vr();function l(c){r(d=>({...d,[c.target.id]:c.target.value}))}async function u(c){c.preventDefault();try{const d=await Cz(oe,s,o);Nz(oe.currentUser,{displayName:i,photoURL:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png"});const h=d.user,f={...n};delete f.password,f.timestamp=K1(),f.id=h.uid,f.avatar="https://upload.wikimedia.org/wikipedia/commons/2/2f/No-photo-m.png",await q1(kn(Kt,"users",h.uid),f),a("/"),Ue.success(`Welcome ${h.displayName}`)}catch(d){console.log(d.message),Ue.error("Please enter a valid email and password")}}return b(ct,{children:H("section",{className:"min-h-screen flex flex-col justify-center items-center",children:[b("h1",{className:"text-3xl text-center font-bold text-black dark:text-white",children:"Sign Up"}),H("div",{className:"flex justify-center items-center flex-wrap px-6 py-12 max-w-6xl mx-auto",children:[b("div",{className:"md:w-[67%] lg:w-[50%] mb-12 md:mb-6 ",children:b("img",{src:"https://i.cbc.ca/1.6690705.1671451365!/fileImage/httpImage/1245718932.jpg",alt:"sign-up",title:"sign up",className:"w-full rounded-2xl"})}),H("div",{className:"w-full md:w-[67%] lg:w-[40%] lg:ml20 lg:ml-20",children:[H("form",{onSubmit:u,children:[b("input",{className:"w-full px-4 py-2 text-xl text-gray-700 bg-white border-gray-300 rounded mb-6",type:"text",placeholder:"Username",id:"name",value:i,onChange:l}),b("input",{className:"w-full px-4 py-2 text-xl text-gray-700 bg-white border-gray-300 rounded mb-6",type:"text",placeholder:"Email address",id:"email",value:s,onChange:l}),H("div",{className:"relative mb-6",children:[b("input",{className:"w-full px-4 py-2 text-xl text-gray-700 bg-white border-gray-300 rounded",type:t?"text":"password",placeholder:"Password",id:"password",value:o,onChange:l}),t?b(KC,{className:"h-7 absolute right-3 top-3 cursor-pointer text-xl text-black",onClick:()=>{e(c=>!c)},title:"Hide Password"}):b(GC,{className:"h-7 absolute right-3 top-3 cursor-pointer text-xl",onClick:()=>{e(c=>!c)},title:"Show Password"})]}),b("div",{className:"flex justify-between  whitespace-nowrap text-sm sm:text-lg text-black dark:text-white",children:H("p",{className:"mb-6",children:["Already have an account?",b(Vt,{to:"/login",className:"text-red-600 hover:text-red-800 transition duration-200 ease-in-out ml-1",children:"Sign in"})]})}),b("button",{className:"w-full bg-blue-600 hover:bg-blue-700 active:bg-blue-800 transition duration-150 ease-in-out text-white text-sm font-medium shadow-md hover:shadow-lg uppercase px-7 py-3 rounded-md",children:"Sign Up"}),b("div",{className:"flex items-center before:flex-1 my-4 before:border-t before:border-gray-300  before:dark:border-white after:flex-1 after:border-t after:border-gray-300 after:dark:border-white ",children:b("p",{className:"text-center font-semibold mx-4 text-black dark:text-white",children:"OR"})})]}),b(PD,{})]})]})]})})},$re=()=>b(ct,{children:H("main",{className:"home-container",children:[b(eQ,{}),b(Jm,{children:b("section",{className:"outlet-container",children:b(nV,{})})}),b(yY,{}),b(wne,{}),b(Lre,{}),b(Dre,{}),b(gV,{})]})});let Ure=dV([{path:"/",element:b($re,{}),children:[{index:!0,element:b(Fo,{children:b(Wee,{})})},{path:"/profile/:id",element:b(Fo,{children:b(Yee,{})})},{path:"/explore",element:b(Fo,{children:b(qee,{})})},{path:"/users",element:b(Fo,{children:b(Xee,{})})},{path:"/post/:id",element:b(Fo,{children:b(Ore,{})})},{path:"/chat/:id",element:b(Fo,{children:b(ete,{})})}]},{path:"/sign-up",element:b(Mre,{})},{path:"/login",element:b(Kee,{})}]);function Vre(){return b(ct,{children:H(ZG,{children:[b(eV,{router:Ure}),b(U0,{position:"top-right",autoClose:2005,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})})}Ay.createRoot(document.getElementById("root")).render(b(_e.StrictMode,{children:b(Vre,{})}));
